(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function El(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Oe={},Ps=[],on=()=>{},vh=()=>!1,vo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Sl=t=>t.startsWith("onUpdate:"),it=Object.assign,Il=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sg=Object.prototype.hasOwnProperty,Ae=(t,e)=>sg.call(t,e),ae=Array.isArray,Ls=t=>ai(t)==="[object Map]",yo=t=>ai(t)==="[object Set]",zc=t=>ai(t)==="[object Date]",de=t=>typeof t=="function",Ye=t=>typeof t=="string",Yt=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",yh=t=>(Pe(t)||de(t))&&de(t.then)&&de(t.catch),bh=Object.prototype.toString,ai=t=>bh.call(t),rg=t=>ai(t).slice(8,-1),Ch=t=>ai(t)==="[object Object]",xl=t=>Ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yr=El(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bo=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},ig=/-\w/g,Ft=bo(t=>t.replace(ig,e=>e.slice(1).toUpperCase())),og=/\B([A-Z])/g,gs=bo(t=>t.replace(og,"-$1").toLowerCase()),Co=bo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ea=bo(t=>t?`on${Co(t)}`:""),$n=(t,e)=>!Object.is(t,e),Oi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},wh=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},qi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ag=t=>{const e=Ye(t)?Number(t):NaN;return isNaN(e)?t:e};let Hc;const wo=()=>Hc||(Hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Eo(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ye(s)?dg(s):Eo(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ye(t)||Pe(t))return t}const lg=/;(?![^(]*\))/g,cg=/:([^]+)/,ug=/\/\*[^]*?\*\//g;function dg(t){const e={};return t.replace(ug,"").split(lg).forEach(n=>{if(n){const s=n.split(cg);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function qe(t){let e="";if(Ye(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const s=qe(t[n]);s&&(e+=s+" ")}else if(Pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const hg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fg=El(hg);function Eh(t){return!!t||t===""}function pg(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=So(t[s],e[s]);return n}function So(t,e){if(t===e)return!0;let n=zc(t),s=zc(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Yt(t),s=Yt(e),n||s)return t===e;if(n=ae(t),s=ae(e),n||s)return n&&s?pg(t,e):!1;if(n=Pe(t),s=Pe(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!So(t[o],e[o]))return!1}}return String(t)===String(e)}function mg(t,e){return t.findIndex(n=>So(n,e))}const Sh=t=>!!(t&&t.__v_isRef===!0),q=t=>Ye(t)?t:t==null?"":ae(t)||Pe(t)&&(t.toString===bh||!de(t.toString))?Sh(t)?q(t.value):JSON.stringify(t,Ih,2):String(t),Ih=(t,e)=>Sh(e)?Ih(t,e.value):Ls(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[ta(s,i)+" =>"]=r,n),{})}:yo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ta(n))}:Yt(e)?ta(e):Pe(e)&&!ae(e)&&!Ch(e)?String(e):e,ta=(t,e="")=>{var n;return Yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class xh{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!e&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=pt;try{return pt=this,e()}finally{pt=n}}}on(){++this._on===1&&(this.prevScope=pt,pt=this)}off(){this._on>0&&--this._on===0&&(pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Tl(t){return new xh(t)}function Th(){return pt}function gg(t,e=!1){pt&&pt.cleanups.push(t)}let De;const na=new WeakSet;class kh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,na.has(this)&&(na.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qc(this),Rh(this);const e=De,n=Vt;De=this,Vt=!0;try{return this.fn()}finally{Ph(this),De=e,Vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Nl(e);this.deps=this.depsTail=void 0,qc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?na.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ra(this)&&this.run()}get dirty(){return Ra(this)}}let Ah=0,br,Cr;function Nh(t,e=!1){if(t.flags|=8,e){t.next=Cr,Cr=t;return}t.next=br,br=t}function kl(){Ah++}function Al(){if(--Ah>0)return;if(Cr){let e=Cr;for(Cr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;br;){let e=br;for(br=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Rh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ph(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Nl(s),_g(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Ra(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Lh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Lh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Mr)||(t.globalVersion=Mr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ra(t))))return;t.flags|=2;const e=t.dep,n=De,s=Vt;De=t,Vt=!0;try{Rh(t);const r=t.fn(t._value);(e.version===0||$n(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{De=n,Vt=s,Ph(t),t.flags&=-3}}function Nl(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Nl(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function _g(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Vt=!0;const Oh=[];function Sn(){Oh.push(Vt),Vt=!1}function In(){const t=Oh.pop();Vt=t===void 0?!0:t}function qc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=De;De=void 0;try{e()}finally{De=n}}}let Mr=0;class vg{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Rl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!De||!Vt||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new vg(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,Mh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=s)}return n}trigger(e){this.version++,Mr++,this.notify(e)}notify(e){kl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Al()}}}function Mh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Mh(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ji=new WeakMap,us=Symbol(""),Pa=Symbol(""),Dr=Symbol("");function mt(t,e,n){if(Vt&&De){let s=ji.get(t);s||ji.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Rl),r.map=s,r.key=n),r.track()}}function _n(t,e,n,s,r,i){const o=ji.get(t);if(!o){Mr++;return}const a=l=>{l&&l.trigger()};if(kl(),e==="clear")o.forEach(a);else{const l=ae(t),c=l&&xl(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,h)=>{(h==="length"||h===Dr||!Yt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Dr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(us)),Ls(t)&&a(o.get(Pa)));break;case"delete":l||(a(o.get(us)),Ls(t)&&a(o.get(Pa)));break;case"set":Ls(t)&&a(o.get(us));break}}Al()}function yg(t,e){const n=ji.get(t);return n&&n.get(e)}function Es(t){const e=ye(t);return e===t?e:(mt(e,"iterate",Dr),$t(t)?e:e.map(lt))}function Io(t){return mt(t=ye(t),"iterate",Dr),t}const bg={__proto__:null,[Symbol.iterator](){return sa(this,Symbol.iterator,lt)},concat(...t){return Es(this).concat(...t.map(e=>ae(e)?Es(e):e))},entries(){return sa(this,"entries",t=>(t[1]=lt(t[1]),t))},every(t,e){return dn(this,"every",t,e,void 0,arguments)},filter(t,e){return dn(this,"filter",t,e,n=>n.map(lt),arguments)},find(t,e){return dn(this,"find",t,e,lt,arguments)},findIndex(t,e){return dn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return dn(this,"findLast",t,e,lt,arguments)},findLastIndex(t,e){return dn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return dn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ra(this,"includes",t)},indexOf(...t){return ra(this,"indexOf",t)},join(t){return Es(this).join(t)},lastIndexOf(...t){return ra(this,"lastIndexOf",t)},map(t,e){return dn(this,"map",t,e,void 0,arguments)},pop(){return ur(this,"pop")},push(...t){return ur(this,"push",t)},reduce(t,...e){return jc(this,"reduce",t,e)},reduceRight(t,...e){return jc(this,"reduceRight",t,e)},shift(){return ur(this,"shift")},some(t,e){return dn(this,"some",t,e,void 0,arguments)},splice(...t){return ur(this,"splice",t)},toReversed(){return Es(this).toReversed()},toSorted(t){return Es(this).toSorted(t)},toSpliced(...t){return Es(this).toSpliced(...t)},unshift(...t){return ur(this,"unshift",t)},values(){return sa(this,"values",lt)}};function sa(t,e,n){const s=Io(t),r=s[e]();return s!==t&&!$t(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Cg=Array.prototype;function dn(t,e,n,s,r,i){const o=Io(t),a=o!==t&&!$t(t),l=o[e];if(l!==Cg[e]){const d=l.apply(t,i);return a?lt(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,lt(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,s);return a&&r?r(u):u}function jc(t,e,n,s){const r=Io(t);let i=n;return r!==t&&($t(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,lt(a),l,t)}),r[e](i,...s)}function ra(t,e,n){const s=ye(t);mt(s,"iterate",Dr);const r=s[e](...n);return(r===-1||r===!1)&&Ol(n[0])?(n[0]=ye(n[0]),s[e](...n)):r}function ur(t,e,n=[]){Sn(),kl();const s=ye(t)[e].apply(t,n);return Al(),In(),s}const wg=El("__proto__,__v_isRef,__isVue"),Dh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yt));function Eg(t){Yt(t)||(t=String(t));const e=ye(this);return mt(e,"has",t),e.hasOwnProperty(t)}class $h{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Lg:qh:i?Hh:zh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ae(e);if(!r){let l;if(o&&(l=bg[n]))return l;if(n==="hasOwnProperty")return Eg}const a=Reflect.get(e,n,He(e)?e:s);return(Yt(n)?Dh.has(n):wg(n))||(r||mt(e,"get",n),i)?a:He(a)?o&&xl(n)?a:a.value:Pe(a)?r?Uh(a):li(a):a}}class Fh extends $h{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=jn(i);if(!$t(s)&&!jn(s)&&(i=ye(i),s=ye(s)),!ae(e)&&He(i)&&!He(s))return l||(i.value=s),!0}const o=ae(e)&&xl(n)?Number(n)<e.length:Ae(e,n),a=Reflect.set(e,n,s,He(e)?e:r);return e===ye(r)&&(o?$n(s,i)&&_n(e,"set",n,s):_n(e,"add",n,s)),a}deleteProperty(e,n){const s=Ae(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&_n(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Yt(n)||!Dh.has(n))&&mt(e,"has",n),s}ownKeys(e){return mt(e,"iterate",ae(e)?"length":us),Reflect.ownKeys(e)}}class Sg extends $h{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ig=new Fh,xg=new Sg,Tg=new Fh(!0);const La=t=>t,Si=t=>Reflect.getPrototypeOf(t);function kg(t,e,n){return function(...s){const r=this.__v_raw,i=ye(r),o=Ls(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?La:e?Ui:lt;return!e&&mt(i,"iterate",l?Pa:us),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Ii(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ag(t,e){const n={get(r){const i=this.__v_raw,o=ye(i),a=ye(r);t||($n(r,a)&&mt(o,"get",r),mt(o,"get",a));const{has:l}=Si(o),c=e?La:t?Ui:lt;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&mt(ye(r),"iterate",us),r.size},has(r){const i=this.__v_raw,o=ye(i),a=ye(r);return t||($n(r,a)&&mt(o,"has",r),mt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ye(a),c=e?La:t?Ui:lt;return!t&&mt(l,"iterate",us),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return it(n,t?{add:Ii("add"),set:Ii("set"),delete:Ii("delete"),clear:Ii("clear")}:{add(r){!e&&!$t(r)&&!jn(r)&&(r=ye(r));const i=ye(this);return Si(i).has.call(i,r)||(i.add(r),_n(i,"add",r,r)),this},set(r,i){!e&&!$t(i)&&!jn(i)&&(i=ye(i));const o=ye(this),{has:a,get:l}=Si(o);let c=a.call(o,r);c||(r=ye(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?$n(i,u)&&_n(o,"set",r,i):_n(o,"add",r,i),this},delete(r){const i=ye(this),{has:o,get:a}=Si(i);let l=o.call(i,r);l||(r=ye(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&_n(i,"delete",r,void 0),c},clear(){const r=ye(this),i=r.size!==0,o=r.clear();return i&&_n(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=kg(r,t,e)}),n}function Pl(t,e){const n=Ag(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ae(n,r)&&r in s?n:s,r,i)}const Ng={get:Pl(!1,!1)},Rg={get:Pl(!1,!0)},Pg={get:Pl(!0,!1)};const zh=new WeakMap,Hh=new WeakMap,qh=new WeakMap,Lg=new WeakMap;function Og(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mg(t){return t.__v_skip||!Object.isExtensible(t)?0:Og(rg(t))}function li(t){return jn(t)?t:Ll(t,!1,Ig,Ng,zh)}function jh(t){return Ll(t,!1,Tg,Rg,Hh)}function Uh(t){return Ll(t,!0,xg,Pg,qh)}function Ll(t,e,n,s,r){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Mg(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function wn(t){return jn(t)?wn(t.__v_raw):!!(t&&t.__v_isReactive)}function jn(t){return!!(t&&t.__v_isReadonly)}function $t(t){return!!(t&&t.__v_isShallow)}function Ol(t){return t?!!t.__v_raw:!1}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function Ml(t){return!Ae(t,"__v_skip")&&Object.isExtensible(t)&&wh(t,"__v_skip",!0),t}const lt=t=>Pe(t)?li(t):t,Ui=t=>Pe(t)?Uh(t):t;function He(t){return t?t.__v_isRef===!0:!1}function oe(t){return Vh(t,!1)}function Bh(t){return Vh(t,!0)}function Vh(t,e){return He(t)?t:new Dg(t,e)}class Dg{constructor(e,n){this.dep=new Rl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ye(e),this._value=n?e:lt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||$t(e)||jn(e);e=s?e:ye(e),$n(e,n)&&(this._rawValue=e,this._value=s?e:lt(e),this.dep.trigger())}}function C(t){return He(t)?t.value:t}const $g={get:(t,e,n)=>e==="__v_raw"?t:C(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Wh(t){return wn(t)?t:new Proxy(t,$g)}function Fg(t){const e=ae(t)?new Array(t.length):{};for(const n in t)e[n]=Gh(t,n);return e}class zg{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return yg(ye(this._object),this._key)}}class Hg{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qg(t,e,n){return He(t)?t:de(t)?new Hg(t):Pe(t)&&arguments.length>1?Gh(t,e,n):oe(t)}function Gh(t,e,n){const s=t[e];return He(s)?s:new zg(t,e,n)}class jg{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Rl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return Nh(this,!0),!0}get value(){const e=this.dep.track();return Lh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ug(t,e,n=!1){let s,r;return de(t)?s=t:(s=t.get,r=t.set),new jg(s,r,n)}const xi={},Bi=new WeakMap;let ss;function Bg(t,e=!1,n=ss){if(n){let s=Bi.get(n);s||Bi.set(n,s=[]),s.push(t)}}function Vg(t,e,n=Oe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=I=>r?I:$t(I)||r===!1||r===0?vn(I,1):vn(I);let u,d,h,f,b=!1,p=!1;if(He(t)?(d=()=>t.value,b=$t(t)):wn(t)?(d=()=>c(t),b=!0):ae(t)?(p=!0,b=t.some(I=>wn(I)||$t(I)),d=()=>t.map(I=>{if(He(I))return I.value;if(wn(I))return c(I);if(de(I))return l?l(I,2):I()})):de(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Sn();try{h()}finally{In()}}const I=ss;ss=u;try{return l?l(t,3,[f]):t(f)}finally{ss=I}}:d=on,e&&r){const I=d,P=r===!0?1/0:r;d=()=>vn(I(),P)}const _=Th(),g=()=>{u.stop(),_&&_.active&&Il(_.effects,u)};if(i&&e){const I=e;e=(...P)=>{I(...P),g()}}let E=p?new Array(t.length).fill(xi):xi;const x=I=>{if(!(!(u.flags&1)||!u.dirty&&!I))if(e){const P=u.run();if(r||b||(p?P.some((z,R)=>$n(z,E[R])):$n(P,E))){h&&h();const z=ss;ss=u;try{const R=[P,E===xi?void 0:p&&E[0]===xi?[]:E,f];E=P,l?l(e,3,R):e(...R)}finally{ss=z}}}else u.run()};return a&&a(x),u=new kh(d),u.scheduler=o?()=>o(x,!1):x,f=I=>Bg(I,!1,u),h=u.onStop=()=>{const I=Bi.get(u);if(I){if(l)l(I,4);else for(const P of I)P();Bi.delete(u)}},e?s?x(!0):E=u.run():o?o(x.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function vn(t,e=1/0,n){if(e<=0||!Pe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,He(t))vn(t.value,e,n);else if(ae(t))for(let s=0;s<t.length;s++)vn(t[s],e,n);else if(yo(t)||Ls(t))t.forEach(s=>{vn(s,e,n)});else if(Ch(t)){for(const s in t)vn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&vn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ci(t,e,n,s){try{return s?t(...s):t()}catch(r){xo(r,e,n)}}function Kt(t,e,n,s){if(de(t)){const r=ci(t,e,n,s);return r&&yh(r)&&r.catch(i=>{xo(i,e,n)}),r}if(ae(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Kt(t[i],e,n,s));return r}}function xo(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Oe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Sn(),ci(i,null,10,[t,l,c]),In();return}}Wg(t,n,r,s,o)}function Wg(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ct=[];let sn=-1;const Os=[];let Ln=null,ks=0;const Yh=Promise.resolve();let Vi=null;function To(t){const e=Vi||Yh;return t?e.then(this?t.bind(this):t):e}function Gg(t){let e=sn+1,n=Ct.length;for(;e<n;){const s=e+n>>>1,r=Ct[s],i=$r(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Dl(t){if(!(t.flags&1)){const e=$r(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=$r(n)?Ct.push(t):Ct.splice(Gg(e),0,t),t.flags|=1,Kh()}}function Kh(){Vi||(Vi=Yh.then(Jh))}function Yg(t){ae(t)?Os.push(...t):Ln&&t.id===-1?Ln.splice(ks+1,0,t):t.flags&1||(Os.push(t),t.flags|=1),Kh()}function Uc(t,e,n=sn+1){for(;n<Ct.length;n++){const s=Ct[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ct.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Qh(t){if(Os.length){const e=[...new Set(Os)].sort((n,s)=>$r(n)-$r(s));if(Os.length=0,Ln){Ln.push(...e);return}for(Ln=e,ks=0;ks<Ln.length;ks++){const n=Ln[ks];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ln=null,ks=0}}const $r=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Jh(t){try{for(sn=0;sn<Ct.length;sn++){const e=Ct[sn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ci(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;sn<Ct.length;sn++){const e=Ct[sn];e&&(e.flags&=-2)}sn=-1,Ct.length=0,Qh(),Vi=null,(Ct.length||Os.length)&&Jh()}}let ut=null,Xh=null;function Wi(t){const e=ut;return ut=t,Xh=t&&t.type.__scopeId||null,e}function et(t,e=ut,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Ki(-1);const i=Wi(e);let o;try{o=t(...r)}finally{Wi(i),s._d&&Ki(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ds(t,e){if(ut===null)return t;const n=Lo(ut),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Oe]=e[r];i&&(de(i)&&(i={mounted:i,updated:i}),i.deep&&vn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Zn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Sn(),Kt(l,n,8,[t.el,a,t,e]),In())}}const Kg=Symbol("_vte"),Zh=t=>t.__isTeleport,gn=Symbol("_leaveCb"),Ti=Symbol("_enterCb");function Qg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return It(()=>{t.isMounted=!0}),lf(()=>{t.isUnmounting=!0}),t}const Ot=[Function,Array],ef={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},tf=t=>{const e=t.subTree;return e.component?tf(e.component):e},Jg={name:"BaseTransition",props:ef,setup(t,{slots:e}){const n=Bn(),s=Qg();return()=>{const r=e.default&&rf(e.default(),!0);if(!r||!r.length)return;const i=nf(r),o=ye(t),{mode:a}=o;if(s.isLeaving)return ia(i);const l=Bc(i);if(!l)return ia(i);let c=Oa(l,o,s,n,d=>c=d);l.type!==gt&&Fr(l,c);let u=n.subTree&&Bc(n.subTree);if(u&&u.type!==gt&&!os(u,l)&&tf(n).type!==gt){let d=Oa(u,o,s,n);if(Fr(u,d),a==="out-in"&&l.type!==gt)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},ia(i);a==="in-out"&&l.type!==gt?d.delayLeave=(h,f,b)=>{const p=sf(s,u);p[String(u.key)]=u,h[gn]=()=>{f(),h[gn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{b(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function nf(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==gt){e=n;break}}return e}const Xg=Jg;function sf(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Oa(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:b,onLeaveCancelled:p,onBeforeAppear:_,onAppear:g,onAfterAppear:E,onAppearCancelled:x}=e,I=String(t.key),P=sf(n,t),z=(M,V)=>{M&&Kt(M,s,9,V)},R=(M,V)=>{const Y=V[1];z(M,V),ae(M)?M.every(B=>B.length<=1)&&Y():M.length<=1&&Y()},W={mode:o,persisted:a,beforeEnter(M){let V=l;if(!n.isMounted)if(i)V=_||l;else return;M[gn]&&M[gn](!0);const Y=P[I];Y&&os(t,Y)&&Y.el[gn]&&Y.el[gn](),z(V,[M])},enter(M){let V=c,Y=u,B=d;if(!n.isMounted)if(i)V=g||c,Y=E||u,B=x||d;else return;let ee=!1;const ne=M[Ti]=Ue=>{ee||(ee=!0,Ue?z(B,[M]):z(Y,[M]),W.delayedLeave&&W.delayedLeave(),M[Ti]=void 0)};V?R(V,[M,ne]):ne()},leave(M,V){const Y=String(t.key);if(M[Ti]&&M[Ti](!0),n.isUnmounting)return V();z(h,[M]);let B=!1;const ee=M[gn]=ne=>{B||(B=!0,V(),ne?z(p,[M]):z(b,[M]),M[gn]=void 0,P[Y]===t&&delete P[Y])};P[Y]=t,f?R(f,[M,ee]):ee()},clone(M){const V=Oa(M,e,n,s,r);return r&&r(V),V}};return W}function ia(t){if(ko(t))return t=Un(t),t.children=null,t}function Bc(t){if(!ko(t))return Zh(t.type)&&t.children?nf(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&de(n.default))return n.default()}}function Fr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function rf(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===be?(o.patchFlag&128&&r++,s=s.concat(rf(o.children,e,a))):(e||o.type!==gt)&&s.push(a!=null?Un(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function ui(t,e){return de(t)?it({name:t.name},e,{setup:t}):t}function of(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Gi=new WeakMap;function wr(t,e,n,s,r=!1){if(ae(t)){t.forEach((b,p)=>wr(b,e&&(ae(e)?e[p]:e),n,s,r));return}if(Ms(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&wr(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Lo(s.component):s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Oe?a.refs={}:a.refs,d=a.setupState,h=ye(d),f=d===Oe?vh:b=>Ae(h,b);if(c!=null&&c!==l){if(Vc(e),Ye(c))u[c]=null,f(c)&&(d[c]=null);else if(He(c)){c.value=null;const b=e;b.k&&(u[b.k]=null)}}if(de(l))ci(l,a,12,[o,u]);else{const b=Ye(l),p=He(l);if(b||p){const _=()=>{if(t.f){const g=b?f(l)?d[l]:u[l]:l.value;if(r)ae(g)&&Il(g,i);else if(ae(g))g.includes(i)||g.push(i);else if(b)u[l]=[i],f(l)&&(d[l]=u[l]);else{const E=[i];l.value=E,t.k&&(u[t.k]=E)}}else b?(u[l]=o,f(l)&&(d[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const g=()=>{_(),Gi.delete(t)};g.id=-1,Gi.set(t,g),Nt(g,n)}else Vc(t),_()}}}function Vc(t){const e=Gi.get(t);e&&(e.flags|=8,Gi.delete(t))}wo().requestIdleCallback;wo().cancelIdleCallback;const Ms=t=>!!t.type.__asyncLoader,ko=t=>t.type.__isKeepAlive;function Zg(t,e){af(t,"a",e)}function e_(t,e){af(t,"da",e)}function af(t,e,n=_t){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ao(e,s,n),n){let r=n.parent;for(;r&&r.parent;)ko(r.parent.vnode)&&t_(s,e,n,r),r=r.parent}}function t_(t,e,n,s){const r=Ao(e,t,s,!0);No(()=>{Il(s[e],r)},n)}function Ao(t,e,n=_t,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Sn();const a=hi(n),l=Kt(e,n,t,o);return a(),In(),l});return s?r.unshift(i):r.push(i),i}}const kn=t=>(e,n=_t)=>{(!qr||t==="sp")&&Ao(t,(...s)=>e(...s),n)},n_=kn("bm"),It=kn("m"),s_=kn("bu"),r_=kn("u"),lf=kn("bum"),No=kn("um"),i_=kn("sp"),o_=kn("rtg"),a_=kn("rtc");function l_(t,e=_t){Ao("ec",t,e)}const c_="components";function u_(t,e){return h_(c_,t,!0,e)||t}const d_=Symbol.for("v-ndc");function h_(t,e,n=!0,s=!1){const r=ut||_t;if(r){const i=r.type;{const a=tv(i,!1);if(a&&(a===e||a===Ft(e)||a===Co(Ft(e))))return i}const o=Wc(r[t]||i[t],e)||Wc(r.appContext[t],e);return!o&&s?i:o}}function Wc(t,e){return t&&(t[e]||t[Ft(e)]||t[Co(Ft(e))])}function zt(t,e,n,s){let r;const i=n,o=ae(t);if(o||Ye(t)){const a=o&&wn(t);let l=!1,c=!1;a&&(l=!$t(t),c=jn(t),t=Io(t)),r=new Array(t.length);for(let u=0,d=t.length;u<d;u++)r[u]=e(l?c?Ui(lt(t[u])):lt(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(Pe(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,i)}}else r=[];return r}function Ma(t,e,n={},s,r){if(ut.ce||ut.parent&&Ms(ut.parent)&&ut.parent.ce)return e!=="default"&&(n.name=e),O(),Ne(be,null,[X("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),O();const o=i&&cf(i(n)),a=n.key||o&&o.key,l=Ne(be,{key:(a&&!Yt(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function cf(t){return t.some(e=>Hr(e)?!(e.type===gt||e.type===be&&!cf(e.children)):!0)?t:null}const Da=t=>t?Af(t)?Lo(t):Da(t.parent):null,Er=it(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Da(t.parent),$root:t=>Da(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>df(t),$forceUpdate:t=>t.f||(t.f=()=>{Dl(t.update)}),$nextTick:t=>t.n||(t.n=To.bind(t.proxy)),$watch:t=>O_.bind(t)}),oa=(t,e)=>t!==Oe&&!t.__isScriptSetup&&Ae(t,e),f_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(oa(s,e))return o[e]=1,s[e];if(r!==Oe&&Ae(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Ae(c,e))return o[e]=3,i[e];if(n!==Oe&&Ae(n,e))return o[e]=4,n[e];$a&&(o[e]=0)}}const u=Er[e];let d,h;if(u)return e==="$attrs"&&mt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Oe&&Ae(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Ae(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return oa(r,e)?(r[e]=n,!0):s!==Oe&&Ae(s,e)?(s[e]=n,!0):Ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},a){let l,c;return!!(n[a]||t!==Oe&&a[0]!=="$"&&Ae(t,a)||oa(e,a)||(l=i[0])&&Ae(l,a)||Ae(s,a)||Ae(Er,a)||Ae(r.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gc(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let $a=!0;function p_(t){const e=df(t),n=t.proxy,s=t.ctx;$a=!1,e.beforeCreate&&Yc(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:b,activated:p,deactivated:_,beforeDestroy:g,beforeUnmount:E,destroyed:x,unmounted:I,render:P,renderTracked:z,renderTriggered:R,errorCaptured:W,serverPrefetch:M,expose:V,inheritAttrs:Y,components:B,directives:ee,filters:ne}=e;if(c&&m_(c,s,null),o)for(const ue in o){const ve=o[ue];de(ve)&&(s[ue]=ve.bind(n))}if(r){const ue=r.call(n,n);Pe(ue)&&(t.data=li(ue))}if($a=!0,i)for(const ue in i){const ve=i[ue],Qe=de(ve)?ve.bind(n,n):de(ve.get)?ve.get.bind(n,n):on,kt=!de(ve)&&de(ve.set)?ve.set.bind(n):on,yt=K({get:Qe,set:kt});Object.defineProperty(s,ue,{enumerable:!0,configurable:!0,get:()=>yt.value,set:nt=>yt.value=nt})}if(a)for(const ue in a)uf(a[ue],s,n,ue);if(l){const ue=de(l)?l.call(n):l;Reflect.ownKeys(ue).forEach(ve=>{Wt(ve,ue[ve])})}u&&Yc(u,t,"c");function Ce(ue,ve){ae(ve)?ve.forEach(Qe=>ue(Qe.bind(n))):ve&&ue(ve.bind(n))}if(Ce(n_,d),Ce(It,h),Ce(s_,f),Ce(r_,b),Ce(Zg,p),Ce(e_,_),Ce(l_,W),Ce(a_,z),Ce(o_,R),Ce(lf,E),Ce(No,I),Ce(i_,M),ae(V))if(V.length){const ue=t.exposed||(t.exposed={});V.forEach(ve=>{Object.defineProperty(ue,ve,{get:()=>n[ve],set:Qe=>n[ve]=Qe,enumerable:!0})})}else t.exposed||(t.exposed={});P&&t.render===on&&(t.render=P),Y!=null&&(t.inheritAttrs=Y),B&&(t.components=B),ee&&(t.directives=ee),M&&of(t)}function m_(t,e,n=on){ae(t)&&(t=Fa(t));for(const s in t){const r=t[s];let i;Pe(r)?"default"in r?i=Et(r.from||s,r.default,!0):i=Et(r.from||s):i=Et(r),He(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Yc(t,e,n){Kt(ae(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function uf(t,e,n,s){let r=s.includes(".")?Sf(n,s):()=>n[s];if(Ye(t)){const i=e[t];de(i)&&an(r,i)}else if(de(t))an(r,t.bind(n));else if(Pe(t))if(ae(t))t.forEach(i=>uf(i,e,n,s));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&an(r,i,t)}}function df(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Yi(l,c,o,!0)),Yi(l,e,o)),Pe(e)&&i.set(e,l),l}function Yi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Yi(t,i,n,!0),r&&r.forEach(o=>Yi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=g_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const g_={data:Kc,props:Qc,emits:Qc,methods:vr,computed:vr,beforeCreate:bt,created:bt,beforeMount:bt,mounted:bt,beforeUpdate:bt,updated:bt,beforeDestroy:bt,beforeUnmount:bt,destroyed:bt,unmounted:bt,activated:bt,deactivated:bt,errorCaptured:bt,serverPrefetch:bt,components:vr,directives:vr,watch:v_,provide:Kc,inject:__};function Kc(t,e){return e?t?function(){return it(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function __(t,e){return vr(Fa(t),Fa(e))}function Fa(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function bt(t,e){return t?[...new Set([].concat(t,e))]:e}function vr(t,e){return t?it(Object.create(null),t,e):e}function Qc(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:it(Object.create(null),Gc(t),Gc(e??{})):e}function v_(t,e){if(!t)return e;if(!e)return t;const n=it(Object.create(null),t);for(const s in e)n[s]=bt(t[s],e[s]);return n}function hf(){return{app:null,config:{isNativeTag:vh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let y_=0;function b_(t,e){return function(s,r=null){de(s)||(s=it({},s)),r!=null&&!Pe(r)&&(r=null);const i=hf(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:y_++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:sv,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&de(u.install)?(o.add(u),u.install(c,...d)):de(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||X(s,r);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Lo(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Kt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=hs;hs=c;try{return u()}finally{hs=d}}};return c}}let hs=null;function Wt(t,e){if(_t){let n=_t.provides;const s=_t.parent&&_t.parent.provides;s===n&&(n=_t.provides=Object.create(s)),n[t]=e}}function Et(t,e,n=!1){const s=Bn();if(s||hs){let r=hs?hs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&de(e)?e.call(s&&s.proxy):e}}function C_(){return!!(Bn()||hs)}const ff={},pf=()=>Object.create(ff),mf=t=>Object.getPrototypeOf(t)===ff;function w_(t,e,n,s=!1){const r={},i=pf();t.propsDefaults=Object.create(null),gf(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:jh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function E_(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ye(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Ro(t.emitsOptions,h))continue;const f=e[h];if(l)if(Ae(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const b=Ft(h);r[b]=za(l,a,b,f,t,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{gf(t,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!Ae(e,d)&&((u=gs(d))===d||!Ae(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=za(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!Ae(e,d))&&(delete i[d],c=!0)}c&&_n(t.attrs,"set","")}function gf(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yr(l))continue;const c=e[l];let u;r&&Ae(r,u=Ft(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ro(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ye(n),c=a||Oe;for(let u=0;u<i.length;u++){const d=i[u];n[d]=za(r,l,d,c[d],t,!Ae(c,d))}}return o}function za(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Ae(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&de(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=hi(r);s=c[n]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===gs(n))&&(s=!0))}return s}const S_=new WeakMap;function _f(t,e,n=!1){const s=n?S_:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!de(t)){const u=d=>{l=!0;const[h,f]=_f(d,e,!0);it(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Pe(t)&&s.set(t,Ps),Ps;if(ae(i))for(let u=0;u<i.length;u++){const d=Ft(i[u]);Jc(d)&&(o[d]=Oe)}else if(i)for(const u in i){const d=Ft(u);if(Jc(d)){const h=i[u],f=o[d]=ae(h)||de(h)?{type:h}:it({},h),b=f.type;let p=!1,_=!0;if(ae(b))for(let g=0;g<b.length;++g){const E=b[g],x=de(E)&&E.name;if(x==="Boolean"){p=!0;break}else x==="String"&&(_=!1)}else p=de(b)&&b.name==="Boolean";f[0]=p,f[1]=_,(p||Ae(f,"default"))&&a.push(d)}}const c=[o,a];return Pe(t)&&s.set(t,c),c}function Jc(t){return t[0]!=="$"&&!yr(t)}const $l=t=>t==="_"||t==="_ctx"||t==="$stable",Fl=t=>ae(t)?t.map(rn):[rn(t)],I_=(t,e,n)=>{if(e._n)return e;const s=et((...r)=>Fl(e(...r)),n);return s._c=!1,s},vf=(t,e,n)=>{const s=t._ctx;for(const r in t){if($l(r))continue;const i=t[r];if(de(i))e[r]=I_(r,i,s);else if(i!=null){const o=Fl(i);e[r]=()=>o}}},yf=(t,e)=>{const n=Fl(e);t.slots.default=()=>n},bf=(t,e,n)=>{for(const s in e)(n||!$l(s))&&(t[s]=e[s])},x_=(t,e,n)=>{const s=t.slots=pf();if(t.vnode.shapeFlag&32){const r=e._;r?(bf(s,e,n),n&&wh(s,"_",r,!0)):vf(e,s)}else e&&yf(t,e)},T_=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Oe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:bf(r,e,n):(i=!e.$stable,vf(e,r)),o=e}else e&&(yf(t,e),o={default:1});if(i)for(const a in r)!$l(a)&&o[a]==null&&delete r[a]},Nt=j_;function k_(t){return A_(t)}function A_(t,e){const n=wo();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=on,insertStaticContent:b}=t,p=(w,S,A,D=null,H=null,$=null,v=void 0,y=null,T=!!S.dynamicChildren)=>{if(w===S)return;w&&!os(w,S)&&(D=F(w),nt(w,H,$,!0),w=null),S.patchFlag===-2&&(T=!1,S.dynamicChildren=null);const{type:N,ref:J,shapeFlag:j}=S;switch(N){case di:_(w,S,A,D);break;case gt:g(w,S,A,D);break;case Mi:w==null&&E(S,A,D,v);break;case be:B(w,S,A,D,H,$,v,y,T);break;default:j&1?P(w,S,A,D,H,$,v,y,T):j&6?ee(w,S,A,D,H,$,v,y,T):(j&64||j&128)&&N.process(w,S,A,D,H,$,v,y,T,re)}J!=null&&H?wr(J,w&&w.ref,$,S||w,!S):J==null&&w&&w.ref!=null&&wr(w.ref,null,$,w,!0)},_=(w,S,A,D)=>{if(w==null)s(S.el=a(S.children),A,D);else{const H=S.el=w.el;S.children!==w.children&&c(H,S.children)}},g=(w,S,A,D)=>{w==null?s(S.el=l(S.children||""),A,D):S.el=w.el},E=(w,S,A,D)=>{[w.el,w.anchor]=b(w.children,S,A,D,w.el,w.anchor)},x=({el:w,anchor:S},A,D)=>{let H;for(;w&&w!==S;)H=h(w),s(w,A,D),w=H;s(S,A,D)},I=({el:w,anchor:S})=>{let A;for(;w&&w!==S;)A=h(w),r(w),w=A;r(S)},P=(w,S,A,D,H,$,v,y,T)=>{S.type==="svg"?v="svg":S.type==="math"&&(v="mathml"),w==null?z(S,A,D,H,$,v,y,T):M(w,S,H,$,v,y,T)},z=(w,S,A,D,H,$,v,y)=>{let T,N;const{props:J,shapeFlag:j,transition:k,dirs:L}=w;if(T=w.el=o(w.type,$,J&&J.is,J),j&8?u(T,w.children):j&16&&W(w.children,T,null,D,H,aa(w,$),v,y),L&&Zn(w,null,D,"created"),R(T,w,w.scopeId,v,D),J){for(const ce in J)ce!=="value"&&!yr(ce)&&i(T,ce,null,J[ce],$,D);"value"in J&&i(T,"value",null,J.value,$),(N=J.onVnodeBeforeMount)&&en(N,D,w)}L&&Zn(w,null,D,"beforeMount");const ie=N_(H,k);ie&&k.beforeEnter(T),s(T,S,A),((N=J&&J.onVnodeMounted)||ie||L)&&Nt(()=>{N&&en(N,D,w),ie&&k.enter(T),L&&Zn(w,null,D,"mounted")},H)},R=(w,S,A,D,H)=>{if(A&&f(w,A),D)for(let $=0;$<D.length;$++)f(w,D[$]);if(H){let $=H.subTree;if(S===$||xf($.type)&&($.ssContent===S||$.ssFallback===S)){const v=H.vnode;R(w,v,v.scopeId,v.slotScopeIds,H.parent)}}},W=(w,S,A,D,H,$,v,y,T=0)=>{for(let N=T;N<w.length;N++){const J=w[N]=y?On(w[N]):rn(w[N]);p(null,J,S,A,D,H,$,v,y)}},M=(w,S,A,D,H,$,v)=>{const y=S.el=w.el;let{patchFlag:T,dynamicChildren:N,dirs:J}=S;T|=w.patchFlag&16;const j=w.props||Oe,k=S.props||Oe;let L;if(A&&es(A,!1),(L=k.onVnodeBeforeUpdate)&&en(L,A,S,w),J&&Zn(S,w,A,"beforeUpdate"),A&&es(A,!0),(j.innerHTML&&k.innerHTML==null||j.textContent&&k.textContent==null)&&u(y,""),N?V(w.dynamicChildren,N,y,A,D,aa(S,H),$):v||ve(w,S,y,null,A,D,aa(S,H),$,!1),T>0){if(T&16)Y(y,j,k,A,H);else if(T&2&&j.class!==k.class&&i(y,"class",null,k.class,H),T&4&&i(y,"style",j.style,k.style,H),T&8){const ie=S.dynamicProps;for(let ce=0;ce<ie.length;ce++){const fe=ie[ce],Je=j[fe],Ge=k[fe];(Ge!==Je||fe==="value")&&i(y,fe,Je,Ge,H,A)}}T&1&&w.children!==S.children&&u(y,S.children)}else!v&&N==null&&Y(y,j,k,A,H);((L=k.onVnodeUpdated)||J)&&Nt(()=>{L&&en(L,A,S,w),J&&Zn(S,w,A,"updated")},D)},V=(w,S,A,D,H,$,v)=>{for(let y=0;y<S.length;y++){const T=w[y],N=S[y],J=T.el&&(T.type===be||!os(T,N)||T.shapeFlag&198)?d(T.el):A;p(T,N,J,null,D,H,$,v,!0)}},Y=(w,S,A,D,H)=>{if(S!==A){if(S!==Oe)for(const $ in S)!yr($)&&!($ in A)&&i(w,$,S[$],null,H,D);for(const $ in A){if(yr($))continue;const v=A[$],y=S[$];v!==y&&$!=="value"&&i(w,$,y,v,H,D)}"value"in A&&i(w,"value",S.value,A.value,H)}},B=(w,S,A,D,H,$,v,y,T)=>{const N=S.el=w?w.el:a(""),J=S.anchor=w?w.anchor:a("");let{patchFlag:j,dynamicChildren:k,slotScopeIds:L}=S;L&&(y=y?y.concat(L):L),w==null?(s(N,A,D),s(J,A,D),W(S.children||[],A,J,H,$,v,y,T)):j>0&&j&64&&k&&w.dynamicChildren?(V(w.dynamicChildren,k,A,H,$,v,y),(S.key!=null||H&&S===H.subTree)&&Cf(w,S,!0)):ve(w,S,A,J,H,$,v,y,T)},ee=(w,S,A,D,H,$,v,y,T)=>{S.slotScopeIds=y,w==null?S.shapeFlag&512?H.ctx.activate(S,A,D,v,T):ne(S,A,D,H,$,v,T):Ue(w,S,T)},ne=(w,S,A,D,H,$,v)=>{const y=w.component=Q_(w,D,H);if(ko(w)&&(y.ctx.renderer=re),J_(y,!1,v),y.asyncDep){if(H&&H.registerDep(y,Ce,v),!w.el){const T=y.subTree=X(gt);g(null,T,S,A),w.placeholder=T.el}}else Ce(y,w,S,A,H,$,v)},Ue=(w,S,A)=>{const D=S.component=w.component;if(H_(w,S,A))if(D.asyncDep&&!D.asyncResolved){ue(D,S,A);return}else D.next=S,D.update();else S.el=w.el,D.vnode=S},Ce=(w,S,A,D,H,$,v)=>{const y=()=>{if(w.isMounted){let{next:j,bu:k,u:L,parent:ie,vnode:ce}=w;{const qt=wf(w);if(qt){j&&(j.el=ce.el,ue(w,j,v)),qt.asyncDep.then(()=>{w.isUnmounted||y()});return}}let fe=j,Je;es(w,!1),j?(j.el=ce.el,ue(w,j,v)):j=ce,k&&Oi(k),(Je=j.props&&j.props.onVnodeBeforeUpdate)&&en(Je,ie,j,ce),es(w,!0);const Ge=Zc(w),Lt=w.subTree;w.subTree=Ge,p(Lt,Ge,d(Lt.el),F(Lt),w,H,$),j.el=Ge.el,fe===null&&q_(w,Ge.el),L&&Nt(L,H),(Je=j.props&&j.props.onVnodeUpdated)&&Nt(()=>en(Je,ie,j,ce),H)}else{let j;const{el:k,props:L}=S,{bm:ie,m:ce,parent:fe,root:Je,type:Ge}=w,Lt=Ms(S);es(w,!1),ie&&Oi(ie),!Lt&&(j=L&&L.onVnodeBeforeMount)&&en(j,fe,S),es(w,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(Ge);const qt=w.subTree=Zc(w);p(null,qt,A,D,w,H,$),S.el=qt.el}if(ce&&Nt(ce,H),!Lt&&(j=L&&L.onVnodeMounted)){const qt=S;Nt(()=>en(j,fe,qt),H)}(S.shapeFlag&256||fe&&Ms(fe.vnode)&&fe.vnode.shapeFlag&256)&&w.a&&Nt(w.a,H),w.isMounted=!0,S=A=D=null}};w.scope.on();const T=w.effect=new kh(y);w.scope.off();const N=w.update=T.run.bind(T),J=w.job=T.runIfDirty.bind(T);J.i=w,J.id=w.uid,T.scheduler=()=>Dl(J),es(w,!0),N()},ue=(w,S,A)=>{S.component=w;const D=w.vnode.props;w.vnode=S,w.next=null,E_(w,S.props,D,A),T_(w,S.children,A),Sn(),Uc(w),In()},ve=(w,S,A,D,H,$,v,y,T=!1)=>{const N=w&&w.children,J=w?w.shapeFlag:0,j=S.children,{patchFlag:k,shapeFlag:L}=S;if(k>0){if(k&128){kt(N,j,A,D,H,$,v,y,T);return}else if(k&256){Qe(N,j,A,D,H,$,v,y,T);return}}L&8?(J&16&&ht(N,H,$),j!==N&&u(A,j)):J&16?L&16?kt(N,j,A,D,H,$,v,y,T):ht(N,H,$,!0):(J&8&&u(A,""),L&16&&W(j,A,D,H,$,v,y,T))},Qe=(w,S,A,D,H,$,v,y,T)=>{w=w||Ps,S=S||Ps;const N=w.length,J=S.length,j=Math.min(N,J);let k;for(k=0;k<j;k++){const L=S[k]=T?On(S[k]):rn(S[k]);p(w[k],L,A,null,H,$,v,y,T)}N>J?ht(w,H,$,!0,!1,j):W(S,A,D,H,$,v,y,T,j)},kt=(w,S,A,D,H,$,v,y,T)=>{let N=0;const J=S.length;let j=w.length-1,k=J-1;for(;N<=j&&N<=k;){const L=w[N],ie=S[N]=T?On(S[N]):rn(S[N]);if(os(L,ie))p(L,ie,A,null,H,$,v,y,T);else break;N++}for(;N<=j&&N<=k;){const L=w[j],ie=S[k]=T?On(S[k]):rn(S[k]);if(os(L,ie))p(L,ie,A,null,H,$,v,y,T);else break;j--,k--}if(N>j){if(N<=k){const L=k+1,ie=L<J?S[L].el:D;for(;N<=k;)p(null,S[N]=T?On(S[N]):rn(S[N]),A,ie,H,$,v,y,T),N++}}else if(N>k)for(;N<=j;)nt(w[N],H,$,!0),N++;else{const L=N,ie=N,ce=new Map;for(N=ie;N<=k;N++){const At=S[N]=T?On(S[N]):rn(S[N]);At.key!=null&&ce.set(At.key,N)}let fe,Je=0;const Ge=k-ie+1;let Lt=!1,qt=0;const cr=new Array(Ge);for(N=0;N<Ge;N++)cr[N]=0;for(N=L;N<=j;N++){const At=w[N];if(Je>=Ge){nt(At,H,$,!0);continue}let Zt;if(At.key!=null)Zt=ce.get(At.key);else for(fe=ie;fe<=k;fe++)if(cr[fe-ie]===0&&os(At,S[fe])){Zt=fe;break}Zt===void 0?nt(At,H,$,!0):(cr[Zt-ie]=N+1,Zt>=qt?qt=Zt:Lt=!0,p(At,S[Zt],A,null,H,$,v,y,T),Je++)}const Dc=Lt?R_(cr):Ps;for(fe=Dc.length-1,N=Ge-1;N>=0;N--){const At=ie+N,Zt=S[At],$c=S[At+1],Fc=At+1<J?$c.el||$c.placeholder:D;cr[N]===0?p(null,Zt,A,Fc,H,$,v,y,T):Lt&&(fe<0||N!==Dc[fe]?yt(Zt,A,Fc,2):fe--)}}},yt=(w,S,A,D,H=null)=>{const{el:$,type:v,transition:y,children:T,shapeFlag:N}=w;if(N&6){yt(w.component.subTree,S,A,D);return}if(N&128){w.suspense.move(S,A,D);return}if(N&64){v.move(w,S,A,re);return}if(v===be){s($,S,A);for(let j=0;j<T.length;j++)yt(T[j],S,A,D);s(w.anchor,S,A);return}if(v===Mi){x(w,S,A);return}if(D!==2&&N&1&&y)if(D===0)y.beforeEnter($),s($,S,A),Nt(()=>y.enter($),H);else{const{leave:j,delayLeave:k,afterLeave:L}=y,ie=()=>{w.ctx.isUnmounted?r($):s($,S,A)},ce=()=>{$._isLeaving&&$[gn](!0),j($,()=>{ie(),L&&L()})};k?k($,ie,ce):ce()}else s($,S,A)},nt=(w,S,A,D=!1,H=!1)=>{const{type:$,props:v,ref:y,children:T,dynamicChildren:N,shapeFlag:J,patchFlag:j,dirs:k,cacheIndex:L}=w;if(j===-2&&(H=!1),y!=null&&(Sn(),wr(y,null,A,w,!0),In()),L!=null&&(S.renderCache[L]=void 0),J&256){S.ctx.deactivate(w);return}const ie=J&1&&k,ce=!Ms(w);let fe;if(ce&&(fe=v&&v.onVnodeBeforeUnmount)&&en(fe,S,w),J&6)Xn(w.component,A,D);else{if(J&128){w.suspense.unmount(A,D);return}ie&&Zn(w,null,S,"beforeUnmount"),J&64?w.type.remove(w,S,A,re,D):N&&!N.hasOnce&&($!==be||j>0&&j&64)?ht(N,S,A,!1,!0):($===be&&j&384||!H&&J&16)&&ht(T,S,A),D&&Jt(w)}(ce&&(fe=v&&v.onVnodeUnmounted)||ie)&&Nt(()=>{fe&&en(fe,S,w),ie&&Zn(w,null,S,"unmounted")},A)},Jt=w=>{const{type:S,el:A,anchor:D,transition:H}=w;if(S===be){Xt(A,D);return}if(S===Mi){I(w);return}const $=()=>{r(A),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(w.shapeFlag&1&&H&&!H.persisted){const{leave:v,delayLeave:y}=H,T=()=>v(A,$);y?y(w.el,$,T):T()}else $()},Xt=(w,S)=>{let A;for(;w!==S;)A=h(w),r(w),w=A;r(S)},Xn=(w,S,A)=>{const{bum:D,scope:H,job:$,subTree:v,um:y,m:T,a:N}=w;Xc(T),Xc(N),D&&Oi(D),H.stop(),$&&($.flags|=8,nt(v,w,S,A)),y&&Nt(y,S),Nt(()=>{w.isUnmounted=!0},S)},ht=(w,S,A,D=!1,H=!1,$=0)=>{for(let v=$;v<w.length;v++)nt(w[v],S,A,D,H)},F=w=>{if(w.shapeFlag&6)return F(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const S=h(w.anchor||w.el),A=S&&S[Kg];return A?h(A):S};let Z=!1;const Q=(w,S,A)=>{w==null?S._vnode&&nt(S._vnode,null,null,!0):p(S._vnode||null,w,S,null,null,null,A),S._vnode=w,Z||(Z=!0,Uc(),Qh(),Z=!1)},re={p,um:nt,m:yt,r:Jt,mt:ne,mc:W,pc:ve,pbc:V,n:F,o:t};return{render:Q,hydrate:void 0,createApp:b_(Q)}}function aa({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function es({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function N_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cf(t,e,n=!1){const s=t.children,r=e.children;if(ae(s)&&ae(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=On(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Cf(o,a)),a.type===di&&a.patchFlag!==-1&&(a.el=o.el),a.type===gt&&!a.el&&(a.el=o.el)}}function R_(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function wf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wf(e)}function Xc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const P_=Symbol.for("v-scx"),L_=()=>Et(P_);function an(t,e,n){return Ef(t,e,n)}function Ef(t,e,n=Oe){const{immediate:s,deep:r,flush:i,once:o}=n,a=it({},n),l=e&&s||!e&&i!=="post";let c;if(qr){if(i==="sync"){const f=L_();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=on,f.resume=on,f.pause=on,f}}const u=_t;a.call=(f,b,p)=>Kt(f,u,b,p);let d=!1;i==="post"?a.scheduler=f=>{Nt(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,b)=>{b?f():Dl(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Vg(t,e,a);return qr&&(c?c.push(h):l&&h()),h}function O_(t,e,n){const s=this.proxy,r=Ye(t)?t.includes(".")?Sf(s,t):()=>s[t]:t.bind(s,s);let i;de(e)?i=e:(i=e.handler,n=e);const o=hi(this),a=Ef(r,i.bind(s),n);return o(),a}function Sf(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const M_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ft(e)}Modifiers`]||t[`${gs(e)}Modifiers`];function D_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Oe;let r=n;const i=e.startsWith("update:"),o=i&&M_(s,e.slice(7));o&&(o.trim&&(r=n.map(u=>Ye(u)?u.trim():u)),o.number&&(r=n.map(qi)));let a,l=s[a=ea(e)]||s[a=ea(Ft(e))];!l&&i&&(l=s[a=ea(gs(e))]),l&&Kt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Kt(c,t,6,r)}}const $_=new WeakMap;function If(t,e,n=!1){const s=n?$_:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!de(t)){const l=c=>{const u=If(c,e,!0);u&&(a=!0,it(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Pe(t)&&s.set(t,null),null):(ae(i)?i.forEach(l=>o[l]=null):it(o,i),Pe(t)&&s.set(t,o),o)}function Ro(t,e){return!t||!vo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ae(t,e[0].toLowerCase()+e.slice(1))||Ae(t,gs(e))||Ae(t,e))}function Zc(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:b,inheritAttrs:p}=t,_=Wi(t);let g,E;try{if(n.shapeFlag&4){const I=r||s,P=I;g=rn(c.call(P,I,u,d,f,h,b)),E=a}else{const I=e;g=rn(I.length>1?I(d,{attrs:a,slots:o,emit:l}):I(d,null)),E=e.props?a:F_(a)}}catch(I){Sr.length=0,xo(I,t,1),g=X(gt)}let x=g;if(E&&p!==!1){const I=Object.keys(E),{shapeFlag:P}=x;I.length&&P&7&&(i&&I.some(Sl)&&(E=z_(E,i)),x=Un(x,E,!1,!0))}return n.dirs&&(x=Un(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Fr(x,n.transition),g=x,Wi(_),g}const F_=t=>{let e;for(const n in t)(n==="class"||n==="style"||vo(n))&&((e||(e={}))[n]=t[n]);return e},z_=(t,e)=>{const n={};for(const s in t)(!Sl(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function H_(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?eu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==s[h]&&!Ro(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?eu(s,o,c):!0:!!o;return!1}function eu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ro(n,i))return!0}return!1}function q_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const xf=t=>t.__isSuspense;function j_(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):Yg(t)}const be=Symbol.for("v-fgt"),di=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),Mi=Symbol.for("v-stc"),Sr=[];let Rt=null;function O(t=!1){Sr.push(Rt=t?null:[])}function U_(){Sr.pop(),Rt=Sr[Sr.length-1]||null}let zr=1;function Ki(t,e=!1){zr+=t,t<0&&Rt&&e&&(Rt.hasOnce=!0)}function Tf(t){return t.dynamicChildren=zr>0?Rt||Ps:null,U_(),zr>0&&Rt&&Rt.push(t),t}function U(t,e,n,s,r,i){return Tf(m(t,e,n,s,r,i,!0))}function Ne(t,e,n,s,r){return Tf(X(t,e,n,s,r,!0))}function Hr(t){return t?t.__v_isVNode===!0:!1}function os(t,e){return t.type===e.type&&t.key===e.key}const kf=({key:t})=>t??null,Di=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ye(t)||He(t)||de(t)?{i:ut,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,r=null,i=t===be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kf(e),ref:e&&Di(e),scopeId:Xh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ut};return a?(zl(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ye(n)?8:16),zr>0&&!o&&Rt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Rt.push(l),l}const X=B_;function B_(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===d_)&&(t=gt),Hr(t)){const a=Un(t,e,!0);return n&&zl(a,n),zr>0&&!i&&Rt&&(a.shapeFlag&6?Rt[Rt.indexOf(t)]=a:Rt.push(a)),a.patchFlag=-2,a}if(nv(t)&&(t=t.__vccOpts),e){e=V_(e);let{class:a,style:l}=e;a&&!Ye(a)&&(e.class=qe(a)),Pe(l)&&(Ol(l)&&!ae(l)&&(l=it({},l)),e.style=Eo(l))}const o=Ye(t)?1:xf(t)?128:Zh(t)?64:Pe(t)?4:de(t)?2:0;return m(t,e,n,s,r,o,i,!0)}function V_(t){return t?Ol(t)||mf(t)?it({},t):t:null}function Un(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?G_(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&kf(c),ref:e&&e.ref?n&&i?ae(i)?i.concat(Di(e)):[i,Di(e)]:Di(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==be?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Un(t.ssContent),ssFallback:t.ssFallback&&Un(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Fr(u,l.clone(u)),u}function Po(t=" ",e=0){return X(di,null,t,e)}function W_(t,e){const n=X(Mi,null,t);return n.staticCount=e,n}function se(t="",e=!1){return e?(O(),Ne(gt,null,t)):X(gt,null,t)}function rn(t){return t==null||typeof t=="boolean"?X(gt):ae(t)?X(be,null,t.slice()):Hr(t)?On(t):X(di,null,String(t))}function On(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Un(t)}function zl(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),zl(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!mf(e)?e._ctx=ut:r===3&&ut&&(ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:ut},n=32):(e=String(e),s&64?(n=16,e=[Po(e)]):n=8);t.children=e,t.shapeFlag|=n}function G_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=qe([e.class,s.class]));else if(r==="style")e.style=Eo([e.style,s.style]);else if(vo(r)){const i=e[r],o=s[r];o&&i!==o&&!(ae(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function en(t,e,n,s=null){Kt(t,e,7,[n,s])}const Y_=hf();let K_=0;function Q_(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Y_,i={uid:K_++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_f(s,r),emitsOptions:If(s,r),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:s.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=D_.bind(null,i),t.ce&&t.ce(i),i}let _t=null;const Bn=()=>_t||ut;let Qi,Ha;{const t=wo(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Qi=e("__VUE_INSTANCE_SETTERS__",n=>_t=n),Ha=e("__VUE_SSR_SETTERS__",n=>qr=n)}const hi=t=>{const e=_t;return Qi(t),t.scope.on(),()=>{t.scope.off(),Qi(e)}},tu=()=>{_t&&_t.scope.off(),Qi(null)};function Af(t){return t.vnode.shapeFlag&4}let qr=!1;function J_(t,e=!1,n=!1){e&&Ha(e);const{props:s,children:r}=t.vnode,i=Af(t);w_(t,s,i,e),x_(t,r,n||e);const o=i?X_(t,e):void 0;return e&&Ha(!1),o}function X_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,f_);const{setup:s}=n;if(s){Sn();const r=t.setupContext=s.length>1?ev(t):null,i=hi(t),o=ci(s,t,0,[t.props,r]),a=yh(o);if(In(),i(),(a||t.sp)&&!Ms(t)&&of(t),a){if(o.then(tu,tu),e)return o.then(l=>{nu(t,l)}).catch(l=>{xo(l,t,0)});t.asyncDep=o}else nu(t,o)}else Nf(t)}function nu(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=Wh(e)),Nf(t)}function Nf(t,e,n){const s=t.type;t.render||(t.render=s.render||on);{const r=hi(t);Sn();try{p_(t)}finally{In(),r()}}}const Z_={get(t,e){return mt(t,"get",""),t[e]}};function ev(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Z_),slots:t.slots,emit:t.emit,expose:e}}function Lo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Wh(Ml(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Er)return Er[n](t)},has(e,n){return n in e||n in Er}})):t.proxy}function tv(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function nv(t){return de(t)&&"__vccOpts"in t}const K=(t,e)=>Ug(t,e,qr);function fi(t,e,n){const s=(i,o,a)=>{Ki(-1);try{return X(i,o,a)}finally{Ki(1)}},r=arguments.length;return r===2?Pe(e)&&!ae(e)?Hr(e)?s(t,null,[e]):s(t,e):s(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hr(n)&&(n=[n]),s(t,e,n))}const sv="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qa;const su=typeof window<"u"&&window.trustedTypes;if(su)try{qa=su.createPolicy("vue",{createHTML:t=>t})}catch{}const Rf=qa?t=>qa.createHTML(t):t=>t,rv="http://www.w3.org/2000/svg",iv="http://www.w3.org/1998/Math/MathML",mn=typeof document<"u"?document:null,ru=mn&&mn.createElement("template"),ov={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?mn.createElementNS(rv,t):e==="mathml"?mn.createElementNS(iv,t):n?mn.createElement(t,{is:n}):mn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>mn.createTextNode(t),createComment:t=>mn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{ru.innerHTML=Rf(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=ru.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Nn="transition",dr="animation",jr=Symbol("_vtc"),Pf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},av=it({},ef,Pf),lv=t=>(t.displayName="Transition",t.props=av,t),pi=lv((t,{slots:e})=>fi(Xg,cv(t),e)),ts=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},iu=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function cv(t){const e={};for(const B in t)B in Pf||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,b=uv(r),p=b&&b[0],_=b&&b[1],{onBeforeEnter:g,onEnter:E,onEnterCancelled:x,onLeave:I,onLeaveCancelled:P,onBeforeAppear:z=g,onAppear:R=E,onAppearCancelled:W=x}=e,M=(B,ee,ne,Ue)=>{B._enterCancelled=Ue,ns(B,ee?u:a),ns(B,ee?c:o),ne&&ne()},V=(B,ee)=>{B._isLeaving=!1,ns(B,d),ns(B,f),ns(B,h),ee&&ee()},Y=B=>(ee,ne)=>{const Ue=B?R:E,Ce=()=>M(ee,B,ne);ts(Ue,[ee,Ce]),ou(()=>{ns(ee,B?l:i),hn(ee,B?u:a),iu(Ue)||au(ee,s,p,Ce)})};return it(e,{onBeforeEnter(B){ts(g,[B]),hn(B,i),hn(B,o)},onBeforeAppear(B){ts(z,[B]),hn(B,l),hn(B,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(B,ee){B._isLeaving=!0;const ne=()=>V(B,ee);hn(B,d),B._enterCancelled?(hn(B,h),uu()):(uu(),hn(B,h)),ou(()=>{B._isLeaving&&(ns(B,d),hn(B,f),iu(I)||au(B,s,_,ne))}),ts(I,[B,ne])},onEnterCancelled(B){M(B,!1,void 0,!0),ts(x,[B])},onAppearCancelled(B){M(B,!0,void 0,!0),ts(W,[B])},onLeaveCancelled(B){V(B),ts(P,[B])}})}function uv(t){if(t==null)return null;if(Pe(t))return[la(t.enter),la(t.leave)];{const e=la(t);return[e,e]}}function la(t){return ag(t)}function hn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[jr]||(t[jr]=new Set)).add(e)}function ns(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[jr];n&&(n.delete(e),n.size||(t[jr]=void 0))}function ou(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let dv=0;function au(t,e,n,s){const r=t._endId=++dv,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=hv(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,h),i()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function hv(t,e){const n=window.getComputedStyle(t),s=b=>(n[b]||"").split(", "),r=s(`${Nn}Delay`),i=s(`${Nn}Duration`),o=lu(r,i),a=s(`${dr}Delay`),l=s(`${dr}Duration`),c=lu(a,l);let u=null,d=0,h=0;e===Nn?o>0&&(u=Nn,d=o,h=i.length):e===dr?c>0&&(u=dr,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?Nn:dr:null,h=u?u===Nn?i.length:l.length:0);const f=u===Nn&&/\b(?:transform|all)(?:,|$)/.test(s(`${Nn}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function lu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>cu(n)+cu(t[s])))}function cu(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function uu(){return document.body.offsetHeight}function fv(t,e,n){const s=t[jr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const du=Symbol("_vod"),pv=Symbol("_vsh"),mv=Symbol(""),gv=/(?:^|;)\s*display\s*:/;function _v(t,e,n){const s=t.style,r=Ye(n);let i=!1;if(n&&!r){if(e)if(Ye(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$i(s,a,"")}else for(const o in e)n[o]==null&&$i(s,o,"");for(const o in n)o==="display"&&(i=!0),$i(s,o,n[o])}else if(r){if(e!==n){const o=s[mv];o&&(n+=";"+o),s.cssText=n,i=gv.test(n)}}else e&&t.removeAttribute("style");du in t&&(t[du]=i?s.display:"",t[pv]&&(s.display="none"))}const hu=/\s*!important$/;function $i(t,e,n){if(ae(n))n.forEach(s=>$i(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=vv(t,e);hu.test(n)?t.setProperty(gs(s),n.replace(hu,""),"important"):t[s]=n}}const fu=["Webkit","Moz","ms"],ca={};function vv(t,e){const n=ca[e];if(n)return n;let s=Ft(e);if(s!=="filter"&&s in t)return ca[e]=s;s=Co(s);for(let r=0;r<fu.length;r++){const i=fu[r]+s;if(i in t)return ca[e]=i}return e}const pu="http://www.w3.org/1999/xlink";function mu(t,e,n,s,r,i=fg(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(pu,e.slice(6,e.length)):t.setAttributeNS(pu,e,n):n==null||i&&!Eh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Yt(n)?String(n):n)}function gu(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Rf(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Eh(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function as(t,e,n,s){t.addEventListener(e,n,s)}function yv(t,e,n,s){t.removeEventListener(e,n,s)}const _u=Symbol("_vei");function bv(t,e,n,s,r=null){const i=t[_u]||(t[_u]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Cv(e);if(s){const c=i[e]=Sv(s,r);as(t,a,c,l)}else o&&(yv(t,a,o,l),i[e]=void 0)}}const vu=/(?:Once|Passive|Capture)$/;function Cv(t){let e;if(vu.test(t)){e={};let s;for(;s=t.match(vu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gs(t.slice(2)),e]}let ua=0;const wv=Promise.resolve(),Ev=()=>ua||(wv.then(()=>ua=0),ua=Date.now());function Sv(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Kt(Iv(s,n.value),e,5,[s])};return n.value=t,n.attached=Ev(),n}function Iv(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const yu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,xv=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?fv(t,s,o):e==="style"?_v(t,n,s):vo(e)?Sl(e)||bv(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tv(t,e,s,o))?(gu(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&mu(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ye(s))?gu(t,Ft(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),mu(t,e,s,o))};function Tv(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&yu(e)&&de(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return yu(e)&&Ye(n)?!1:e in t}const Ji=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>Oi(e,n):e};function kv(t){t.target.composing=!0}function bu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ds=Symbol("_assign"),$s={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Ds]=Ji(r);const i=s||r.props&&r.props.type==="number";as(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=qi(a)),t[Ds](a)}),n&&as(t,"change",()=>{t.value=t.value.trim()}),e||(as(t,"compositionstart",kv),as(t,"compositionend",bu),as(t,"change",bu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Ds]=Ji(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?qi(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Av={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=yo(e);as(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?qi(Xi(o)):Xi(o));t[Ds](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,To(()=>{t._assigning=!1})}),t[Ds]=Ji(s)},mounted(t,{value:e}){Cu(t,e)},beforeUpdate(t,e,n){t[Ds]=Ji(n)},updated(t,{value:e}){t._assigning||Cu(t,e)}};function Cu(t,e){const n=t.multiple,s=ae(e);if(!(n&&!s&&!yo(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Xi(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=mg(e,a)>-1}else o.selected=e.has(a);else if(So(Xi(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Xi(t){return"_value"in t?t._value:t.value}const Nv=["ctrl","shift","alt","meta"],Rv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Nv.some(n=>t[`${n}Key`]&&!e.includes(n))},Ur=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const a=Rv[e[o]];if(a&&a(r,e))return}return t(r,...i)}))},Pv=it({patchProp:xv},ov);let wu;function Lv(){return wu||(wu=k_(Pv))}const Ov=((...t)=>{const e=Lv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Dv(s);if(!r)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Mv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function Mv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Dv(t){return Ye(t)?document.querySelector(t):t}const Oo=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},$v={};function Fv(t,e){const n=u_("router-view");return O(),Ne(n)}const zv=Oo($v,[["render",Fv]]);/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Lf;const Mo=t=>Lf=t,Of=Symbol();function ja(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ir;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ir||(Ir={}));function Hv(){const t=Tl(!0),e=t.run(()=>oe({}));let n=[],s=[];const r=Ml({install(i){Mo(r),r._a=i,i.provide(Of,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Mf=()=>{};function Eu(t,e,n,s=Mf){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Th()&&gg(r),r}function Ss(t,...e){t.slice().forEach(n=>{n(...e)})}const qv=t=>t(),Su=Symbol(),da=Symbol();function Ua(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];ja(r)&&ja(s)&&t.hasOwnProperty(n)&&!He(s)&&!wn(s)?t[n]=Ua(r,s):t[n]=s}return t}const jv=Symbol();function Uv(t){return!ja(t)||!Object.prototype.hasOwnProperty.call(t,jv)}const{assign:Pn}=Object;function Bv(t){return!!(He(t)&&t.effect)}function Vv(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Fg(n.state.value[t]);return Pn(u,i,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ml(K(()=>{Mo(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Df(t,c,e,n,s,!0),l}function Df(t,e,n={},s,r,i){let o;const a=Pn({actions:{}},n),l={deep:!0};let c,u,d=[],h=[],f;const b=s.state.value[t];!i&&!b&&(s.state.value[t]={}),oe({});let p;function _(W){let M;c=u=!1,typeof W=="function"?(W(s.state.value[t]),M={type:Ir.patchFunction,storeId:t,events:f}):(Ua(s.state.value[t],W),M={type:Ir.patchObject,payload:W,storeId:t,events:f});const V=p=Symbol();To().then(()=>{p===V&&(c=!0)}),u=!0,Ss(d,M,s.state.value[t])}const g=i?function(){const{state:M}=n,V=M?M():{};this.$patch(Y=>{Pn(Y,V)})}:Mf;function E(){o.stop(),d=[],h=[],s._s.delete(t)}const x=(W,M="")=>{if(Su in W)return W[da]=M,W;const V=function(){Mo(s);const Y=Array.from(arguments),B=[],ee=[];function ne(ue){B.push(ue)}function Ue(ue){ee.push(ue)}Ss(h,{args:Y,name:V[da],store:P,after:ne,onError:Ue});let Ce;try{Ce=W.apply(this&&this.$id===t?this:P,Y)}catch(ue){throw Ss(ee,ue),ue}return Ce instanceof Promise?Ce.then(ue=>(Ss(B,ue),ue)).catch(ue=>(Ss(ee,ue),Promise.reject(ue))):(Ss(B,Ce),Ce)};return V[Su]=!0,V[da]=M,V},I={_p:s,$id:t,$onAction:Eu.bind(null,h),$patch:_,$reset:g,$subscribe(W,M={}){const V=Eu(d,W,M.detached,()=>Y()),Y=o.run(()=>an(()=>s.state.value[t],B=>{(M.flush==="sync"?u:c)&&W({storeId:t,type:Ir.direct,events:f},B)},Pn({},l,M)));return V},$dispose:E},P=li(I);s._s.set(t,P);const R=(s._a&&s._a.runWithContext||qv)(()=>s._e.run(()=>(o=Tl()).run(()=>e({action:x}))));for(const W in R){const M=R[W];if(He(M)&&!Bv(M)||wn(M))i||(b&&Uv(M)&&(He(M)?M.value=b[W]:Ua(M,b[W])),s.state.value[t][W]=M);else if(typeof M=="function"){const V=x(M,W);R[W]=V,a.actions[W]=M}}return Pn(P,R),Pn(ye(P),R),Object.defineProperty(P,"$state",{get:()=>s.state.value[t],set:W=>{_(M=>{Pn(M,W)})}}),s._p.forEach(W=>{Pn(P,o.run(()=>W({store:P,app:s._a,pinia:s,options:a})))}),b&&i&&n.hydrate&&n.hydrate(P.$state,b),c=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function $f(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const l=C_();return o=o||(l?Et(Of,null):null),o&&Mo(o),o=Lf,o._s.has(t)||(r?Df(t,e,s,o):Vv(t,s,o)),o._s.get(t)}return i.$id=t,i}function Wv(t){const e=ye(t),n={};for(const s in e){const r=e[s];r.effect?n[s]=K({get:()=>t[s],set(i){t[s]=i}}):(He(r)||wn(r))&&(n[s]=qg(t,s))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const As=typeof document<"u";function Ff(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Gv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ff(t.default)}const Te=Object.assign;function ha(t,e){const n={};for(const s in e){const r=e[s];n[s]=Qt(r)?r.map(t):t(r)}return n}const xr=()=>{},Qt=Array.isArray,zf=/#/g,Yv=/&/g,Kv=/\//g,Qv=/=/g,Jv=/\?/g,Hf=/\+/g,Xv=/%5B/g,Zv=/%5D/g,qf=/%5E/g,ey=/%60/g,jf=/%7B/g,ty=/%7C/g,Uf=/%7D/g,ny=/%20/g;function Hl(t){return encodeURI(""+t).replace(ty,"|").replace(Xv,"[").replace(Zv,"]")}function sy(t){return Hl(t).replace(jf,"{").replace(Uf,"}").replace(qf,"^")}function Ba(t){return Hl(t).replace(Hf,"%2B").replace(ny,"+").replace(zf,"%23").replace(Yv,"%26").replace(ey,"`").replace(jf,"{").replace(Uf,"}").replace(qf,"^")}function ry(t){return Ba(t).replace(Qv,"%3D")}function iy(t){return Hl(t).replace(zf,"%23").replace(Jv,"%3F")}function oy(t){return t==null?"":iy(t).replace(Kv,"%2F")}function Br(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ay=/\/$/,ly=t=>t.replace(ay,"");function fa(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=hy(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Br(o)}}function cy(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Iu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function uy(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&qs(e.matched[s],n.matched[r])&&Bf(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Bf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!dy(t[n],e[n]))return!1;return!0}function dy(t,e){return Qt(t)?xu(t,e):Qt(e)?xu(e,t):t===e}function xu(t,e){return Qt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function hy(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vr;(function(t){t.pop="pop",t.push="push"})(Vr||(Vr={}));var Tr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tr||(Tr={}));function fy(t){if(!t)if(As){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ly(t)}const py=/^[^#]+#/;function my(t,e){return t.replace(py,"#")+e}function gy(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Do=()=>({left:window.scrollX,top:window.scrollY});function _y(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=gy(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Tu(t,e){return(history.state?history.state.position-e:-1)+t}const Va=new Map;function vy(t,e){Va.set(t,e)}function yy(t){const e=Va.get(t);return Va.delete(t),e}let by=()=>location.protocol+"//"+location.host;function Vf(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Iu(l,"")}return Iu(n,t)+s+r}function Cy(t,e,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const f=Vf(t,location),b=n.value,p=e.value;let _=0;if(h){if(n.value=f,e.value=h,o&&o===b){o=null;return}_=p?h.position-p.position:0}else s(f);r.forEach(g=>{g(n.value,b,{delta:_,type:Vr.pop,direction:_?_>0?Tr.forward:Tr.back:Tr.unknown})})};function l(){o=n.value}function c(h){r.push(h);const f=()=>{const b=r.indexOf(h);b>-1&&r.splice(b,1)};return i.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(Te({},h.state,{scroll:Do()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function ku(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Do():null}}function wy(t){const{history:e,location:n}=window,s={value:Vf(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:by()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){const u=Te({},e.state,ku(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Te({},r.value,e.state,{forward:l,scroll:Do()});i(u.current,u,!0);const d=Te({},ku(s.value,l,null),{position:u.position+1},c);i(l,d,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Ey(t){t=fy(t);const e=wy(t),n=Cy(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Te({location:"",base:t,go:s,createHref:my.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Sy(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ey(t)}function Iy(t){return typeof t=="string"||t&&typeof t=="object"}function Wf(t){return typeof t=="string"||typeof t=="symbol"}const Gf=Symbol("");var Au;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Au||(Au={}));function js(t,e){return Te(new Error,{type:t,[Gf]:!0},e)}function fn(t,e){return t instanceof Error&&Gf in t&&(e==null||!!(t.type&e))}const Nu="[^/]+?",xy={sensitive:!1,strict:!1,start:!0,end:!0},Ty=/[.+*?^${}()[\]/\\]/g;function ky(t,e){const n=Te({},xy,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(Ty,"\\$&"),f+=40;else if(h.type===1){const{value:b,repeatable:p,optional:_,regexp:g}=h;i.push({name:b,repeatable:p,optional:_});const E=g||Nu;if(E!==Nu){f+=10;try{new RegExp(`(${E})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${b}" (${E}): `+I.message)}}let x=p?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(x=_&&c.length<2?`(?:/${x})`:"/"+x),_&&(x+="?"),r+=x,f+=20,_&&(f+=-8),p&&(f+=-20),E===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",b=i[h-1];d[b.name]=f&&b.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:b,repeatable:p,optional:_}=f,g=b in c?c[b]:"";if(Qt(g)&&!p)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const E=Qt(g)?g.join("/"):g;if(!E)if(_)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${b}"`);u+=E}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Ay(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Yf(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Ay(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Ru(s))return 1;if(Ru(r))return-1}return r.length-s.length}function Ru(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ny={type:0,value:""},Ry=/[a-zA-Z0-9_]/;function Py(t){if(!t)return[[]];if(t==="/")return[[Ny]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:Ry.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function Ly(t,e,n){const s=ky(Py(t.path),n),r=Te(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Oy(t,e){const n=[],s=new Map;e=Mu({strict:!1,end:!0,sensitive:!1},e);function r(d){return s.get(d)}function i(d,h,f){const b=!f,p=Lu(d);p.aliasOf=f&&f.record;const _=Mu(e,d),g=[p];if("alias"in d){const I=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of I)g.push(Lu(Te({},p,{components:f?f.record.components:p.components,path:P,aliasOf:f?f.record:p})))}let E,x;for(const I of g){const{path:P}=I;if(h&&P[0]!=="/"){const z=h.record.path,R=z[z.length-1]==="/"?"":"/";I.path=h.record.path+(P&&R+P)}if(E=Ly(I,h,_),f?f.alias.push(E):(x=x||E,x!==E&&x.alias.push(E),b&&d.name&&!Ou(E)&&o(d.name)),Kf(E)&&l(E),p.children){const z=p.children;for(let R=0;R<z.length;R++)i(z[R],E,f&&f.children[R])}f=f||E}return x?()=>{o(x)}:xr}function o(d){if(Wf(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=$y(d,n);n.splice(h,0,d),d.record.name&&!Ou(d)&&s.set(d.record.name,d)}function c(d,h){let f,b={},p,_;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw js(1,{location:d});_=f.record.name,b=Te(Pu(h.params,f.keys.filter(x=>!x.optional).concat(f.parent?f.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&Pu(d.params,f.keys.map(x=>x.name))),p=f.stringify(b)}else if(d.path!=null)p=d.path,f=n.find(x=>x.re.test(p)),f&&(b=f.parse(p),_=f.record.name);else{if(f=h.name?s.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw js(1,{location:d,currentLocation:h});_=f.record.name,b=Te({},h.params,d.params),p=f.stringify(b)}const g=[];let E=f;for(;E;)g.unshift(E.record),E=E.parent;return{name:_,path:p,params:b,matched:g,meta:Dy(g)}}t.forEach(d=>i(d));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Pu(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Lu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:My(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function My(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Ou(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Dy(t){return t.reduce((e,n)=>Te(e,n.meta),{})}function Mu(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function $y(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Yf(t,e[i])<0?s=i:n=i+1}const r=Fy(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Fy(t){let e=t;for(;e=e.parent;)if(Kf(e)&&Yf(t,e)===0)return e}function Kf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function zy(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Hf," "),o=i.indexOf("="),a=Br(o<0?i:i.slice(0,o)),l=o<0?null:Br(i.slice(o+1));if(a in e){let c=e[a];Qt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Du(t){let e="";for(let n in t){const s=t[n];if(n=ry(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qt(s)?s.map(i=>i&&Ba(i)):[s&&Ba(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Hy(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Qt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const qy=Symbol(""),$u=Symbol(""),$o=Symbol(""),ql=Symbol(""),Wa=Symbol("");function hr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Mn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(js(4,{from:n,to:e})):h instanceof Error?l(h):Iy(h)?l(js(2,{from:e,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>t.call(s&&s.instances[r],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function pa(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ff(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Mn(u,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Gv(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Mn(f,n,s,o,a,r)()}))}}return i}function Fu(t){const e=Et($o),n=Et(ql),s=K(()=>{const l=C(t.to);return e.resolve(l)}),r=K(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(qs.bind(null,u));if(h>-1)return h;const f=zu(l[c-2]);return c>1&&zu(u)===f&&d[d.length-1].path!==f?d.findIndex(qs.bind(null,l[c-2])):h}),i=K(()=>r.value>-1&&Wy(n.params,s.value.params)),o=K(()=>r.value>-1&&r.value===n.matched.length-1&&Bf(n.params,s.value.params));function a(l={}){if(Vy(l)){const c=e[C(t.replace)?"replace":"push"](C(t.to)).catch(xr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:K(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function jy(t){return t.length===1?t[0]:t}const Uy=ui({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Fu,setup(t,{slots:e}){const n=li(Fu(t)),{options:s}=Et($o),r=K(()=>({[Hu(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Hu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&jy(e.default(n));return t.custom?i:fi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),By=Uy;function Vy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Wy(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Qt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function zu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Hu=(t,e,n)=>t??e??n,Gy=ui({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Et(Wa),r=K(()=>t.route||s.value),i=Et($u,0),o=K(()=>{let c=C(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=K(()=>r.value.matched[o.value]);Wt($u,K(()=>o.value+1)),Wt(qy,a),Wt(Wa,r);const l=oe();return an(()=>[l.value,a.value,t.name],([c,u,d],[h,f,b])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!qs(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return qu(n.default,{Component:h,route:c});const f=d.props[u],b=f?f===!0?c.params:typeof f=="function"?f(c):f:null,_=fi(h,Te({},b,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return qu(n.default,{Component:_,route:c})||_}}});function qu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Yy=Gy;function Ky(t){const e=Oy(t.routes,t),n=t.parseQuery||zy,s=t.stringifyQuery||Du,r=t.history,i=hr(),o=hr(),a=hr(),l=Bh(Rn);let c=Rn;As&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ha.bind(null,F=>""+F),d=ha.bind(null,oy),h=ha.bind(null,Br);function f(F,Z){let Q,re;return Wf(F)?(Q=e.getRecordMatcher(F),re=Z):re=F,e.addRoute(re,Q)}function b(F){const Z=e.getRecordMatcher(F);Z&&e.removeRoute(Z)}function p(){return e.getRoutes().map(F=>F.record)}function _(F){return!!e.getRecordMatcher(F)}function g(F,Z){if(Z=Te({},Z||l.value),typeof F=="string"){const A=fa(n,F,Z.path),D=e.resolve({path:A.path},Z),H=r.createHref(A.fullPath);return Te(A,D,{params:h(D.params),hash:Br(A.hash),redirectedFrom:void 0,href:H})}let Q;if(F.path!=null)Q=Te({},F,{path:fa(n,F.path,Z.path).path});else{const A=Te({},F.params);for(const D in A)A[D]==null&&delete A[D];Q=Te({},F,{params:d(A)}),Z.params=d(Z.params)}const re=e.resolve(Q,Z),Se=F.hash||"";re.params=u(h(re.params));const w=cy(s,Te({},F,{hash:sy(Se),path:re.path})),S=r.createHref(w);return Te({fullPath:w,hash:Se,query:s===Du?Hy(F.query):F.query||{}},re,{redirectedFrom:void 0,href:S})}function E(F){return typeof F=="string"?fa(n,F,l.value.path):Te({},F)}function x(F,Z){if(c!==F)return js(8,{from:Z,to:F})}function I(F){return R(F)}function P(F){return I(Te(E(F),{replace:!0}))}function z(F){const Z=F.matched[F.matched.length-1];if(Z&&Z.redirect){const{redirect:Q}=Z;let re=typeof Q=="function"?Q(F):Q;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=E(re):{path:re},re.params={}),Te({query:F.query,hash:F.hash,params:re.path!=null?{}:F.params},re)}}function R(F,Z){const Q=c=g(F),re=l.value,Se=F.state,w=F.force,S=F.replace===!0,A=z(Q);if(A)return R(Te(E(A),{state:typeof A=="object"?Te({},Se,A.state):Se,force:w,replace:S}),Z||Q);const D=Q;D.redirectedFrom=Z;let H;return!w&&uy(s,re,Q)&&(H=js(16,{to:D,from:re}),yt(re,re,!0,!1)),(H?Promise.resolve(H):V(D,re)).catch($=>fn($)?fn($,2)?$:kt($):ve($,D,re)).then($=>{if($){if(fn($,2))return R(Te({replace:S},E($.to),{state:typeof $.to=="object"?Te({},Se,$.to.state):Se,force:w}),Z||D)}else $=B(D,re,!0,S,Se);return Y(D,re,$),$})}function W(F,Z){const Q=x(F,Z);return Q?Promise.reject(Q):Promise.resolve()}function M(F){const Z=Xt.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(F):F()}function V(F,Z){let Q;const[re,Se,w]=Qy(F,Z);Q=pa(re.reverse(),"beforeRouteLeave",F,Z);for(const A of re)A.leaveGuards.forEach(D=>{Q.push(Mn(D,F,Z))});const S=W.bind(null,F,Z);return Q.push(S),ht(Q).then(()=>{Q=[];for(const A of i.list())Q.push(Mn(A,F,Z));return Q.push(S),ht(Q)}).then(()=>{Q=pa(Se,"beforeRouteUpdate",F,Z);for(const A of Se)A.updateGuards.forEach(D=>{Q.push(Mn(D,F,Z))});return Q.push(S),ht(Q)}).then(()=>{Q=[];for(const A of w)if(A.beforeEnter)if(Qt(A.beforeEnter))for(const D of A.beforeEnter)Q.push(Mn(D,F,Z));else Q.push(Mn(A.beforeEnter,F,Z));return Q.push(S),ht(Q)}).then(()=>(F.matched.forEach(A=>A.enterCallbacks={}),Q=pa(w,"beforeRouteEnter",F,Z,M),Q.push(S),ht(Q))).then(()=>{Q=[];for(const A of o.list())Q.push(Mn(A,F,Z));return Q.push(S),ht(Q)}).catch(A=>fn(A,8)?A:Promise.reject(A))}function Y(F,Z,Q){a.list().forEach(re=>M(()=>re(F,Z,Q)))}function B(F,Z,Q,re,Se){const w=x(F,Z);if(w)return w;const S=Z===Rn,A=As?history.state:{};Q&&(re||S?r.replace(F.fullPath,Te({scroll:S&&A&&A.scroll},Se)):r.push(F.fullPath,Se)),l.value=F,yt(F,Z,Q,S),kt()}let ee;function ne(){ee||(ee=r.listen((F,Z,Q)=>{if(!Xn.listening)return;const re=g(F),Se=z(re);if(Se){R(Te(Se,{replace:!0,force:!0}),re).catch(xr);return}c=re;const w=l.value;As&&vy(Tu(w.fullPath,Q.delta),Do()),V(re,w).catch(S=>fn(S,12)?S:fn(S,2)?(R(Te(E(S.to),{force:!0}),re).then(A=>{fn(A,20)&&!Q.delta&&Q.type===Vr.pop&&r.go(-1,!1)}).catch(xr),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),ve(S,re,w))).then(S=>{S=S||B(re,w,!1),S&&(Q.delta&&!fn(S,8)?r.go(-Q.delta,!1):Q.type===Vr.pop&&fn(S,20)&&r.go(-1,!1)),Y(re,w,S)}).catch(xr)}))}let Ue=hr(),Ce=hr(),ue;function ve(F,Z,Q){kt(F);const re=Ce.list();return re.length?re.forEach(Se=>Se(F,Z,Q)):console.error(F),Promise.reject(F)}function Qe(){return ue&&l.value!==Rn?Promise.resolve():new Promise((F,Z)=>{Ue.add([F,Z])})}function kt(F){return ue||(ue=!F,ne(),Ue.list().forEach(([Z,Q])=>F?Q(F):Z()),Ue.reset()),F}function yt(F,Z,Q,re){const{scrollBehavior:Se}=t;if(!As||!Se)return Promise.resolve();const w=!Q&&yy(Tu(F.fullPath,0))||(re||!Q)&&history.state&&history.state.scroll||null;return To().then(()=>Se(F,Z,w)).then(S=>S&&_y(S)).catch(S=>ve(S,F,Z))}const nt=F=>r.go(F);let Jt;const Xt=new Set,Xn={currentRoute:l,listening:!0,addRoute:f,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:p,resolve:g,options:t,push:I,replace:P,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ce.add,isReady:Qe,install(F){const Z=this;F.component("RouterLink",By),F.component("RouterView",Yy),F.config.globalProperties.$router=Z,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>C(l)}),As&&!Jt&&l.value===Rn&&(Jt=!0,I(r.location).catch(Se=>{}));const Q={};for(const Se in Rn)Object.defineProperty(Q,Se,{get:()=>l.value[Se],enumerable:!0});F.provide($o,Z),F.provide(ql,jh(Q)),F.provide(Wa,l);const re=F.unmount;Xt.add(F),F.unmount=function(){Xt.delete(F),Xt.size<1&&(c=Rn,ee&&ee(),ee=null,l.value=Rn,Jt=!1,ue=!1),re()}}};function ht(F){return F.reduce((Z,Q)=>Z.then(()=>M(Q)),Promise.resolve())}return Xn}function Qy(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>qs(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>qs(c,l))||r.push(l))}return[n,s,r]}function cn(){return Et($o)}function Qf(t){return Et(ql)}/*!
  * shared v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Jy(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Zi=typeof window<"u",Yn=(t,e=!1)=>e?Symbol.for(t):Symbol(t),Xy=(t,e,n)=>Zy({l:t,k:e,s:n}),Zy=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ke=t=>typeof t=="number"&&isFinite(t),eb=t=>jl(t)==="[object Date]",Us=t=>jl(t)==="[object RegExp]",Fo=t=>me(t)&&Object.keys(t).length===0,tt=Object.assign,tb=Object.create,Re=(t=null)=>tb(t);let ju;const ls=()=>ju||(ju=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Re());function Uu(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Bu(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nb(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(s,r,i)=>`${r}="${Bu(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(s,r,i)=>`${r}='${Bu(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(s=>{t=t.replace(s,"$1javascript&#58;")}),t}const sb=Object.prototype.hasOwnProperty;function Ut(t,e){return sb.call(t,e)}const Be=Array.isArray,je=t=>typeof t=="function",te=t=>typeof t=="string",we=t=>typeof t=="boolean",xe=t=>t!==null&&typeof t=="object",rb=t=>xe(t)&&je(t.then)&&je(t.catch),Jf=Object.prototype.toString,jl=t=>Jf.call(t),me=t=>jl(t)==="[object Object]",ib=t=>t==null?"":Be(t)||me(t)&&t.toString===Jf?JSON.stringify(t,null,2):String(t);function Ul(t,e=""){return t.reduce((n,s,r)=>r===0?n+s:n+e+s,"")}const ki=t=>!xe(t)||Be(t);function Fi(t,e){if(ki(t)||ki(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:s,des:r}=n.pop();Object.keys(s).forEach(i=>{i!=="__proto__"&&(xe(s[i])&&!xe(r[i])&&(r[i]=Array.isArray(s[i])?[]:Re()),ki(r[i])||ki(s[i])?r[i]=s[i]:n.push({src:s[i],des:r[i]}))})}}/*!
  * message-compiler v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ob(t,e,n){return{line:t,column:e,offset:n}}function Ga(t,e,n){return{start:t,end:e}}const ke={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},ab=17;function zo(t,e,n={}){const{domain:s,messages:r,args:i}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=s,a}function lb(t){throw t}const tn=" ",cb="\r",ft=`
`,ub="\u2028",db="\u2029";function hb(t){const e=t;let n=0,s=1,r=1,i=0;const o=R=>e[R]===cb&&e[R+1]===ft,a=R=>e[R]===ft,l=R=>e[R]===db,c=R=>e[R]===ub,u=R=>o(R)||a(R)||l(R)||c(R),d=()=>n,h=()=>s,f=()=>r,b=()=>i,p=R=>o(R)||l(R)||c(R)?ft:e[R],_=()=>p(n),g=()=>p(n+i);function E(){return i=0,u(n)&&(s++,r=0),o(n)&&n++,n++,r++,e[n]}function x(){return o(n+i)&&i++,i++,e[n+i]}function I(){n=0,s=1,r=1,i=0}function P(R=0){i=R}function z(){const R=n+i;for(;R!==n;)E();i=0}return{index:d,line:h,column:f,peekOffset:b,charAt:p,currentChar:_,currentPeek:g,next:E,peek:x,reset:I,resetPeek:P,skipToPeek:z}}const pn=void 0,fb=".",Vu="'",pb="tokenizer";function mb(t,e={}){const n=e.location!==!1,s=hb(t),r=()=>s.index(),i=()=>ob(s.line(),s.column(),s.index()),o=i(),a=r(),l={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d(v,y,T,...N){const J=c();if(y.column+=T,y.offset+=T,u){const j=n?Ga(J.startLoc,y):null,k=zo(v,j,{domain:pb,args:N});u(k)}}function h(v,y,T){v.endLoc=i(),v.currentType=y;const N={type:y};return n&&(N.loc=Ga(v.startLoc,v.endLoc)),T!=null&&(N.value=T),N}const f=v=>h(v,13);function b(v,y){return v.currentChar()===y?(v.next(),y):(d(ke.EXPECTED_TOKEN,i(),0,y),"")}function p(v){let y="";for(;v.currentPeek()===tn||v.currentPeek()===ft;)y+=v.currentPeek(),v.peek();return y}function _(v){const y=p(v);return v.skipToPeek(),y}function g(v){if(v===pn)return!1;const y=v.charCodeAt(0);return y>=97&&y<=122||y>=65&&y<=90||y===95}function E(v){if(v===pn)return!1;const y=v.charCodeAt(0);return y>=48&&y<=57}function x(v,y){const{currentType:T}=y;if(T!==2)return!1;p(v);const N=g(v.currentPeek());return v.resetPeek(),N}function I(v,y){const{currentType:T}=y;if(T!==2)return!1;p(v);const N=v.currentPeek()==="-"?v.peek():v.currentPeek(),J=E(N);return v.resetPeek(),J}function P(v,y){const{currentType:T}=y;if(T!==2)return!1;p(v);const N=v.currentPeek()===Vu;return v.resetPeek(),N}function z(v,y){const{currentType:T}=y;if(T!==7)return!1;p(v);const N=v.currentPeek()===".";return v.resetPeek(),N}function R(v,y){const{currentType:T}=y;if(T!==8)return!1;p(v);const N=g(v.currentPeek());return v.resetPeek(),N}function W(v,y){const{currentType:T}=y;if(!(T===7||T===11))return!1;p(v);const N=v.currentPeek()===":";return v.resetPeek(),N}function M(v,y){const{currentType:T}=y;if(T!==9)return!1;const N=()=>{const j=v.currentPeek();return j==="{"?g(v.peek()):j==="@"||j==="|"||j===":"||j==="."||j===tn||!j?!1:j===ft?(v.peek(),N()):Y(v,!1)},J=N();return v.resetPeek(),J}function V(v){p(v);const y=v.currentPeek()==="|";return v.resetPeek(),y}function Y(v,y=!0){const T=(J=!1,j="")=>{const k=v.currentPeek();return k==="{"||k==="@"||!k?J:k==="|"?!(j===tn||j===ft):k===tn?(v.peek(),T(!0,tn)):k===ft?(v.peek(),T(!0,ft)):!0},N=T();return y&&v.resetPeek(),N}function B(v,y){const T=v.currentChar();return T===pn?pn:y(T)?(v.next(),T):null}function ee(v){const y=v.charCodeAt(0);return y>=97&&y<=122||y>=65&&y<=90||y>=48&&y<=57||y===95||y===36}function ne(v){return B(v,ee)}function Ue(v){const y=v.charCodeAt(0);return y>=97&&y<=122||y>=65&&y<=90||y>=48&&y<=57||y===95||y===36||y===45}function Ce(v){return B(v,Ue)}function ue(v){const y=v.charCodeAt(0);return y>=48&&y<=57}function ve(v){return B(v,ue)}function Qe(v){const y=v.charCodeAt(0);return y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102}function kt(v){return B(v,Qe)}function yt(v){let y="",T="";for(;y=ve(v);)T+=y;return T}function nt(v){let y="";for(;;){const T=v.currentChar();if(T==="{"||T==="}"||T==="@"||T==="|"||!T)break;if(T===tn||T===ft)if(Y(v))y+=T,v.next();else{if(V(v))break;y+=T,v.next()}else y+=T,v.next()}return y}function Jt(v){_(v);let y="",T="";for(;y=Ce(v);)T+=y;const N=v.currentChar();if(N&&N!=="}"&&N!==pn&&N!==tn&&N!==ft&&N!==""){const J=re(v);return d(ke.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,T+J),T+J}return v.currentChar()===pn&&d(ke.UNTERMINATED_CLOSING_BRACE,i(),0),T}function Xt(v){_(v);let y="";return v.currentChar()==="-"?(v.next(),y+=`-${yt(v)}`):y+=yt(v),v.currentChar()===pn&&d(ke.UNTERMINATED_CLOSING_BRACE,i(),0),y}function Xn(v){return v!==Vu&&v!==ft}function ht(v){_(v),b(v,"'");let y="",T="";for(;y=B(v,Xn);)y==="\\"?T+=F(v):T+=y;const N=v.currentChar();return N===ft||N===pn?(d(ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),N===ft&&(v.next(),b(v,"'")),T):(b(v,"'"),T)}function F(v){const y=v.currentChar();switch(y){case"\\":case"'":return v.next(),`\\${y}`;case"u":return Z(v,y,4);case"U":return Z(v,y,6);default:return d(ke.UNKNOWN_ESCAPE_SEQUENCE,i(),0,y),""}}function Z(v,y,T){b(v,y);let N="";for(let J=0;J<T;J++){const j=kt(v);if(!j){d(ke.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${y}${N}${v.currentChar()}`);break}N+=j}return`\\${y}${N}`}function Q(v){return v!=="{"&&v!=="}"&&v!==tn&&v!==ft}function re(v){_(v);let y="",T="";for(;y=B(v,Q);)T+=y;return T}function Se(v){let y="",T="";for(;y=ne(v);)T+=y;return T}function w(v){const y=T=>{const N=v.currentChar();return N==="{"||N==="@"||N==="|"||N==="("||N===")"||!N||N===tn?T:(T+=N,v.next(),y(T))};return y("")}function S(v){_(v);const y=b(v,"|");return _(v),y}function A(v,y){let T=null;switch(v.currentChar()){case"{":return y.braceNest>=1&&d(ke.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),v.next(),T=h(y,2,"{"),_(v),y.braceNest++,T;case"}":return y.braceNest>0&&y.currentType===2&&d(ke.EMPTY_PLACEHOLDER,i(),0),v.next(),T=h(y,3,"}"),y.braceNest--,y.braceNest>0&&_(v),y.inLinked&&y.braceNest===0&&(y.inLinked=!1),T;case"@":return y.braceNest>0&&d(ke.UNTERMINATED_CLOSING_BRACE,i(),0),T=D(v,y)||f(y),y.braceNest=0,T;default:{let J=!0,j=!0,k=!0;if(V(v))return y.braceNest>0&&d(ke.UNTERMINATED_CLOSING_BRACE,i(),0),T=h(y,1,S(v)),y.braceNest=0,y.inLinked=!1,T;if(y.braceNest>0&&(y.currentType===4||y.currentType===5||y.currentType===6))return d(ke.UNTERMINATED_CLOSING_BRACE,i(),0),y.braceNest=0,H(v,y);if(J=x(v,y))return T=h(y,4,Jt(v)),_(v),T;if(j=I(v,y))return T=h(y,5,Xt(v)),_(v),T;if(k=P(v,y))return T=h(y,6,ht(v)),_(v),T;if(!J&&!j&&!k)return T=h(y,12,re(v)),d(ke.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,T.value),_(v),T;break}}return T}function D(v,y){const{currentType:T}=y;let N=null;const J=v.currentChar();switch((T===7||T===8||T===11||T===9)&&(J===ft||J===tn)&&d(ke.INVALID_LINKED_FORMAT,i(),0),J){case"@":return v.next(),N=h(y,7,"@"),y.inLinked=!0,N;case".":return _(v),v.next(),h(y,8,".");case":":return _(v),v.next(),h(y,9,":");default:return V(v)?(N=h(y,1,S(v)),y.braceNest=0,y.inLinked=!1,N):z(v,y)||W(v,y)?(_(v),D(v,y)):R(v,y)?(_(v),h(y,11,Se(v))):M(v,y)?(_(v),J==="{"?A(v,y)||N:h(y,10,w(v))):(T===7&&d(ke.INVALID_LINKED_FORMAT,i(),0),y.braceNest=0,y.inLinked=!1,H(v,y))}}function H(v,y){let T={type:13};if(y.braceNest>0)return A(v,y)||f(y);if(y.inLinked)return D(v,y)||f(y);switch(v.currentChar()){case"{":return A(v,y)||f(y);case"}":return d(ke.UNBALANCED_CLOSING_BRACE,i(),0),v.next(),h(y,3,"}");case"@":return D(v,y)||f(y);default:{if(V(v))return T=h(y,1,S(v)),y.braceNest=0,y.inLinked=!1,T;if(Y(v))return h(y,0,nt(v));break}}return T}function $(){const{currentType:v,offset:y,startLoc:T,endLoc:N}=l;return l.lastType=v,l.lastOffset=y,l.lastStartLoc=T,l.lastEndLoc=N,l.offset=r(),l.startLoc=i(),s.currentChar()===pn?h(l,13):H(s,l)}return{nextToken:$,currentOffset:r,currentPosition:i,context:c}}const gb="parser",_b=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function vb(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):""}}}function yb(t={}){const e=t.location!==!1,{onError:n}=t;function s(g,E,x,I,...P){const z=g.currentPosition();if(z.offset+=I,z.column+=I,n){const R=e?Ga(x,z):null,W=zo(E,R,{domain:gb,args:P});n(W)}}function r(g,E,x){const I={type:g};return e&&(I.start=E,I.end=E,I.loc={start:x,end:x}),I}function i(g,E,x,I){e&&(g.end=E,g.loc&&(g.loc.end=x))}function o(g,E){const x=g.context(),I=r(3,x.offset,x.startLoc);return I.value=E,i(I,g.currentOffset(),g.currentPosition()),I}function a(g,E){const x=g.context(),{lastOffset:I,lastStartLoc:P}=x,z=r(5,I,P);return z.index=parseInt(E,10),g.nextToken(),i(z,g.currentOffset(),g.currentPosition()),z}function l(g,E){const x=g.context(),{lastOffset:I,lastStartLoc:P}=x,z=r(4,I,P);return z.key=E,g.nextToken(),i(z,g.currentOffset(),g.currentPosition()),z}function c(g,E){const x=g.context(),{lastOffset:I,lastStartLoc:P}=x,z=r(9,I,P);return z.value=E.replace(_b,vb),g.nextToken(),i(z,g.currentOffset(),g.currentPosition()),z}function u(g){const E=g.nextToken(),x=g.context(),{lastOffset:I,lastStartLoc:P}=x,z=r(8,I,P);return E.type!==11?(s(g,ke.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),z.value="",i(z,I,P),{nextConsumeToken:E,node:z}):(E.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,nn(E)),z.value=E.value||"",i(z,g.currentOffset(),g.currentPosition()),{node:z})}function d(g,E){const x=g.context(),I=r(7,x.offset,x.startLoc);return I.value=E,i(I,g.currentOffset(),g.currentPosition()),I}function h(g){const E=g.context(),x=r(6,E.offset,E.startLoc);let I=g.nextToken();if(I.type===8){const P=u(g);x.modifier=P.node,I=P.nextConsumeToken||g.nextToken()}switch(I.type!==9&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(I)),I=g.nextToken(),I.type===2&&(I=g.nextToken()),I.type){case 10:I.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(I)),x.key=d(g,I.value||"");break;case 4:I.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(I)),x.key=l(g,I.value||"");break;case 5:I.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(I)),x.key=a(g,I.value||"");break;case 6:I.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(I)),x.key=c(g,I.value||"");break;default:{s(g,ke.UNEXPECTED_EMPTY_LINKED_KEY,E.lastStartLoc,0);const P=g.context(),z=r(7,P.offset,P.startLoc);return z.value="",i(z,P.offset,P.startLoc),x.key=z,i(x,P.offset,P.startLoc),{nextConsumeToken:I,node:x}}}return i(x,g.currentOffset(),g.currentPosition()),{node:x}}function f(g){const E=g.context(),x=E.currentType===1?g.currentOffset():E.offset,I=E.currentType===1?E.endLoc:E.startLoc,P=r(2,x,I);P.items=[];let z=null;do{const M=z||g.nextToken();switch(z=null,M.type){case 0:M.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(M)),P.items.push(o(g,M.value||""));break;case 5:M.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(M)),P.items.push(a(g,M.value||""));break;case 4:M.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(M)),P.items.push(l(g,M.value||""));break;case 6:M.value==null&&s(g,ke.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,nn(M)),P.items.push(c(g,M.value||""));break;case 7:{const V=h(g);P.items.push(V.node),z=V.nextConsumeToken||null;break}}}while(E.currentType!==13&&E.currentType!==1);const R=E.currentType===1?E.lastOffset:g.currentOffset(),W=E.currentType===1?E.lastEndLoc:g.currentPosition();return i(P,R,W),P}function b(g,E,x,I){const P=g.context();let z=I.items.length===0;const R=r(1,E,x);R.cases=[],R.cases.push(I);do{const W=f(g);z||(z=W.items.length===0),R.cases.push(W)}while(P.currentType!==13);return z&&s(g,ke.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),i(R,g.currentOffset(),g.currentPosition()),R}function p(g){const E=g.context(),{offset:x,startLoc:I}=E,P=f(g);return E.currentType===13?P:b(g,x,I,P)}function _(g){const E=mb(g,tt({},t)),x=E.context(),I=r(0,x.offset,x.startLoc);return e&&I.loc&&(I.loc.source=g),I.body=p(E),t.onCacheKey&&(I.cacheKey=t.onCacheKey(g)),x.currentType!==13&&s(E,ke.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,g[x.offset]||""),i(I,E.currentOffset(),E.currentPosition()),I}return{parse:_}}function nn(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function bb(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function Wu(t,e){for(let n=0;n<t.length;n++)Bl(t[n],e)}function Bl(t,e){switch(t.type){case 1:Wu(t.cases,e),e.helper("plural");break;case 2:Wu(t.items,e);break;case 6:{Bl(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Cb(t,e={}){const n=bb(t);n.helper("normalize"),t.body&&Bl(t.body,n);const s=n.context();t.helpers=Array.from(s.helpers)}function wb(t){const e=t.body;return e.type===2?Gu(e):e.cases.forEach(n=>Gu(n)),t}function Gu(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const s=t.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;e.push(s.value)}if(e.length===t.items.length){t.static=Ul(e);for(let n=0;n<t.items.length;n++){const s=t.items[n];(s.type===3||s.type===9)&&delete s.value}}}}function Ns(t){switch(t.t=t.type,t.type){case 0:{const e=t;Ns(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let s=0;s<n.length;s++)Ns(n[s]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let s=0;s<n.length;s++)Ns(n[s]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Ns(e.key),e.k=e.key,delete e.key,e.modifier&&(Ns(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function Eb(t,e){const{filename:n,breakLineCode:s,needIndent:r}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(p,_){o.code+=p}function c(p,_=!0){const g=_?s:"";l(r?g+"  ".repeat(p):g)}function u(p=!0){const _=++o.indentLevel;p&&c(_)}function d(p=!0){const _=--o.indentLevel;p&&c(_)}function h(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:d,newline:h,helper:p=>`_${p}`,needIndent:()=>o.needIndent}}function Sb(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Bs(t,e.key),e.modifier?(t.push(", "),Bs(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Ib(t,e){const{helper:n,needIndent:s}=t;t.push(`${n("normalize")}([`),t.indent(s());const r=e.items.length;for(let i=0;i<r&&(Bs(t,e.items[i]),i!==r-1);i++)t.push(", ");t.deindent(s()),t.push("])")}function xb(t,e){const{helper:n,needIndent:s}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(s());const r=e.cases.length;for(let i=0;i<r&&(Bs(t,e.cases[i]),i!==r-1);i++)t.push(", ");t.deindent(s()),t.push("])")}}function Tb(t,e){e.body?Bs(t,e.body):t.push("null")}function Bs(t,e){const{helper:n}=t;switch(e.type){case 0:Tb(t,e);break;case 1:xb(t,e);break;case 2:Ib(t,e);break;case 6:Sb(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const kb=(t,e={})=>{const n=te(e.mode)?e.mode:"normal",s=te(e.filename)?e.filename:"message.intl";e.sourceMap;const r=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=Eb(t,{filename:s,breakLineCode:r,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${Ul(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Bs(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Ab(t,e={}){const n=tt({},e),s=!!n.jit,r=!!n.minify,i=n.optimize==null?!0:n.optimize,a=yb(n).parse(t);return s?(i&&wb(a),r&&Ns(a),{ast:a,code:""}):(Cb(a,n),kb(a,n))}/*!
  * core-base v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Nb(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ls().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ls().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function ln(t){return xe(t)&&Vl(t)===0&&(Ut(t,"b")||Ut(t,"body"))}const Xf=["b","body"];function Rb(t){return Kn(t,Xf)}const Zf=["c","cases"];function Pb(t){return Kn(t,Zf,[])}const ep=["s","static"];function Lb(t){return Kn(t,ep)}const tp=["i","items"];function Ob(t){return Kn(t,tp,[])}const np=["t","type"];function Vl(t){return Kn(t,np)}const sp=["v","value"];function Ai(t,e){const n=Kn(t,sp);if(n!=null)return n;throw Wr(e)}const rp=["m","modifier"];function Mb(t){return Kn(t,rp)}const ip=["k","key"];function Db(t){const e=Kn(t,ip);if(e)return e;throw Wr(6)}function Kn(t,e,n){for(let s=0;s<e.length;s++){const r=e[s];if(Ut(t,r)&&t[r]!=null)return t[r]}return n}const op=[...Xf,...Zf,...ep,...tp,...ip,...rp,...sp,...np];function Wr(t){return new Error(`unhandled node type: ${t}`)}function ma(t){return n=>$b(n,t)}function $b(t,e){const n=Rb(e);if(n==null)throw Wr(0);if(Vl(n)===1){const i=Pb(n);return t.plural(i.reduce((o,a)=>[...o,Yu(t,a)],[]))}else return Yu(t,n)}function Yu(t,e){const n=Lb(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const s=Ob(e).reduce((r,i)=>[...r,Ya(t,i)],[]);return t.normalize(s)}}function Ya(t,e){const n=Vl(e);switch(n){case 3:return Ai(e,n);case 9:return Ai(e,n);case 4:{const s=e;if(Ut(s,"k")&&s.k)return t.interpolate(t.named(s.k));if(Ut(s,"key")&&s.key)return t.interpolate(t.named(s.key));throw Wr(n)}case 5:{const s=e;if(Ut(s,"i")&&Ke(s.i))return t.interpolate(t.list(s.i));if(Ut(s,"index")&&Ke(s.index))return t.interpolate(t.list(s.index));throw Wr(n)}case 6:{const s=e,r=Mb(s),i=Db(s);return t.linked(Ya(t,i),r?Ya(t,r):void 0,t.type)}case 7:return Ai(e,n);case 8:return Ai(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Fb=t=>t;let Ni=Re();function zb(t,e={}){let n=!1;const s=e.onError||lb;return e.onError=r=>{n=!0,s(r)},{...Ab(t,e),detectError:n}}function Hb(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&te(t)){we(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||Fb)(t),r=Ni[s];if(r)return r;const{ast:i,detectError:o}=zb(t,{...e,location:!1,jit:!0}),a=ma(i);return o?a:Ni[s]=a}else{const n=t.cacheKey;if(n){const s=Ni[n];return s||(Ni[n]=ma(t))}else return ma(t)}}let Gr=null;function qb(t){Gr=t}function jb(t,e,n){Gr&&Gr.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const Ub=Bb("function:translate");function Bb(t){return e=>Gr&&Gr.emit(t,e)}const yn={INVALID_ARGUMENT:ab,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Vb=24;function bn(t){return zo(t,null,void 0)}function Wl(t,e){return e.locale!=null?Ku(e.locale):Ku(t.locale)}let ga;function Ku(t){if(te(t))return t;if(je(t)){if(t.resolvedOnce&&ga!=null)return ga;if(t.constructor.name==="Function"){const e=t();if(rb(e))throw bn(yn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return ga=e}else throw bn(yn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw bn(yn.NOT_SUPPORT_LOCALE_TYPE)}function Wb(t,e,n){return[...new Set([n,...Be(e)?e:xe(e)?Object.keys(e):te(e)?[e]:[n]])]}function ap(t,e,n){const s=te(n)?n:Yr,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(s);if(!i){i=[];let o=[n];for(;Be(o);)o=Qu(i,o,e);const a=Be(e)||!me(e)?e:e.default?e.default:null;o=te(a)?[a]:a,Be(o)&&Qu(i,o,!1),r.__localeChainCache.set(s,i)}return i}function Qu(t,e,n){let s=!0;for(let r=0;r<e.length&&we(s);r++){const i=e[r];te(i)&&(s=Gb(t,e[r],n))}return s}function Gb(t,e,n){let s;const r=e.split("-");do{const i=r.join("-");s=Yb(t,i,n),r.splice(-1,1)}while(r.length&&s===!0);return s}function Yb(t,e,n){let s=!1;if(!t.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(Be(n)||me(n))&&n[r]&&(s=n[r])}return s}const Qn=[];Qn[0]={w:[0],i:[3,0],"[":[4],o:[7]};Qn[1]={w:[1],".":[2],"[":[4],o:[7]};Qn[2]={w:[2],i:[3,0],0:[3,0]};Qn[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Qn[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Qn[5]={"'":[4,0],o:8,l:[5,0]};Qn[6]={'"':[4,0],o:8,l:[6,0]};const Kb=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Qb(t){return Kb.test(t)}function Jb(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function Xb(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Zb(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:Qb(e)?Jb(e):"*"+e}function e0(t){const e=[];let n=-1,s=0,r=0,i,o,a,l,c,u,d;const h=[];h[0]=()=>{o===void 0?o=a:o+=a},h[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},h[2]=()=>{h[0](),r++},h[3]=()=>{if(r>0)r--,s=4,h[0]();else{if(r=0,o===void 0||(o=Zb(o),o===!1))return!1;h[1]()}};function f(){const b=t[n+1];if(s===5&&b==="'"||s===6&&b==='"')return n++,a="\\"+b,h[0](),!0}for(;s!==null;)if(n++,i=t[n],!(i==="\\"&&f())){if(l=Xb(i),d=Qn[s],c=d[l]||d.l||8,c===8||(s=c[0],c[1]!==void 0&&(u=h[c[1]],u&&(a=i,u()===!1))))return;if(s===7)return e}}const Ju=new Map;function t0(t,e){return xe(t)?t[e]:null}function n0(t,e){if(!xe(t))return null;let n=Ju.get(e);if(n||(n=e0(e),n&&Ju.set(e,n)),!n)return null;const s=n.length;let r=t,i=0;for(;i<s;){const o=n[i];if(op.includes(o)&&ln(r))return null;const a=r[o];if(a===void 0||je(r))return null;r=a,i++}return r}const s0="11.1.12",Ho=-1,Yr="en-US",Xu="",Zu=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function r0(){return{upper:(t,e)=>e==="text"&&te(t)?t.toUpperCase():e==="vnode"&&xe(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&te(t)?t.toLowerCase():e==="vnode"&&xe(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&te(t)?Zu(t):e==="vnode"&&xe(t)&&"__v_isVNode"in t?Zu(t.children):t}}let lp;function i0(t){lp=t}let cp;function o0(t){cp=t}let up;function a0(t){up=t}let dp=null;const l0=t=>{dp=t},c0=()=>dp;let hp=null;const ed=t=>{hp=t},u0=()=>hp;let td=0;function d0(t={}){const e=je(t.onWarn)?t.onWarn:Jy,n=te(t.version)?t.version:s0,s=te(t.locale)||je(t.locale)?t.locale:Yr,r=je(s)?Yr:s,i=Be(t.fallbackLocale)||me(t.fallbackLocale)||te(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=me(t.messages)?t.messages:_a(r),a=me(t.datetimeFormats)?t.datetimeFormats:_a(r),l=me(t.numberFormats)?t.numberFormats:_a(r),c=tt(Re(),t.modifiers,r0()),u=t.pluralRules||Re(),d=je(t.missing)?t.missing:null,h=we(t.missingWarn)||Us(t.missingWarn)?t.missingWarn:!0,f=we(t.fallbackWarn)||Us(t.fallbackWarn)?t.fallbackWarn:!0,b=!!t.fallbackFormat,p=!!t.unresolving,_=je(t.postTranslation)?t.postTranslation:null,g=me(t.processor)?t.processor:null,E=we(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter,I=je(t.messageCompiler)?t.messageCompiler:lp,P=je(t.messageResolver)?t.messageResolver:cp||t0,z=je(t.localeFallbacker)?t.localeFallbacker:up||Wb,R=xe(t.fallbackContext)?t.fallbackContext:void 0,W=t,M=xe(W.__datetimeFormatters)?W.__datetimeFormatters:new Map,V=xe(W.__numberFormatters)?W.__numberFormatters:new Map,Y=xe(W.__meta)?W.__meta:{};td++;const B={version:n,cid:td,locale:s,fallbackLocale:i,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:h,fallbackWarn:f,fallbackFormat:b,unresolving:p,postTranslation:_,processor:g,warnHtmlMessage:E,escapeParameter:x,messageCompiler:I,messageResolver:P,localeFallbacker:z,fallbackContext:R,onWarn:e,__meta:Y};return B.datetimeFormats=a,B.numberFormats=l,B.__datetimeFormatters=M,B.__numberFormatters=V,__INTLIFY_PROD_DEVTOOLS__&&jb(B,n,Y),B}const _a=t=>({[t]:Re()});function Gl(t,e,n,s,r){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,r);return te(a)?a:e}else return e}function fr(t,e,n){const s=t;s.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function h0(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function f0(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let s=n+1;s<e.length;s++)if(h0(t,e[s]))return!0;return!1}function nd(t,...e){const{datetimeFormats:n,unresolving:s,fallbackLocale:r,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,d]=Ka(...e),h=we(u.missingWarn)?u.missingWarn:t.missingWarn;we(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const f=!!u.part,b=Wl(t,u),p=o(t,r,b);if(!te(l)||l==="")return new Intl.DateTimeFormat(b,d).format(c);let _={},g,E=null;const x="datetime format";for(let z=0;z<p.length&&(g=p[z],_=n[g]||{},E=_[l],!me(E));z++)Gl(t,l,g,h,x);if(!me(E)||!te(g))return s?Ho:l;let I=`${g}__${l}`;Fo(d)||(I=`${I}__${JSON.stringify(d)}`);let P=a.get(I);return P||(P=new Intl.DateTimeFormat(g,tt({},E,d)),a.set(I,P)),f?P.formatToParts(c):P.format(c)}const fp=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Ka(...t){const[e,n,s,r]=t,i=Re();let o=Re(),a;if(te(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw bn(yn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw bn(yn.INVALID_ISO_DATE_ARGUMENT)}}else if(eb(e)){if(isNaN(e.getTime()))throw bn(yn.INVALID_DATE_ARGUMENT);a=e}else if(Ke(e))a=e;else throw bn(yn.INVALID_ARGUMENT);return te(n)?i.key=n:me(n)&&Object.keys(n).forEach(l=>{fp.includes(l)?o[l]=n[l]:i[l]=n[l]}),te(s)?i.locale=s:me(s)&&(o=s),me(r)&&(o=r),[i.key||"",a,i,o]}function sd(t,e,n){const s=t;for(const r in n){const i=`${e}__${r}`;s.__datetimeFormatters.has(i)&&s.__datetimeFormatters.delete(i)}}function rd(t,...e){const{numberFormats:n,unresolving:s,fallbackLocale:r,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,d]=Qa(...e),h=we(u.missingWarn)?u.missingWarn:t.missingWarn;we(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const f=!!u.part,b=Wl(t,u),p=o(t,r,b);if(!te(l)||l==="")return new Intl.NumberFormat(b,d).format(c);let _={},g,E=null;const x="number format";for(let z=0;z<p.length&&(g=p[z],_=n[g]||{},E=_[l],!me(E));z++)Gl(t,l,g,h,x);if(!me(E)||!te(g))return s?Ho:l;let I=`${g}__${l}`;Fo(d)||(I=`${I}__${JSON.stringify(d)}`);let P=a.get(I);return P||(P=new Intl.NumberFormat(g,tt({},E,d)),a.set(I,P)),f?P.formatToParts(c):P.format(c)}const pp=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Qa(...t){const[e,n,s,r]=t,i=Re();let o=Re();if(!Ke(e))throw bn(yn.INVALID_ARGUMENT);const a=e;return te(n)?i.key=n:me(n)&&Object.keys(n).forEach(l=>{pp.includes(l)?o[l]=n[l]:i[l]=n[l]}),te(s)?i.locale=s:me(s)&&(o=s),me(r)&&(o=r),[i.key||"",a,i,o]}function id(t,e,n){const s=t;for(const r in n){const i=`${e}__${r}`;s.__numberFormatters.has(i)&&s.__numberFormatters.delete(i)}}const p0=t=>t,m0=t=>"",g0="text",_0=t=>t.length===0?"":Ul(t),v0=ib;function od(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function y0(t){const e=Ke(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ke(t.named.count)||Ke(t.named.n))?Ke(t.named.count)?t.named.count:Ke(t.named.n)?t.named.n:e:e}function b0(t,e){e.count||(e.count=t),e.n||(e.n=t)}function C0(t={}){const e=t.locale,n=y0(t),s=xe(t.pluralRules)&&te(e)&&je(t.pluralRules[e])?t.pluralRules[e]:od,r=xe(t.pluralRules)&&te(e)&&je(t.pluralRules[e])?od:void 0,i=g=>g[s(n,g.length,r)],o=t.list||[],a=g=>o[g],l=t.named||Re();Ke(t.pluralIndex)&&b0(n,l);const c=g=>l[g];function u(g,E){const x=je(t.messages)?t.messages(g,!!E):xe(t.messages)?t.messages[g]:!1;return x||(t.parent?t.parent.message(g):m0)}const d=g=>t.modifiers?t.modifiers[g]:p0,h=me(t.processor)&&je(t.processor.normalize)?t.processor.normalize:_0,f=me(t.processor)&&je(t.processor.interpolate)?t.processor.interpolate:v0,b=me(t.processor)&&te(t.processor.type)?t.processor.type:g0,_={list:a,named:c,plural:i,linked:(g,...E)=>{const[x,I]=E;let P="text",z="";E.length===1?xe(x)?(z=x.modifier||z,P=x.type||P):te(x)&&(z=x||z):E.length===2&&(te(x)&&(z=x||z),te(I)&&(P=I||P));const R=u(g,!0)(_),W=P==="vnode"&&Be(R)&&z?R[0]:R;return z?d(z)(W,P):W},message:u,type:b,interpolate:f,normalize:h,values:tt(Re(),o,l)};return _}const ad=()=>"",Mt=t=>je(t);function ld(t,...e){const{fallbackFormat:n,postTranslation:s,unresolving:r,messageCompiler:i,fallbackLocale:o,messages:a}=t,[l,c]=Ja(...e),u=we(c.missingWarn)?c.missingWarn:t.missingWarn,d=we(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,h=we(c.escapeParameter)?c.escapeParameter:t.escapeParameter,f=!!c.resolvedMessage,b=te(c.default)||we(c.default)?we(c.default)?i?l:()=>l:c.default:n?i?l:()=>l:null,p=n||b!=null&&(te(b)||je(b)),_=Wl(t,c);h&&w0(c);let[g,E,x]=f?[l,_,a[_]||Re()]:mp(t,l,_,o,d,u),I=g,P=l;if(!f&&!(te(I)||ln(I)||Mt(I))&&p&&(I=b,P=I),!f&&(!(te(I)||ln(I)||Mt(I))||!te(E)))return r?Ho:l;let z=!1;const R=()=>{z=!0},W=Mt(I)?I:gp(t,l,E,I,P,R);if(z)return I;const M=I0(t,E,x,c),V=C0(M),Y=E0(t,W,V);let B=s?s(Y,l):Y;if(h&&te(B)&&(B=nb(B)),__INTLIFY_PROD_DEVTOOLS__){const ee={timestamp:Date.now(),key:te(l)?l:Mt(I)?I.key:"",locale:E||(Mt(I)?I.locale:""),format:te(I)?I:Mt(I)?I.source:"",message:B};ee.meta=tt({},t.__meta,c0()||{}),Ub(ee)}return B}function w0(t){Be(t.list)?t.list=t.list.map(e=>te(e)?Uu(e):e):xe(t.named)&&Object.keys(t.named).forEach(e=>{te(t.named[e])&&(t.named[e]=Uu(t.named[e]))})}function mp(t,e,n,s,r,i){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,s,n);let d=Re(),h,f=null;const b="translate";for(let p=0;p<u.length&&(h=u[p],d=o[h]||Re(),(f=l(d,e))===null&&(f=d[e]),!(te(f)||ln(f)||Mt(f)));p++)if(!f0(h,u)){const _=Gl(t,e,h,i,b);_!==e&&(f=_)}return[f,h,d]}function gp(t,e,n,s,r,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Mt(s)){const c=s;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=(()=>s);return c.locale=n,c.key=e,c}const l=o(s,S0(t,n,r,s,a,i));return l.locale=n,l.key=e,l.source=s,l}function E0(t,e,n){return e(n)}function Ja(...t){const[e,n,s]=t,r=Re();if(!te(e)&&!Ke(e)&&!Mt(e)&&!ln(e))throw bn(yn.INVALID_ARGUMENT);const i=Ke(e)?String(e):(Mt(e),e);return Ke(n)?r.plural=n:te(n)?r.default=n:me(n)&&!Fo(n)?r.named=n:Be(n)&&(r.list=n),Ke(s)?r.plural=s:te(s)?r.default=s:me(s)&&tt(r,s),[i,r]}function S0(t,e,n,s,r,i){return{locale:e,key:n,warnHtmlMessage:r,onError:o=>{throw i&&i(o),o},onCacheKey:o=>Xy(e,n,o)}}function I0(t,e,n,s){const{modifiers:r,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,h={locale:e,modifiers:r,pluralRules:i,messages:(f,b)=>{let p=o(n,f);if(p==null&&(u||b)){const[,,_]=mp(u||t,f,e,a,l,c);p=o(_,f)}if(te(p)||ln(p)){let _=!1;const E=gp(t,f,e,p,f,()=>{_=!0});return _?ad:E}else return Mt(p)?p:ad}};return t.processor&&(h.processor=t.processor),s.list&&(h.list=s.list),s.named&&(h.named=s.named),Ke(s.plural)&&(h.pluralIndex=s.plural),h}Nb();/*!
  * vue-i18n v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const x0="11.1.12";function T0(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ls().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ls().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ls().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ls().__INTLIFY_PROD_DEVTOOLS__=!1)}const Tt={UNEXPECTED_RETURN_TYPE:Vb,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Pt(t,...e){return zo(t,null,void 0)}const Xa=Yn("__translateVNode"),Za=Yn("__datetimeParts"),el=Yn("__numberParts"),_p=Yn("__setPluralRules"),vp=Yn("__injectWithOption"),tl=Yn("__dispose");function Kr(t){if(!xe(t)||ln(t))return t;for(const e in t)if(Ut(t,e))if(!e.includes("."))xe(t[e])&&Kr(t[e]);else{const n=e.split("."),s=n.length-1;let r=t,i=!1;for(let o=0;o<s;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in r||(r[n[o]]=Re()),!xe(r[n[o]])){i=!0;break}r=r[n[o]]}if(i||(ln(r)?op.includes(n[s])||delete t[e]:(r[n[s]]=t[e],delete t[e])),!ln(r)){const o=r[n[s]];xe(o)&&Kr(o)}}return t}function Yl(t,e){const{messages:n,__i18n:s,messageResolver:r,flatJson:i}=e,o=me(n)?n:Be(s)?Re():{[t]:Re()};if(Be(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Re(),Fi(c,o[l])):Fi(c,o)}else te(a)&&Fi(JSON.parse(a),o)}),r==null&&i)for(const a in o)Ut(o,a)&&Kr(o[a]);return o}function yp(t){return t.type}function bp(t,e,n){let s=xe(e.messages)?e.messages:Re();"__i18nGlobal"in n&&(s=Yl(t.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const r=Object.keys(s);r.length&&r.forEach(i=>{t.mergeLocaleMessage(i,s[i])});{if(xe(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(xe(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function cd(t){return X(di,null,t,0)}const ud="__INTLIFY_META__",dd=()=>[],k0=()=>!1;let hd=0;function fd(t){return((e,n,s,r)=>t(n,s,Bn()||void 0,r))}const A0=()=>{const t=Bn();let e=null;return t&&(e=yp(t)[ud])?{[ud]:e}:null};function Kl(t={}){const{__root:e,__injectWithOption:n}=t,s=e===void 0,r=t.flatJson,i=Zi?oe:Bh;let o=we(t.inheritLocale)?t.inheritLocale:!0;const a=i(e&&o?e.locale.value:te(t.locale)?t.locale:Yr),l=i(e&&o?e.fallbackLocale.value:te(t.fallbackLocale)||Be(t.fallbackLocale)||me(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),c=i(Yl(a.value,t)),u=i(me(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),d=i(me(t.numberFormats)?t.numberFormats:{[a.value]:{}});let h=e?e.missingWarn:we(t.missingWarn)||Us(t.missingWarn)?t.missingWarn:!0,f=e?e.fallbackWarn:we(t.fallbackWarn)||Us(t.fallbackWarn)?t.fallbackWarn:!0,b=e?e.fallbackRoot:we(t.fallbackRoot)?t.fallbackRoot:!0,p=!!t.fallbackFormat,_=je(t.missing)?t.missing:null,g=je(t.missing)?fd(t.missing):null,E=je(t.postTranslation)?t.postTranslation:null,x=e?e.warnHtmlMessage:we(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter;const P=e?e.modifiers:me(t.modifiers)?t.modifiers:{};let z=t.pluralRules||e&&e.pluralRules,R;R=(()=>{s&&ed(null);const k={version:x0,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:P,pluralRules:z,missing:g===null?void 0:g,missingWarn:h,fallbackWarn:f,fallbackFormat:p,unresolving:!0,postTranslation:E===null?void 0:E,warnHtmlMessage:x,escapeParameter:I,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};k.datetimeFormats=u.value,k.numberFormats=d.value,k.__datetimeFormatters=me(R)?R.__datetimeFormatters:void 0,k.__numberFormatters=me(R)?R.__numberFormatters:void 0;const L=d0(k);return s&&ed(L),L})(),fr(R,a.value,l.value);function M(){return[a.value,l.value,c.value,u.value,d.value]}const V=K({get:()=>a.value,set:k=>{R.locale=k,a.value=k}}),Y=K({get:()=>l.value,set:k=>{R.fallbackLocale=k,l.value=k,fr(R,a.value,k)}}),B=K(()=>c.value),ee=K(()=>u.value),ne=K(()=>d.value);function Ue(){return je(E)?E:null}function Ce(k){E=k,R.postTranslation=k}function ue(){return _}function ve(k){k!==null&&(g=fd(k)),_=k,R.missing=g}const Qe=(k,L,ie,ce,fe,Je)=>{M();let Ge;try{__INTLIFY_PROD_DEVTOOLS__,s||(R.fallbackContext=e?u0():void 0),Ge=k(R)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(R.fallbackContext=void 0)}if(ie!=="translate exists"&&Ke(Ge)&&Ge===Ho||ie==="translate exists"&&!Ge){const[Lt,qt]=L();return e&&b?ce(e):fe(Lt)}else{if(Je(Ge))return Ge;throw Pt(Tt.UNEXPECTED_RETURN_TYPE)}};function kt(...k){return Qe(L=>Reflect.apply(ld,null,[L,...k]),()=>Ja(...k),"translate",L=>Reflect.apply(L.t,L,[...k]),L=>L,L=>te(L))}function yt(...k){const[L,ie,ce]=k;if(ce&&!xe(ce))throw Pt(Tt.INVALID_ARGUMENT);return kt(L,ie,tt({resolvedMessage:!0},ce||{}))}function nt(...k){return Qe(L=>Reflect.apply(nd,null,[L,...k]),()=>Ka(...k),"datetime format",L=>Reflect.apply(L.d,L,[...k]),()=>Xu,L=>te(L)||Be(L))}function Jt(...k){return Qe(L=>Reflect.apply(rd,null,[L,...k]),()=>Qa(...k),"number format",L=>Reflect.apply(L.n,L,[...k]),()=>Xu,L=>te(L)||Be(L))}function Xt(k){return k.map(L=>te(L)||Ke(L)||we(L)?cd(String(L)):L)}const ht={normalize:Xt,interpolate:k=>k,type:"vnode"};function F(...k){return Qe(L=>{let ie;const ce=L;try{ce.processor=ht,ie=Reflect.apply(ld,null,[ce,...k])}finally{ce.processor=null}return ie},()=>Ja(...k),"translate",L=>L[Xa](...k),L=>[cd(L)],L=>Be(L))}function Z(...k){return Qe(L=>Reflect.apply(rd,null,[L,...k]),()=>Qa(...k),"number format",L=>L[el](...k),dd,L=>te(L)||Be(L))}function Q(...k){return Qe(L=>Reflect.apply(nd,null,[L,...k]),()=>Ka(...k),"datetime format",L=>L[Za](...k),dd,L=>te(L)||Be(L))}function re(k){z=k,R.pluralRules=z}function Se(k,L){return Qe(()=>{if(!k)return!1;const ie=te(L)?L:a.value,ce=A(ie),fe=R.messageResolver(ce,k);return ln(fe)||Mt(fe)||te(fe)},()=>[k],"translate exists",ie=>Reflect.apply(ie.te,ie,[k,L]),k0,ie=>we(ie))}function w(k){let L=null;const ie=ap(R,l.value,a.value);for(let ce=0;ce<ie.length;ce++){const fe=c.value[ie[ce]]||{},Je=R.messageResolver(fe,k);if(Je!=null){L=Je;break}}return L}function S(k){const L=w(k);return L??(e?e.tm(k)||{}:{})}function A(k){return c.value[k]||{}}function D(k,L){if(r){const ie={[k]:L};for(const ce in ie)Ut(ie,ce)&&Kr(ie[ce]);L=ie[k]}c.value[k]=L,R.messages=c.value}function H(k,L){c.value[k]=c.value[k]||{};const ie={[k]:L};if(r)for(const ce in ie)Ut(ie,ce)&&Kr(ie[ce]);L=ie[k],Fi(L,c.value[k]),R.messages=c.value}function $(k){return u.value[k]||{}}function v(k,L){u.value[k]=L,R.datetimeFormats=u.value,sd(R,k,L)}function y(k,L){u.value[k]=tt(u.value[k]||{},L),R.datetimeFormats=u.value,sd(R,k,L)}function T(k){return d.value[k]||{}}function N(k,L){d.value[k]=L,R.numberFormats=d.value,id(R,k,L)}function J(k,L){d.value[k]=tt(d.value[k]||{},L),R.numberFormats=d.value,id(R,k,L)}hd++,e&&Zi&&(an(e.locale,k=>{o&&(a.value=k,R.locale=k,fr(R,a.value,l.value))}),an(e.fallbackLocale,k=>{o&&(l.value=k,R.fallbackLocale=k,fr(R,a.value,l.value))}));const j={id:hd,locale:V,fallbackLocale:Y,get inheritLocale(){return o},set inheritLocale(k){o=k,k&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,fr(R,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:B,get modifiers(){return P},get pluralRules(){return z||{}},get isGlobal(){return s},get missingWarn(){return h},set missingWarn(k){h=k,R.missingWarn=h},get fallbackWarn(){return f},set fallbackWarn(k){f=k,R.fallbackWarn=f},get fallbackRoot(){return b},set fallbackRoot(k){b=k},get fallbackFormat(){return p},set fallbackFormat(k){p=k,R.fallbackFormat=p},get warnHtmlMessage(){return x},set warnHtmlMessage(k){x=k,R.warnHtmlMessage=k},get escapeParameter(){return I},set escapeParameter(k){I=k,R.escapeParameter=k},t:kt,getLocaleMessage:A,setLocaleMessage:D,mergeLocaleMessage:H,getPostTranslationHandler:Ue,setPostTranslationHandler:Ce,getMissingHandler:ue,setMissingHandler:ve,[_p]:re};return j.datetimeFormats=ee,j.numberFormats=ne,j.rt=yt,j.te=Se,j.tm=S,j.d=nt,j.n=Jt,j.getDateTimeFormat=$,j.setDateTimeFormat=v,j.mergeDateTimeFormat=y,j.getNumberFormat=T,j.setNumberFormat=N,j.mergeNumberFormat=J,j[vp]=n,j[Xa]=F,j[Za]=Q,j[el]=Z,j}function N0(t){const e=te(t.locale)?t.locale:Yr,n=te(t.fallbackLocale)||Be(t.fallbackLocale)||me(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,s=je(t.missing)?t.missing:void 0,r=we(t.silentTranslationWarn)||Us(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=we(t.silentFallbackWarn)||Us(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=we(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=me(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=je(t.postTranslation)?t.postTranslation:void 0,d=te(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,f=we(t.sync)?t.sync:!0;let b=t.messages;if(me(t.sharedMessages)){const P=t.sharedMessages;b=Object.keys(P).reduce((R,W)=>{const M=R[W]||(R[W]={});return tt(M,P[W]),R},b||{})}const{__i18n:p,__root:_,__injectWithOption:g}=t,E=t.datetimeFormats,x=t.numberFormats,I=t.flatJson;return{locale:e,fallbackLocale:n,messages:b,flatJson:I,datetimeFormats:E,numberFormats:x,missing:s,missingWarn:r,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:f,__i18n:p,__root:_,__injectWithOption:g}}function nl(t={}){const e=Kl(N0(t)),{__extender:n}=t,s={id:e.id,get locale(){return e.locale.value},set locale(r){e.locale.value=r},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(r){e.fallbackLocale.value=r},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(r){e.setMissingHandler(r)},get silentTranslationWarn(){return we(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(r){e.missingWarn=we(r)?!r:r},get silentFallbackWarn(){return we(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(r){e.fallbackWarn=we(r)?!r:r},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(r){e.fallbackFormat=r},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(r){e.setPostTranslationHandler(r)},get sync(){return e.inheritLocale},set sync(r){e.inheritLocale=r},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(r){e.warnHtmlMessage=r!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(r){e.escapeParameter=r},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...r){return Reflect.apply(e.t,e,[...r])},rt(...r){return Reflect.apply(e.rt,e,[...r])},te(r,i){return e.te(r,i)},tm(r){return e.tm(r)},getLocaleMessage(r){return e.getLocaleMessage(r)},setLocaleMessage(r,i){e.setLocaleMessage(r,i)},mergeLocaleMessage(r,i){e.mergeLocaleMessage(r,i)},d(...r){return Reflect.apply(e.d,e,[...r])},getDateTimeFormat(r){return e.getDateTimeFormat(r)},setDateTimeFormat(r,i){e.setDateTimeFormat(r,i)},mergeDateTimeFormat(r,i){e.mergeDateTimeFormat(r,i)},n(...r){return Reflect.apply(e.n,e,[...r])},getNumberFormat(r){return e.getNumberFormat(r)},setNumberFormat(r,i){e.setNumberFormat(r,i)},mergeNumberFormat(r,i){e.mergeNumberFormat(r,i)}};return s.__extender=n,s}function R0(t,e,n){return{beforeCreate(){const s=Bn();if(!s)throw Pt(Tt.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const i=r.i18n;if(r.__i18n&&(i.__i18n=r.__i18n),i.__root=e,this===this.$root)this.$i18n=pd(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=nl(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=pd(t,r);else{this.$i18n=nl({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&bp(e,r,r),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=Bn();if(!s)throw Pt(Tt.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(s),delete this.$i18n}}}function pd(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[_p](e.pluralizationRules||t.pluralizationRules);const n=Yl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(s=>t.mergeLocaleMessage(s,n[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>t.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>t.mergeNumberFormat(s,e.numberFormats[s])),t}const Ql={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function P0({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((s,r)=>[...s,...r.type===be?r.children:[r]],[]):e.reduce((n,s)=>{const r=t[s];return r&&(n[s]=r()),n},Re())}function Cp(){return be}const L0=ui({name:"i18n-t",props:tt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Ke(t)||!isNaN(t)}},Ql),setup(t,e){const{slots:n,attrs:s}=e,r=t.i18n||_e({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(d=>d[0]!=="_"),o=Re();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=te(t.plural)?+t.plural:t.plural);const a=P0(e,i),l=r[Xa](t.keypath,a,o),c=tt(Re(),s),u=te(t.tag)||xe(t.tag)?t.tag:Cp();return fi(u,c,l)}}}),md=L0;function O0(t){return Be(t)&&!te(t[0])}function wp(t,e,n,s){const{slots:r,attrs:i}=e;return()=>{const o={part:!0};let a=Re();t.locale&&(o.locale=t.locale),te(t.format)?o.key=t.format:xe(t.format)&&(te(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((h,f)=>n.includes(f)?tt(Re(),h,{[f]:t.format[f]}):h,Re()));const l=s(t.value,o,a);let c=[o.key];Be(l)?c=l.map((h,f)=>{const b=r[h.type],p=b?b({[h.type]:h.value,index:f,parts:l}):[h.value];return O0(p)&&(p[0].key=`${h.type}-${f}`),p}):te(l)&&(c=[l]);const u=tt(Re(),i),d=te(t.tag)||xe(t.tag)?t.tag:Cp();return fi(d,u,c)}}const M0=ui({name:"i18n-n",props:tt({value:{type:Number,required:!0},format:{type:[String,Object]}},Ql),setup(t,e){const n=t.i18n||_e({useScope:t.scope,__useComponent:!0});return wp(t,e,pp,(...s)=>n[el](...s))}}),gd=M0;function D0(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const s=n.__getInstance(e);return s!=null?s.__composer:t.global.__composer}}function $0(t){const e=o=>{const{instance:a,value:l}=o;if(!a||!a.$)throw Pt(Tt.UNEXPECTED_ERROR);const c=D0(t,a.$),u=_d(l);return[Reflect.apply(c.t,c,[...vd(u)]),c]};return{created:(o,a)=>{const[l,c]=e(a);Zi&&t.global===c&&(o.__i18nWatcher=an(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Zi&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=_d(a);o.textContent=Reflect.apply(l.t,l,[...vd(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function _d(t){if(te(t))return{path:t};if(me(t)){if(!("path"in t))throw Pt(Tt.REQUIRED_VALUE,"path");return t}else throw Pt(Tt.INVALID_VALUE)}function vd(t){const{path:e,locale:n,args:s,choice:r,plural:i}=t,o={},a=s||{};return te(n)&&(o.locale=n),Ke(r)&&(o.plural=r),Ke(i)&&(o.plural=i),[e,a,o]}function F0(t,e,...n){const s=me(n[0])?n[0]:{};(we(s.globalInstall)?s.globalInstall:!0)&&([md.name,"I18nT"].forEach(i=>t.component(i,md)),[gd.name,"I18nN"].forEach(i=>t.component(i,gd)),[bd.name,"I18nD"].forEach(i=>t.component(i,bd))),t.directive("t",$0(e))}const z0=Yn("global-vue-i18n");function H0(t={}){const e=__VUE_I18N_LEGACY_API__&&we(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=we(t.globalInjection)?t.globalInjection:!0,s=new Map,[r,i]=q0(t,e),o=Yn("");function a(d){return s.get(d)||null}function l(d,h){s.set(d,h)}function c(d){s.delete(d)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(d,...h){if(d.__VUE_I18N_SYMBOL__=o,d.provide(d.__VUE_I18N_SYMBOL__,u),me(h[0])){const p=h[0];u.__composerExtend=p.__composerExtend,u.__vueI18nExtend=p.__vueI18nExtend}let f=null;!e&&n&&(f=K0(d,u.global)),__VUE_I18N_FULL_INSTALL__&&F0(d,u,...h),__VUE_I18N_LEGACY_API__&&e&&d.mixin(R0(i,i.__composer,u));const b=d.unmount;d.unmount=()=>{f&&f(),u.dispose(),b()}},get global(){return i},dispose(){r.stop()},__instances:s,__getInstance:a,__setInstance:l,__deleteInstance:c};return u}function _e(t={}){const e=Bn();if(e==null)throw Pt(Tt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Pt(Tt.NOT_INSTALLED);const n=j0(e),s=B0(n),r=yp(e),i=U0(t,r);if(i==="global")return bp(s,t,r),s;if(i==="parent"){let l=V0(n,e,t.__useComponent);return l==null&&(l=s),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=tt({},t);"__i18n"in r&&(l.__i18n=r.__i18n),s&&(l.__root=s),a=Kl(l),o.__composerExtend&&(a[tl]=o.__composerExtend(a)),G0(o,e,a),o.__setInstance(e,a)}return a}function q0(t,e){const n=Tl(),s=__VUE_I18N_LEGACY_API__&&e?n.run(()=>nl(t)):n.run(()=>Kl(t));if(s==null)throw Pt(Tt.UNEXPECTED_ERROR);return[n,s]}function j0(t){const e=Et(t.isCE?z0:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Pt(t.isCE?Tt.NOT_INSTALLED_WITH_PROVIDE:Tt.UNEXPECTED_ERROR);return e}function U0(t,e){return Fo(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function B0(t){return t.mode==="composition"?t.global:t.global.__composer}function V0(t,e,n=!1){let s=null;const r=e.root;let i=W0(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")s=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(s=a.__composer,n&&s&&!s[vp]&&(s=null))}if(s!=null||r===i)break;i=i.parent}return s}function W0(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function G0(t,e,n){It(()=>{},e),No(()=>{const s=n;t.__deleteInstance(e);const r=s[tl];r&&(r(),delete s[tl])},e)}const Y0=["locale","fallbackLocale","availableLocales"],yd=["t","rt","d","n","tm","te"];function K0(t,e){const n=Object.create(null);return Y0.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i)throw Pt(Tt.UNEXPECTED_ERROR);const o=He(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,r,o)}),t.config.globalProperties.$i18n=n,yd.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i||!i.value)throw Pt(Tt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,i)}),()=>{delete t.config.globalProperties.$i18n,yd.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}const Q0=ui({name:"i18n-d",props:tt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ql),setup(t,e){const n=t.i18n||_e({useScope:t.scope,__useComponent:!0});return wp(t,e,fp,(...s)=>n[Za](...s))}}),bd=Q0;T0();i0(Hb);o0(n0);a0(ap);if(__INTLIFY_PROD_DEVTOOLS__){const t=ls();t.__INTLIFY__=!0,qb(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function J0(t,e=35,n=500){const s=oe([]),r=oe(""),i=oe(!1);let o=0,a=0;function l(){if(o>=t.length){i.value=!0;return}r.value="",a=0;const c=t[o],u=setInterval(()=>{r.value+=c[a],a++,a>=c.length&&(clearInterval(u),s.value.push(r.value),r.value="",o++,setTimeout(l,n))},e)}return{displayedParagraphs:s,currentLine:r,done:i,startTyping:l}}const X0={class:"min-h-screen bg-black text-amber-400 font-mono flex items-center justify-center px-6 py-10"},Z0={class:"max-w-2xl text-lg leading-relaxed w-full"},eC={key:0,class:"mb-6 text-justify"},tC={class:"flex justify-center"},nC={__name:"Introduction",setup(t){const{t:e}=_e(),n=cn(),r=e("intro.text").split(`

`),{displayedParagraphs:i,currentLine:o,done:a,startTyping:l}=J0(r);It(l);function c(){n.push("/level/1")}return(u,d)=>(O(),U("div",X0,[m("div",Z0,[(O(!0),U(be,null,zt(C(i),(h,f)=>(O(),U("p",{key:f,class:"mb-6 text-justify"},q(h),1))),128)),C(o)?(O(),U("p",eC,[Po(q(C(o)),1),d[0]||(d[0]=m("span",{class:"animate-pulse"},"|",-1))])):se("",!0),m("div",tC,[C(a)?(O(),U("button",{key:0,onClick:c,class:"mt-6 bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-md font-semibold uppercase transition"},q(u.$t("intro.continue")),1)):se("",!0)])])]))}},at=[];for(let t=0;t<256;++t)at.push((t+256).toString(16).slice(1));function sC(t,e=0){return(at[t[e+0]]+at[t[e+1]]+at[t[e+2]]+at[t[e+3]]+"-"+at[t[e+4]]+at[t[e+5]]+"-"+at[t[e+6]]+at[t[e+7]]+"-"+at[t[e+8]]+at[t[e+9]]+"-"+at[t[e+10]]+at[t[e+11]]+at[t[e+12]]+at[t[e+13]]+at[t[e+14]]+at[t[e+15]]).toLowerCase()}let va;const rC=new Uint8Array(16);function iC(){if(!va){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");va=crypto.getRandomValues.bind(crypto)}return va(rC)}const oC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cd={randomUUID:oC};function aC(t,e,n){var r;if(Cd.randomUUID&&!t)return Cd.randomUUID();t=t||{};const s=t.random??((r=t.rng)==null?void 0:r.call(t))??iC();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,sC(s)}const lC=()=>{};var wd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Xs(e)},Xs=function(t){return new Error("Firebase Database ("+Ep.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},cC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Jl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),s.push(n[u],n[d],n[h],n[f])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||d==null)throw new uC;const h=i<<2|a>>4;if(s.push(h),c!==64){const f=a<<4&240|c>>2;if(s.push(f),d!==64){const b=c<<6&192|d;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ip=function(t){const e=Sp(t);return Jl.encodeByteArray(e,!0)},eo=function(t){return Ip(t).replace(/\./g,"")},sl=function(t){try{return Jl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){return xp(void 0,t)}function xp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hC(n)||(t[n]=xp(t[n],e[n]));return t}function hC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=()=>fC().__FIREBASE_DEFAULTS__,mC=()=>{if(typeof process>"u"||typeof wd>"u")return;const t=wd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sl(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return lC()||pC()||mC()||gC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_C=t=>{var e,n;return(n=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vC=t=>{const e=_C(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kp=()=>{var t;return(t=Tp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eo(JSON.stringify(n)),eo(JSON.stringify(o)),""].join(".")}const kr={};function CC(){const t={prod:[],emulator:[]};for(const e of Object.keys(kr))kr[e]?t.emulator.push(e):t.prod.push(e);return t}function wC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ed=!1;function EC(t,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||kr[t]===e||kr[t]||Ed)return;kr[t]=e;function n(h){return`__firebase__banner__${h}`}const s="__firebase__banner",i=CC().prod.length>0;function o(){const h=document.getElementById(s);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Ed=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=wC(s),f=n("text"),b=document.getElementById(f)||document.createElement("span"),p=n("learnmore"),_=document.getElementById(p)||document.createElement("a"),g=n("preprendIcon"),E=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;a(x),u(_,p);const I=c();l(E,g),x.append(E,b,_,I),document.body.appendChild(x)}i?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ap(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(SC())}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xC(){return Ep.NODE_ADMIN===!0}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function kC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="FirebaseError";class gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AC,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Np.prototype.create)}}class Np{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?NC(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new gi(r,a,s)}}function NC(t,e){return t.replace(RC,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const RC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=Qr(sl(i[0])||""),n=Qr(sl(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},PC=function(t){const e=Rp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LC=function(t){const e=Rp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function no(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Id(i)&&Id(o)){if(!no(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Id(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<n;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function qo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,G(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;r=65536+(i<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},jo=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mi;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zC(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FC(t){return t===rs?void 0:t}function zC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $C(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const qC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},jC=Fe.INFO,UC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},BC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=UC[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const VC=(t,e)=>e.some(n=>t instanceof n);let xd,Td;function WC(){return xd||(xd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return Td||(Td=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lp=new WeakMap,rl=new WeakMap,Op=new WeakMap,ya=new WeakMap,Zl=new WeakMap;function YC(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lp.set(n,t)}).catch(()=>{}),Zl.set(e,t),e}function KC(t){if(rl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rl.set(t,e)}let il={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Op.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QC(t){il=t(il)}function JC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ba(this),e,...n);return Op.set(s,e.sort?e.sort():[e]),Fn(s)}:GC().includes(t)?function(...e){return t.apply(ba(this),e),Fn(Lp.get(this))}:function(...e){return Fn(t.apply(ba(this),e))}}function XC(t){return typeof t=="function"?JC(t):(t instanceof IDBTransaction&&KC(t),VC(t,WC())?new Proxy(t,il):t)}function Fn(t){if(t instanceof IDBRequest)return YC(t);if(ya.has(t))return ya.get(t);const e=XC(t);return e!==t&&(ya.set(t,e),Zl.set(e,t)),e}const ba=t=>Zl.get(t);function ZC(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Fn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Fn(o.result),l.oldVersion,l.newVersion,Fn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e1=["get","getKey","getAll","getAllKeys","count"],t1=["put","add","delete","clear"],Ca=new Map;function kd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ca.get(e))return Ca.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=t1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||e1.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Ca.set(e,i),i}QC(t=>({...t,get:(e,n,s)=>kd(e,n)||t.get(e,n,s),has:(e,n)=>!!kd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ol="@firebase/app",Ad="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Pp("@firebase/app"),r1="@firebase/app-compat",i1="@firebase/analytics-compat",o1="@firebase/analytics",a1="@firebase/app-check-compat",l1="@firebase/app-check",c1="@firebase/auth",u1="@firebase/auth-compat",d1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",p1="@firebase/functions",m1="@firebase/functions-compat",g1="@firebase/installations",_1="@firebase/installations-compat",v1="@firebase/messaging",y1="@firebase/messaging-compat",b1="@firebase/performance",C1="@firebase/performance-compat",w1="@firebase/remote-config",E1="@firebase/remote-config-compat",S1="@firebase/storage",I1="@firebase/storage-compat",x1="@firebase/firestore",T1="@firebase/ai",k1="@firebase/firestore-compat",A1="firebase",N1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]",R1={[ol]:"fire-core",[r1]:"fire-core-compat",[o1]:"fire-analytics",[i1]:"fire-analytics-compat",[l1]:"fire-app-check",[a1]:"fire-app-check-compat",[c1]:"fire-auth",[u1]:"fire-auth-compat",[d1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[p1]:"fire-fn",[m1]:"fire-fn-compat",[g1]:"fire-iid",[_1]:"fire-iid-compat",[v1]:"fire-fcm",[y1]:"fire-fcm-compat",[b1]:"fire-perf",[C1]:"fire-perf-compat",[w1]:"fire-rc",[E1]:"fire-rc-compat",[S1]:"fire-gcs",[I1]:"fire-gcs-compat",[x1]:"fire-fst",[k1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Map,P1=new Map,ll=new Map;function Nd(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ro(t){const e=t.name;if(ll.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;ll.set(e,t);for(const n of so.values())Nd(n,t);for(const n of P1.values())Nd(n,t);return!0}function L1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function O1(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new Np("app","Firebase",M1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=N1;function Mp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:al,automaticDataCollectionEnabled:!0},e),r=s.name;if(typeof r!="string"||!r)throw zn.create("bad-app-name",{appName:String(r)});if(n||(n=kp()),!n)throw zn.create("no-options");const i=so.get(r);if(i){if(no(n,i.options)&&no(s,i.config))return i;throw zn.create("duplicate-app",{appName:r})}const o=new HC(r);for(const l of ll.values())o.addComponent(l);const a=new D1(n,s,o);return so.set(r,a),a}function F1(t=al){const e=so.get(t);if(!e&&t===al&&kp())return Mp();if(!e)throw zn.create("no-app",{appName:t});return e}function Fs(t,e,n){var s;let r=(s=R1[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(a.join(" "));return}ro(new Jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-heartbeat-database",H1=1,Xr="firebase-heartbeat-store";let wa=null;function Dp(){return wa||(wa=ZC(z1,H1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xr)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),wa}async function q1(t){try{const n=(await Dp()).transaction(Xr),s=await n.objectStore(Xr).get($p(t));return await n.done,s}catch(e){if(e instanceof gi)xn.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(n.message)}}}async function Rd(t,e){try{const s=(await Dp()).transaction(Xr,"readwrite");await s.objectStore(Xr).put(e,$p(t)),await s.done}catch(n){if(n instanceof gi)xn.warn(n.message);else{const s=zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xn.warn(s.message)}}}function $p(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1024,U1=30;class B1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pd();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>U1){const o=G1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pd(),{heartbeatsToSend:s,unsentEntries:r}=V1(this._heartbeatsCache.heartbeats),i=eo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xn.warn(n),""}}}function Pd(){return new Date().toISOString().substring(0,10)}function V1(t,e=j1){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Ld(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ld(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?kC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Rd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Rd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ld(t){return eo(JSON.stringify({version:2,heartbeats:t})).length}function G1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){ro(new Jr("platform-logger",e=>new n1(e),"PRIVATE")),ro(new Jr("heartbeat",e=>new B1(e),"PRIVATE")),Fs(ol,Ad,t),Fs(ol,Ad,"esm2017"),Fs("fire-js","")}Y1("");var K1="firebase",Q1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(K1,Q1,"app");var Od={};const Md="@firebase/database",Dd="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp="";function J1(t){Fp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new X1(e)}}catch{}return new Z1},cs=zp("localStorage"),ew=zp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Pp("@firebase/database"),tw=(function(){let t=1;return function(){return t++}})(),Hp=function(t){const e=DC(t),n=new MC;n.update(e);const s=n.digest();return Jl.encodeByteArray(s)},_i=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_i.apply(null,s):typeof s=="object"?e+=Ze(s):e+=s,e+=" "}return e};let Ar=null,$d=!0;const nw=function(t,e){G(!0,"Can't turn on custom loggers persistently."),zs.logLevel=Fe.VERBOSE,Ar=zs.log.bind(zs)},ct=function(...t){if($d===!0&&($d=!1,Ar===null&&ew.get("logging_enabled")===!0&&nw()),Ar){const e=_i.apply(null,t);Ar(e)}},vi=function(t){return function(...e){ct(t,...e)}},cl=function(...t){const e="FIREBASE INTERNAL ERROR: "+_i(...t);zs.error(e)},Tn=function(...t){const e=`FIREBASE FATAL ERROR: ${_i(...t)}`;throw zs.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+_i(...t);zs.warn(e)},sw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ec=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ws="[MIN_NAME]",fs="[MAX_NAME]",_s=function(t,e){if(t===e)return 0;if(t===Ws||e===fs)return-1;if(e===Ws||t===fs)return 1;{const n=Fd(t),s=Fd(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},iw=function(t,e){return t===e?0:t<e?-1:1},pr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},tc=function(t){if(typeof t!="object"||t===null)return Ze(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ze(e[s]),n+=":",n+=tc(t[e[s]]);return n+="}",n},qp=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jp=function(t){G(!ec(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,o,a,l;t===0?(i=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},ow=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const cw=new RegExp("^-?(0*)\\d{1,10}$"),uw=-2147483648,dw=2147483647,Fd=function(t){if(cw.test(t)){const e=Number(t);if(e>=uw&&e<=dw)return e}return null},er=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},hw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,O1(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class zi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="5",Up="v",Bp="s",Vp="r",Wp="f",Gp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yp="ls",Kp="p",ul="ac",Qp="websocket",Jp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,r,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zp(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let s;if(e===Qp)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Jp)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mw(t)&&(n.ns=t.namespace);const r=[];return dt(n,(i,o)=>{r.push(i+"="+o)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return dC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea={},Sa={};function sc(t){const e=t.toString();return Ea[e]||(Ea[e]=new gw),Ea[e]}function _w(t,e){const n=t.toString();return Sa[n]||(Sa[n]=e()),Sa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&er(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="start",yw="close",bw="pLPCommand",Cw="pRTLPCB",em="id",tm="pw",nm="ser",ww="cb",Ew="seg",Sw="ts",Iw="d",xw="dframe",sm=1870,rm=30,Tw=sm-rm,kw=25e3,Aw=3e4;class Rs{constructor(e,n,s,r,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vi(e),this.stats_=sc(n),this.urlFn=l=>(this.appCheckToken&&(l[ul]=this.appCheckToken),Zp(n,Jp,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Aw)),rw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rc((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===zd)this.id=a,this.password=l;else if(o===yw)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[zd]="t",s[nm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[ww]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Up]=nc,this.transportSessionId&&(s[Bp]=this.transportSessionId),this.lastSessionId&&(s[Yp]=this.lastSessionId),this.applicationId&&(s[Kp]=this.applicationId),this.appCheckToken&&(s[ul]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gp.test(location.hostname)&&(s[Vp]=Wp);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rs.forceAllow_=!0}static forceDisallow(){Rs.forceDisallow_=!0}static isAvailable(){return Rs.forceAllow_?!0:!Rs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ow()&&!aw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ip(n),r=qp(s,Tw);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[xw]="t",s[em]=e,s[tm]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rc{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tw(),window[bw+this.uniqueCallbackIdentifier]=e,window[Cw+this.uniqueCallbackIdentifier]=n,this.myIFrame=rc.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ct("frame writing exception"),a.stack&&ct(a.stack),ct(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[em]=this.myID,e[tm]=this.myPW,e[nm]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rm+s.length<=sm;){const o=this.pendingSegs.shift();s=s+"&"+Ew+r+"="+o.seg+"&"+Sw+r+"="+o.ts+"&"+Iw+r+"="+o.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(kw)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=16384,Rw=45e3;let io=null;typeof MozWebSocket<"u"?io=MozWebSocket:typeof WebSocket<"u"&&(io=WebSocket);class jt{constructor(e,n,s,r,i,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vi(this.connId),this.stats_=sc(n),this.connURL=jt.connectionURL_(n,o,a,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const o={};return o[Up]=nc,typeof location<"u"&&location.hostname&&Gp.test(location.hostname)&&(o[Vp]=Wp),n&&(o[Bp]=n),s&&(o[Yp]=s),r&&(o[ul]=r),i&&(o[Kp]=i),Zp(e,Qp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cs.set("previous_websocket_failure",!0);try{let s;xC(),this.mySock=new io(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&io!==null&&!jt.forceDisallow_}static previouslyFailed(){return cs.isInMemoryStorage||cs.get("previous_websocket_failure")===!0}markConnectionHealthy(){cs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Qr(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=qp(n,Nw);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Rw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{static get ALL_TRANSPORTS(){return[Rs,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=jt&&jt.isAvailable();let s=n&&!jt.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[jt];else{const r=this.transports_=[];for(const i of Zr.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);Zr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=6e4,Lw=5e3,Ow=10*1024,Mw=100*1024,Ia="t",Hd="d",Dw="s",qd="r",$w="e",jd="o",Ud="a",Bd="n",Vd="p",Fw="h";class zw{constructor(e,n,s,r,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vi("c:"+this.id+":"),this.transportManager_=new Zr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ow?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ia in e){const n=e[Ia];n===Ud?this.upgradeIfSecondaryHealthy_():n===qd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=pr("t",e),s=pr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Vd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ud,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=pr("t",e),s=pr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=pr(Ia,e);if(Hd in e){const s=e[Hd];if(n===Fw){const r=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Bd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Dw?this.onConnectionShutdown_(s):n===qd?this.onReset_(s):n===$w?cl("Server Error: "+s):n===jd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cl("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),nc!==s&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Pw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Lw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Vd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends om{static getInstance(){return new oo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ap()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=32,Gd=768;class Le{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Le("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Vn(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Le(t.pieces_,e)}function ic(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ei(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function am(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Le(e,0)}function Ve(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Le)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new Le(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){const n=ge(t),s=ge(e);if(n===null)return e;if(n===s)return wt(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qw(t,e){const n=ei(t,0),s=ei(e,0);for(let r=0;r<n.length&&r<s.length;r++){const i=_s(n[r],s[r]);if(i!==0)return i}return n.length===s.length?0:n.length<s.length?-1:1}function lm(t,e){if(Vn(t)!==Vn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Dt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Vn(t)>Vn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class jw{constructor(e,n){this.errorPrefix_=n,this.parts_=ei(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=jo(this.parts_[s]);cm(this)}}function Uw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jo(e),cm(t)}function Bw(t){const e=t.parts_.pop();t.byteLength_-=jo(e),t.parts_.length>0&&(t.byteLength_-=1)}function cm(t){if(t.byteLength_>Gd)throw new Error(t.errorPrefix_+"has a key path longer than "+Gd+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wd+") or object contains a cycle "+is(t))}function is(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends om{static getInstance(){return new oc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=1e3,Vw=300*1e3,Yd=30*1e3,Ww=1.3,Gw=3e4,Yw="server_kill",Kd=3;class En extends im{constructor(e,n,s,r,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=En.nextPersistentConnectionId_++,this.log_=vi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mr,this.maxReconnectDelay_=Vw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(Ze(i)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new mi,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;En.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const s=Vs(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||LC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=PC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,o=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";r&&(i.q=s,i.t=r),this.sendRequest(o,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const o={p:n,d:s};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):cl("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Gw&&(this.reconnectDelay_=mr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ww)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+En.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new zw(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,f=>{St(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(Yw)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&St(d),l())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sd(this.interruptReasons_)&&(this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>tc(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new Le(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){ct("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kd&&(this.reconnectDelay_=Yd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ct("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Fp.replace(/\./g,"-")]=1,Ap()?e["framework.cordova"]=1:IC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oo.getInstance().currentlyOnline();return Sd(this.interruptReasons_)&&e}}En.nextPersistentConnectionId_=0;En.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new he(Ws,e),r=new he(Ws,n);return this.compare(s,r)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri;class um extends Uo{static get __EMPTY_NODE(){return Ri}static set __EMPTY_NODE(e){Ri=e}compare(e,n){return _s(e.name,n.name)}isDefinedOn(e){throw Xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(fs,Ri)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,Ri)}toString(){return".key"}}const Hs=new um;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??rt.RED,this.left=r??xt.EMPTY_NODE,this.right=i??xt.EMPTY_NODE}copy(e,n,s,r,i){return new rt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class Kw{copy(e,n,s,r,i){return this}insert(e,n,s){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pi(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new Kw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e){return _s(t.name,e.name)}function ac(t,e){return _s(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;function Jw(t){dl=t}const dm=function(t){return typeof t=="number"?"number:"+jp(t):"string:"+t},hm=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else G(t===dl||t.isEmpty(),"priority of unexpected type.");G(t===dl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;class st{static set __childrenNodeConstructor(e){Qd=e}static get __childrenNodeConstructor(){return Qd}constructor(e,n=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ge(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ge(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||Vn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jp(this.value_):e+=this.value_,this.lazyHash_=Hp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=st.VALUE_TYPE_ORDER.indexOf(n),i=st.VALUE_TYPE_ORDER.indexOf(s);return G(r>=0,"Unknown leaf type: "+n),G(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm,pm;function Xw(t){fm=t}function Zw(t){pm=t}class eE extends Uo{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?_s(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(fs,new st("[PRIORITY-POST]",pm))}makePost(e,n){const s=fm(e);return new he(n,new st("[PRIORITY-POST]",s))}toString(){return".priority"}}const We=new eE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=Math.log(2);class nE{constructor(e){const n=i=>parseInt(Math.log(i)/tE,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ao=function(t,e,n,s){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new rt(h,d.node,rt.BLACK,null,null);{const f=parseInt(u/2,10)+l,b=r(l,f),p=r(f+1,c);return d=t[f],h=n?n(d):d,new rt(h,d.node,rt.BLACK,b,p)}},i=function(l){let c=null,u=null,d=t.length;const h=function(b,p){const _=d-b,g=d;d-=b;const E=r(_+1,g),x=t[_],I=n?n(x):x;f(new rt(I,x.node,p,null,E))},f=function(b){c?(c.left=b,c=b):(u=b,c=b)};for(let b=0;b<l.count;++b){const p=l.nextBitIsOne(),_=Math.pow(2,l.count-(b+1));p?h(_,rt.BLACK):(h(_,rt.BLACK),h(_,rt.RED))}return u},o=new nE(t.length),a=i(o);return new xt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa;const Is={};class Cn{static get Default(){return G(Is&&We,"ChildrenNode.ts has not been loaded"),xa=xa||new Cn({".priority":Is},{".priority":We}),xa}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Vs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(he.Wrap);let o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),s.push(o),o=i.getNext();let a;r?a=ao(s,e.getCompare()):a=Is;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Cn(u,c)}addToIndexes(e,n){const s=to(this.indexes_,(r,i)=>{const o=Vs(this.indexSet_,i);if(G(o,"Missing index implementation for "+i),r===Is)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(he.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ao(a,o.getCompare())}else return Is;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new he(e.name,a))),l.insert(e,e.node)}});return new Cn(s,this.indexSet_)}removeFromIndexes(e,n){const s=to(this.indexes_,r=>{if(r===Is)return r;{const i=n.get(e.name);return i?r.remove(new he(e.name,i)):r}});return new Cn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr;class le{static get EMPTY_NODE(){return gr||(gr=new le(new xt(ac),null,Cn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&hm(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gr}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?gr:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new he(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const o=r.isEmpty()?gr:this.priorityNode_;return new le(r,o,i)}}updateChild(e,n){const s=ge(e);if(s===null)return n;{G(ge(e)!==".priority"||Vn(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(ze(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(We,(o,a)=>{n[o]=a.val(e),s++,i&&le.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+dm(this.getPriority().val())+":"),this.forEachChild(We,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":Hp(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new he(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new he(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new he(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,he.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yi?-1:0}withIndex(e){if(e===Hs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(We),r=n.getIterator(We);let i=s.getNext(),o=r.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=s.getNext(),o=r.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Hs?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sE extends le{constructor(){super(new xt(ac),le.EMPTY_NODE,Cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const yi=new sE;Object.defineProperties(he,{MIN:{value:new he(Ws,le.EMPTY_NODE)},MAX:{value:new he(fs,yi)}});um.__EMPTY_NODE=le.EMPTY_NODE;st.__childrenNodeConstructor=le;Jw(yi);Zw(yi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=!0;function Xe(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new st(n,Xe(e))}if(!(t instanceof Array)&&rE){const n=[];let s=!1;if(dt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Xe(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new he(o,l)))}}),n.length===0)return le.EMPTY_NODE;const i=ao(n,Qw,o=>o.name,ac);if(s){const o=ao(n,We.getCompare());return new le(i,Xe(e),new Cn({".priority":o},{".priority":We}))}else return new le(i,Xe(e),Cn.Default)}else{let n=le.EMPTY_NODE;return dt(t,(s,r)=>{if(un(t,s)&&s.substring(0,1)!=="."){const i=Xe(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(Xe(e))}}Xw(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends Uo{constructor(e){super(),this.indexPath_=e,G(!pe(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?_s(e.name,n.name):i}makePost(e,n){const s=Xe(e),r=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new he(n,r)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,yi);return new he(fs,e)}toString(){return ei(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Uo{compare(e,n){const s=e.node.compareTo(n.node);return s===0?_s(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const s=Xe(e);return new he(n,s)}toString(){return".value"}}const aE=new oE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){return{type:"value",snapshotNode:t}}function Gs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ti(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ni(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.index_=e}updateChild(e,n,s,r,i,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(s.getChild(r))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ti(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Gs(n,s)):o.trackChildChange(ni(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(We,(r,i)=>{n.hasChild(r)||s.trackChildChange(ti(r,i))}),n.isLeafNode()||n.forEachChild(We,(r,i)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(i)||s.trackChildChange(ni(r,i,o))}else s.trackChildChange(Gs(r,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.indexedFilter_=new lc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=si.getStartPost_(e),this.endPost_=si.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,r,i,o){return this.matches(new he(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,r,i,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(le.EMPTY_NODE);const i=this;return n.forEachChild(We,(o,a)=>{i.matches(new he(o,a))||(r=r.updateImmediateChild(o,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new si(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,r,i,o){return this.rangedFilter_.matches(new he(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,r,i,o):this.fullLimitUpdateChild_(e,n,s,i,o)}updateFullNode(e,n,s){let r;if(n.isLeafNode()||n.isEmpty())r=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=le.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(le.EMPTY_NODE);let i;this.reverse_?i=r.getReverseIterator(this.index_):i=r.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,r,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new he(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!s.isEmpty()&&f>=0)return i!=null&&i.trackChildChange(ni(n,s,d)),a.updateImmediateChild(n,s);{i!=null&&i.trackChildChange(ti(n,d));const p=a.updateImmediateChild(n,le.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(Gs(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}}else return s.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ti(c.name,c.node)),i.trackChildChange(Gs(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new cc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uE(t){return t.loadsAllData()?new lc(t.getIndex()):t.hasLimit()?new cE(t):new si(t)}function Jd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===aE?n="$value":t.index_===Hs?n="$key":(G(t.index_ instanceof iE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Ze(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Ze(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Ze(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends im{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=vi("p:rest:"),this.listens_={}}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=lo.getListenId_(e,s),a={};this.listens_[o]=a;const l=Jd(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,s),Vs(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const s=lo.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Jd(e._queryParams),s=e._path.toString(),r=new mi;return this.restRequest_(s+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(s,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+OC(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Qr(a.responseText)}catch{St("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&St("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(){return{value:null,children:new Map}}function gm(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ge(e);t.children.has(s)||t.children.set(s,co());const r=t.children.get(s);e=ze(e),gm(r,e,n)}}function hl(t,e,n){t.value!==null?n(e,t.value):hE(t,(s,r)=>{const i=new Le(e.toString()+"/"+s);hl(r,i,n)})}function hE(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dt(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=10*1e3,pE=30*1e3,mE=300*1e3;class gE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fE(e);const s=Zd+(pE-Zd)*Math.random();Nr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;dt(e,(r,i)=>{i>0&&un(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),Nr(this.reportStats_.bind(this),Math.floor(Math.random()*2*mE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bt||(Bt={}));function uc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Bt.ACK_USER_WRITE,this.source=uc()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Le(e));return new uo(Ee(),n,this.revert)}}else return G(ge(this.path)===e,"operationForChild called for unrelated child."),new uo(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){this.source=e,this.path=n,this.type=Bt.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new ri(this.source,Ee()):new ri(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Bt.OVERWRITE}operationForChild(e){return pe(this.path)?new ps(this.source,Ee(),this.snap.getImmediateChild(e)):new ps(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Bt.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new Le(e));return n.isEmpty()?null:n.value?new ps(this.source,Ee(),n.value):new Ys(this.source,Ee(),n)}else return G(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ys(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vE(t,e,n,s){const r=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(lE(o.childName,o.snapshotNode))}),_r(t,r,"child_removed",e,s,n),_r(t,r,"child_added",e,s,n),_r(t,r,"child_moved",i,s,n),_r(t,r,"child_changed",e,s,n),_r(t,r,"value",e,s,n),r}function _r(t,e,n,s,r,i){const o=s.filter(a=>a.type===n);o.sort((a,l)=>bE(t,a,l)),o.forEach(a=>{const l=yE(t,a,i);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function yE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function bE(t,e,n){if(e.childName==null||n.childName==null)throw Xs("Should only compare child_ events.");const s=new he(e.childName,e.snapshotNode),r=new he(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e){return{eventCache:t,serverCache:e}}function Rr(t,e,n,s){return Bo(new Wn(e,n,s),t.serverCache)}function _m(t,e,n,s){return Bo(t.eventCache,new Wn(e,n,s))}function ho(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ms(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta;const CE=()=>(Ta||(Ta=new xt(iw)),Ta);class $e{static fromObject(e){let n=new $e(null);return dt(e,(s,r)=>{n=n.set(new Le(s),r)}),n}constructor(e,n=CE()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(pe(e))return null;{const s=ge(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(ze(e),n);return i!=null?{path:Ve(new Le(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=ge(e),s=this.children.get(n);return s!==null?s.subtree(ze(e)):new $e(null)}}set(e,n){if(pe(e))return new $e(n,this.children);{const s=ge(e),i=(this.children.get(s)||new $e(null)).set(ze(e),n),o=this.children.insert(s,i);return new $e(this.value,o)}}remove(e){if(pe(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=ge(e),s=this.children.get(n);if(s){const r=s.remove(ze(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new $e(null):new $e(this.value,i)}else return this}}get(e){if(pe(e))return this.value;{const n=ge(e),s=this.children.get(n);return s?s.get(ze(e)):null}}setTree(e,n){if(pe(e))return n;{const s=ge(e),i=(this.children.get(s)||new $e(null)).setTree(ze(e),n);let o;return i.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,i),new $e(this.value,o)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(Ve(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(pe(e))return null;{const i=ge(e),o=this.children.get(i);return o?o.findOnPath_(ze(e),Ve(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,s){if(pe(e))return this;{this.value&&s(n,this.value);const r=ge(e),i=this.children.get(r);return i?i.foreachOnPath_(ze(e),Ve(n,r),s):new $e(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(Ve(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.writeTree_=e}static empty(){return new Gt(new $e(null))}}function Pr(t,e,n){if(pe(e))return new Gt(new $e(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const o=wt(r,e);return i=i.updateChild(o,n),new Gt(t.writeTree_.set(r,i))}else{const r=new $e(n),i=t.writeTree_.setTree(e,r);return new Gt(i)}}}function fl(t,e,n){let s=t;return dt(n,(r,i)=>{s=Pr(s,Ve(e,r),i)}),s}function eh(t,e){if(pe(e))return Gt.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new Gt(n)}}function pl(t,e){return vs(t,e)!=null}function vs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function th(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(s,r)=>{e.push(new he(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new he(s,r.value))}),e}function Hn(t,e){if(pe(e))return t;{const n=vs(t,e);return n!=null?new Gt(new $e(n)):new Gt(t.writeTree_.subtree(e))}}function ml(t){return t.writeTree_.isEmpty()}function Ks(t,e){return vm(Ee(),t.writeTree_,e)}function vm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(G(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=vm(Ve(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ve(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,e){return wm(e,t)}function wE(t,e,n,s,r){G(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Pr(t.visibleWrites,e,n)),t.lastWriteId=s}function EE(t,e,n,s){G(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=fl(t.visibleWrites,e,n),t.lastWriteId=s}function SE(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function IE(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&xE(a,s.path)?r=!1:Dt(s.path,a.path)&&(i=!0)),o--}if(r){if(i)return TE(t),!0;if(s.snap)t.visibleWrites=eh(t.visibleWrites,s.path);else{const a=s.children;dt(a,l=>{t.visibleWrites=eh(t.visibleWrites,Ve(s.path,l))})}return!0}else return!1}function xE(t,e){if(t.snap)return Dt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Dt(Ve(t.path,n),e))return!0;return!1}function TE(t){t.visibleWrites=ym(t.allWrites,kE,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function kE(t){return t.visible}function ym(t,e,n){let s=Gt.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const o=i.path;let a;if(i.snap)Dt(n,o)?(a=wt(n,o),s=Pr(s,a,i.snap)):Dt(o,n)&&(a=wt(o,n),s=Pr(s,Ee(),i.snap.getChild(a)));else if(i.children){if(Dt(n,o))a=wt(n,o),s=fl(s,a,i.children);else if(Dt(o,n))if(a=wt(o,n),pe(a))s=fl(s,Ee(),i.children);else{const l=Vs(i.children,ge(a));if(l){const c=l.getChild(ze(a));s=Pr(s,Ee(),c)}}}else throw Xs("WriteRecord should have .snap or .children")}}return s}function bm(t,e,n,s,r){if(!s&&!r){const i=vs(t.visibleWrites,e);if(i!=null)return i;{const o=Hn(t.visibleWrites,e);if(ml(o))return n;if(n==null&&!pl(o,Ee()))return null;{const a=n||le.EMPTY_NODE;return Ks(o,a)}}}else{const i=Hn(t.visibleWrites,e);if(!r&&ml(i))return n;if(!r&&n==null&&!pl(i,Ee()))return null;{const o=function(c){return(c.visible||r)&&(!s||!~s.indexOf(c.writeId))&&(Dt(c.path,e)||Dt(e,c.path))},a=ym(t.allWrites,o,e),l=n||le.EMPTY_NODE;return Ks(a,l)}}}function AE(t,e,n){let s=le.EMPTY_NODE;const r=vs(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(We,(i,o)=>{s=s.updateImmediateChild(i,o)}),s;if(n){const i=Hn(t.visibleWrites,e);return n.forEachChild(We,(o,a)=>{const l=Ks(Hn(i,new Le(o)),a);s=s.updateImmediateChild(o,l)}),th(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const i=Hn(t.visibleWrites,e);return th(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function NE(t,e,n,s,r){G(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=Ve(e,n);if(pl(t.visibleWrites,i))return null;{const o=Hn(t.visibleWrites,i);return ml(o)?r.getChild(n):Ks(o,r.getChild(n))}}function RE(t,e,n,s){const r=Ve(e,n),i=vs(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const o=Hn(t.visibleWrites,r);return Ks(o,s.getNode().getImmediateChild(n))}else return null}function PE(t,e){return vs(t.visibleWrites,e)}function LE(t,e,n,s,r,i,o){let a;const l=Hn(t.visibleWrites,e),c=vs(l,Ee());if(c!=null)a=c;else if(n!=null)a=Ks(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let f=h.getNext();for(;f&&u.length<r;)d(f,s)!==0&&u.push(f),f=h.getNext();return u}else return[]}function OE(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function fo(t,e,n,s){return bm(t.writeTree,t.treePath,e,n,s)}function fc(t,e){return AE(t.writeTree,t.treePath,e)}function nh(t,e,n,s){return NE(t.writeTree,t.treePath,e,n,s)}function po(t,e){return PE(t.writeTree,Ve(t.treePath,e))}function ME(t,e,n,s,r,i){return LE(t.writeTree,t.treePath,e,n,s,r,i)}function pc(t,e,n){return RE(t.writeTree,t.treePath,e,n)}function Cm(t,e){return wm(Ve(t.treePath,e),t.writeTree)}function wm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,ni(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,ti(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,Gs(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,ni(s,e.snapshotNode,r.oldSnap));else throw Xs("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Em=new $E;class mc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Wn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pc(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ms(this.viewCache_),i=ME(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){return{filter:t}}function zE(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function HE(t,e,n,s,r){const i=new DE;let o,a;if(n.type===Bt.OVERWRITE){const c=n;c.source.fromUser?o=gl(t,e,c.path,c.snap,s,r,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!pe(c.path),o=mo(t,e,c.path,c.snap,s,r,a,i))}else if(n.type===Bt.MERGE){const c=n;c.source.fromUser?o=jE(t,e,c.path,c.children,s,r,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=_l(t,e,c.path,c.children,s,r,a,i))}else if(n.type===Bt.ACK_USER_WRITE){const c=n;c.revert?o=VE(t,e,c.path,s,r,i):o=UE(t,e,c.path,c.affectedTree,s,r,i)}else if(n.type===Bt.LISTEN_COMPLETE)o=BE(t,e,n.path,s,i);else throw Xs("Unknown operation type: "+n.type);const l=i.getChanges();return qE(e,o,l),{viewCache:o,changes:l}}function qE(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=ho(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(mm(ho(e)))}}function Sm(t,e,n,s,r,i){const o=e.eventCache;if(po(s,n)!=null)return e;{let a,l;if(pe(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ms(e),u=c instanceof le?c:le.EMPTY_NODE,d=fc(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=fo(s,ms(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=ge(n);if(c===".priority"){G(Vn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=nh(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ze(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=nh(s,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=pc(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,i):a=o.getNode()}}return Rr(e,a,o.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function mo(t,e,n,s,r,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(pe(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ge(n);if(!l.isCompleteForPath(n)&&Vn(n)>1)return e;const b=ze(n),_=l.getNode().getImmediateChild(f).updateChild(b,s);f===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),f,_,b,Em,null)}const d=_m(e,c,l.isFullyInitialized()||pe(n),u.filtersNodes()),h=new mc(r,d,i);return Sm(t,d,n,r,h,a)}function gl(t,e,n,s,r,i,o){const a=e.eventCache;let l,c;const u=new mc(r,e,i);if(pe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Rr(e,c,!0,t.filter.filtersNodes());else{const d=ge(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Rr(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ze(n),f=a.getNode().getImmediateChild(d);let b;if(pe(h))b=s;else{const p=u.getCompleteChild(d);p!=null?ic(h)===".priority"&&p.getChild(am(h)).isEmpty()?b=p:b=p.updateChild(h,s):b=le.EMPTY_NODE}if(f.equals(b))l=e;else{const p=t.filter.updateChild(a.getNode(),d,b,h,u,o);l=Rr(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function sh(t,e){return t.eventCache.isCompleteForChild(e)}function jE(t,e,n,s,r,i,o){let a=e;return s.foreach((l,c)=>{const u=Ve(n,l);sh(e,ge(u))&&(a=gl(t,a,u,c,r,i,o))}),s.foreach((l,c)=>{const u=Ve(n,l);sh(e,ge(u))||(a=gl(t,a,u,c,r,i,o))}),a}function rh(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function _l(t,e,n,s,r,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;pe(n)?c=s:c=new $e(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),b=rh(t,f,h);l=mo(t,l,new Le(d),b,r,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const b=e.serverCache.getNode().getImmediateChild(d),p=rh(t,b,h);l=mo(t,l,new Le(d),p,r,i,o,a)}}),l}function UE(t,e,n,s,r,i,o){if(po(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return mo(t,e,n,l.getNode().getChild(n),r,i,a,o);if(pe(n)){let c=new $e(null);return l.getNode().forEachChild(Hs,(u,d)=>{c=c.set(new Le(u),d)}),_l(t,e,n,c,r,i,a,o)}else return e}else{let c=new $e(null);return s.foreach((u,d)=>{const h=Ve(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),_l(t,e,n,c,r,i,a,o)}}function BE(t,e,n,s,r){const i=e.serverCache,o=_m(e,i.getNode(),i.isFullyInitialized()||pe(n),i.isFiltered());return Sm(t,o,n,s,Em,r)}function VE(t,e,n,s,r,i){let o;if(po(s,n)!=null)return e;{const a=new mc(s,e,r),l=e.eventCache.getNode();let c;if(pe(n)||ge(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=fo(s,ms(e));else{const d=e.serverCache.getNode();G(d instanceof le,"serverChildren would be complete if leaf node"),u=fc(s,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=ge(n);let d=pc(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ze(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,le.EMPTY_NODE,ze(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fo(s,ms(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||po(s,Ee())!=null,Rr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new lc(s.getIndex()),i=uE(s);this.processor_=FE(i);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(le.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),u=new Wn(l,o.isFullyInitialized(),r.filtersNodes()),d=new Wn(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Bo(d,u),this.eventGenerator_=new _E(this.query_)}get query(){return this.query_}}function GE(t){return t.viewCache_.serverCache.getNode()}function YE(t){return ho(t.viewCache_)}function KE(t,e){const n=ms(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function ih(t){return t.eventRegistrations_.length===0}function QE(t,e){t.eventRegistrations_.push(e)}function oh(t,e,n){const s=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,r);o&&s.push(o)})}if(e){let r=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return s}function ah(t,e,n,s){e.type===Bt.MERGE&&e.source.queryId!==null&&(G(ms(t.viewCache_),"We should always have a full cache before handling merges"),G(ho(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=HE(t.processor_,r,e,n,s);return zE(t.processor_,i.viewCache),G(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Im(t,i.changes,i.viewCache.eventCache.getNode(),null)}function JE(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(i,o)=>{s.push(Gs(i,o))}),n.isFullyInitialized()&&s.push(mm(n.getNode())),Im(t,s,n.getNode(),e)}function Im(t,e,n,s){const r=s?[s]:t.eventRegistrations_;return vE(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class xm{constructor(){this.views=new Map}}function XE(t){G(!go,"__referenceConstructor has already been defined"),go=t}function ZE(){return G(go,"Reference.ts has not been loaded"),go}function eS(t){return t.views.size===0}function gc(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return G(i!=null,"SyncTree gave us an op for an invalid query."),ah(i,e,n,s)}else{let i=[];for(const o of t.views.values())i=i.concat(ah(o,e,n,s));return i}}function Tm(t,e,n,s,r){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=fo(n,r?s:null),l=!1;a?l=!0:s instanceof le?(a=fc(n,s),l=!1):(a=le.EMPTY_NODE,l=!1);const c=Bo(new Wn(a,l,!1),new Wn(s,r,!1));return new WE(e,c)}return o}function tS(t,e,n,s,r,i){const o=Tm(t,e,s,r,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),QE(o,n),JE(o,n)}function nS(t,e,n,s){const r=e._queryIdentifier,i=[];let o=[];const a=Gn(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(oh(c,n,s)),ih(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(oh(l,n,s)),ih(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Gn(t)&&i.push(new(ZE())(e._repo,e._path)),{removed:i,events:o}}function km(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qn(t,e){let n=null;for(const s of t.views.values())n=n||KE(s,e);return n}function Am(t,e){if(e._queryParams.loadsAllData())return Wo(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Nm(t,e){return Am(t,e)!=null}function Gn(t){return Wo(t)!=null}function Wo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;function sS(t){G(!_o,"__referenceConstructor has already been defined"),_o=t}function rS(){return G(_o,"Reference.ts has not been loaded"),_o}let iS=1;class lh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=OE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rm(t,e,n,s,r){return wE(t.pendingWriteTree_,e,n,s,r),r?tr(t,new ps(uc(),e,n)):[]}function oS(t,e,n,s){EE(t.pendingWriteTree_,e,n,s);const r=$e.fromObject(n);return tr(t,new Ys(uc(),e,r))}function Dn(t,e,n=!1){const s=SE(t.pendingWriteTree_,e);if(IE(t.pendingWriteTree_,e)){let i=new $e(null);return s.snap!=null?i=i.set(Ee(),!0):dt(s.children,o=>{i=i.set(new Le(o),!0)}),tr(t,new uo(s.path,i,n))}else return[]}function bi(t,e,n){return tr(t,new ps(dc(),e,n))}function aS(t,e,n){const s=$e.fromObject(n);return tr(t,new Ys(dc(),e,s))}function lS(t,e){return tr(t,new ri(dc(),e))}function cS(t,e,n){const s=vc(t,n);if(s){const r=yc(s),i=r.path,o=r.queryId,a=wt(i,e),l=new ri(hc(o),a);return bc(t,i,l)}else return[]}function Pm(t,e,n,s,r=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Nm(o,e))){const l=nS(o,e,n,s);eS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,f)=>Gn(f));if(u&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const f=fS(h);for(let b=0;b<f.length;++b){const p=f[b],_=p.query,g=Dm(t,p);t.listenProvider_.startListening(Lr(_),ii(t,_),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Lr(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(Go(h));t.listenProvider_.stopListening(Lr(h),f)}))}pS(t,c)}return a}function Lm(t,e,n,s){const r=vc(t,s);if(r!=null){const i=yc(r),o=i.path,a=i.queryId,l=wt(o,e),c=new ps(hc(a),l,n);return bc(t,o,c)}else return[]}function uS(t,e,n,s){const r=vc(t,s);if(r){const i=yc(r),o=i.path,a=i.queryId,l=wt(o,e),c=$e.fromObject(n),u=new Ys(hc(a),l,c);return bc(t,o,u)}else return[]}function dS(t,e,n,s=!1){const r=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{const b=wt(h,r);i=i||qn(f,b),o=o||Gn(f)});let a=t.syncPointTree_.get(r);a?(o=o||Gn(a),i=i||qn(a,Ee())):(a=new xm,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;i!=null?l=!0:(l=!1,i=le.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,b)=>{const p=qn(b,Ee());p&&(i=i.updateImmediateChild(f,p))}));const c=Nm(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Go(e);G(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=mS();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=Vo(t.pendingWriteTree_,r);let d=tS(a,e,n,u,i,l);if(!c&&!o&&!s){const h=Am(a,e);d=d.concat(gS(t,e,h))}return d}function _c(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=wt(o,e),c=qn(a,l);if(c)return c});return bm(r,e,i,n,!0)}function hS(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=wt(c,n);s=s||qn(u,d)});let r=t.syncPointTree_.get(n);r?s=s||qn(r,Ee()):(r=new xm,t.syncPointTree_=t.syncPointTree_.set(n,r));const i=s!=null,o=i?new Wn(s,!0,!1):null,a=Vo(t.pendingWriteTree_,e._path),l=Tm(r,e,a,i?o.getNode():le.EMPTY_NODE,i);return YE(l)}function tr(t,e){return Om(e,t.syncPointTree_,null,Vo(t.pendingWriteTree_,Ee()))}function Om(t,e,n,s){if(pe(t.path))return Mm(t,e,n,s);{const r=e.get(Ee());n==null&&r!=null&&(n=qn(r,Ee()));let i=[];const o=ge(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Cm(s,o);i=i.concat(Om(a,l,c,u))}return r&&(i=i.concat(gc(r,t,s,n))),i}}function Mm(t,e,n,s){const r=e.get(Ee());n==null&&r!=null&&(n=qn(r,Ee()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Cm(s,o),u=t.operationForChild(o);u&&(i=i.concat(Mm(u,a,l,c)))}),r&&(i=i.concat(gc(r,t,s,n))),i}function Dm(t,e){const n=e.query,s=ii(t,n);return{hashFn:()=>(GE(e)||le.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?cS(t,n._path,s):lS(t,n._path);{const i=lw(r,n);return Pm(t,n,null,i)}}}}function ii(t,e){const n=Go(e);return t.queryToTagMap.get(n)}function Go(t){return t._path.toString()+"$"+t._queryIdentifier}function vc(t,e){return t.tagToQueryMap.get(e)}function yc(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Le(t.substr(0,e))}}function bc(t,e,n){const s=t.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const r=Vo(t.pendingWriteTree_,e);return gc(s,n,r,null)}function fS(t){return t.fold((e,n,s)=>{if(n&&Gn(n))return[Wo(n)];{let r=[];return n&&(r=km(n)),dt(s,(i,o)=>{r=r.concat(o)}),r}})}function Lr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(rS())(t._repo,t._path):t}function pS(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const r=Go(s),i=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i)}}}function mS(){return iS++}function gS(t,e,n){const s=e._path,r=ii(t,e),i=Dm(t,n),o=t.listenProvider_.startListening(Lr(e),r,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(s);if(r)G(!Gn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!pe(c)&&u&&Gn(u))return[Wo(u).query];{let h=[];return u&&(h=h.concat(km(u).map(f=>f.query))),dt(d,(f,b)=>{h=h.concat(b)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Lr(u),ii(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Cc(n)}node(){return this.node_}}class wc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ve(this.path_,e);return new wc(this.syncTree_,n)}node(){return _c(this.syncTree_,this.path_)}}const _S=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ch=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return vS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return yS(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},vS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},yS=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const r=e.node();if(G(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return typeof o!="number"?s:o+s},$m=function(t,e,n,s){return Ec(e,new wc(n,t),s)},Fm=function(t,e,n){return Ec(t,new Cc(e),n)};function Ec(t,e,n){const s=t.getPriority().val(),r=ch(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=ch(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new st(a,Xe(r)):t}else{const o=t;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new st(r))),o.forEachChild(We,(a,l)=>{const c=Ec(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ic(t,e){let n=e instanceof Le?e:new Le(e),s=t,r=ge(n);for(;r!==null;){const i=Vs(s.node.children,r)||{children:{},childCount:0};s=new Sc(r,s,i),n=ze(n),r=ge(n)}return s}function nr(t){return t.node.value}function zm(t,e){t.node.value=e,vl(t)}function Hm(t){return t.node.childCount>0}function bS(t){return nr(t)===void 0&&!Hm(t)}function Yo(t,e){dt(t.node.children,(n,s)=>{e(new Sc(n,t,s))})}function qm(t,e,n,s){n&&e(t),Yo(t,r=>{qm(r,e,!0)})}function CS(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ci(t){return new Le(t.parent===null?t.name:Ci(t.parent)+"/"+t.name)}function vl(t){t.parent!==null&&wS(t.parent,t.name,t)}function wS(t,e,n){const s=bS(n),r=un(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,vl(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,vl(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=/[\[\].#$\/\u0000-\u001F\u007F]/,SS=/[\[\].#$\u0000-\u001F\u007F]/,ka=10*1024*1024,xc=function(t){return typeof t=="string"&&t.length!==0&&!ES.test(t)},jm=function(t){return typeof t=="string"&&t.length!==0&&!SS.test(t)},IS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jm(t)},xS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!ec(t)||t&&typeof t=="object"&&un(t,".sv")},TS=function(t,e,n,s){Ko(qo(t,"value"),e,n)},Ko=function(t,e,n){const s=n instanceof Le?new jw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+is(s));if(typeof e=="function")throw new Error(t+"contains a function "+is(s)+" with contents = "+e.toString());if(ec(e))throw new Error(t+"contains "+e.toString()+" "+is(s));if(typeof e=="string"&&e.length>ka/3&&jo(e)>ka)throw new Error(t+"contains a string greater than "+ka+" utf8 bytes "+is(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(dt(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!xc(o)))throw new Error(t+" contains an invalid key ("+o+") "+is(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uw(s,o),Ko(t,a,s),Bw(s)}),r&&i)throw new Error(t+' contains ".value" child '+is(s)+" in addition to actual children.")}},kS=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const i=ei(s);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!xc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(qw);let r=null;for(n=0;n<e.length;n++){if(s=e[n],r!==null&&Dt(r,s))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},AS=function(t,e,n,s){const r=qo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const i=[];dt(e,(o,a)=>{const l=new Le(o);if(Ko(r,a,Ve(n,l)),ic(l)===".priority"&&!xS(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),kS(r,i)},Um=function(t,e,n,s){if(!jm(n))throw new Error(qo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NS=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Um(t,e,n)},RS=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!IS(n))throw new Error(qo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tc(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!lm(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ht(t,e,n){Tc(t,n),OS(t,s=>Dt(s,e)||Dt(e,s))}function OS(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(MS(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function MS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Ar&&ct("event: "+n.toString()),er(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="repo_interrupt",$S=25;class FS{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=co(),this.transactionQueueTree_=new Sc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zS(t,e,n){if(t.stats_=sc(t.repoInfo_),t.forceRestClient_||hw())t.server_=new lo(t.repoInfo_,(s,r,i,o)=>{uh(t,s,r,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new En(t.repoInfo_,e,(s,r,i,o)=>{uh(t,s,r,i,o)},s=>{dh(t,s)},s=>{qS(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=_w(t.repoInfo_,()=>new gE(t.stats_,t.server_)),t.infoData_=new dE,t.infoSyncTree_=new lh({startListening:(s,r,i,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=bi(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),kc(t,"connected",!1),t.serverSyncTree_=new lh({startListening:(s,r,i,o)=>(t.server_.listen(s,i,r,(a,l)=>{const c=o(a,l);Ht(t.eventQueue_,s._path,c)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function HS(t){const n=t.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qo(t){return _S({timestamp:HS(t)})}function uh(t,e,n,s,r){t.dataUpdateCount++;const i=new Le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(s){const l=to(n,c=>Xe(c));o=uS(t.serverSyncTree_,i,l,r)}else{const l=Xe(n);o=Lm(t.serverSyncTree_,i,l,r)}else if(s){const l=to(n,c=>Xe(c));o=aS(t.serverSyncTree_,i,l)}else{const l=Xe(n);o=bi(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Qs(t,i)),Ht(t.eventQueue_,a,o)}function dh(t,e){kc(t,"connected",e),e===!1&&VS(t)}function qS(t,e){dt(e,(n,s)=>{kc(t,n,s)})}function kc(t,e,n){const s=new Le("/.info/"+e),r=Xe(n);t.infoData_.updateSnapshot(s,r);const i=bi(t.infoSyncTree_,s,r);Ht(t.eventQueue_,s,i)}function Ac(t){return t.nextWriteId_++}function jS(t,e,n){const s=hS(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(r=>{const i=Xe(r).withIndex(e._queryParams.getIndex());dS(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=bi(t.serverSyncTree_,e._path,i);else{const a=ii(t.serverSyncTree_,e);o=Lm(t.serverSyncTree_,e._path,i,a)}return Ht(t.eventQueue_,e._path,o),Pm(t.serverSyncTree_,e,n,null,!0),i},r=>(wi(t,"get for query "+Ze(e)+" failed: "+r),Promise.reject(new Error(r))))}function US(t,e,n,s,r){wi(t,"set",{path:e.toString(),value:n,priority:s});const i=Qo(t),o=Xe(n,s),a=_c(t.serverSyncTree_,e),l=Fm(o,a,i),c=Ac(t),u=Rm(t.serverSyncTree_,e,l,c,!0);Tc(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const b=h==="ok";b||St("set at "+e+" failed: "+h);const p=Dn(t.serverSyncTree_,c,!b);Ht(t.eventQueue_,e,p),yl(t,r,h,f)});const d=Rc(t,e);Qs(t,d),Ht(t.eventQueue_,d,[])}function BS(t,e,n,s){wi(t,"update",{path:e.toString(),value:n});let r=!0;const i=Qo(t),o={};if(dt(n,(a,l)=>{r=!1,o[a]=$m(Ve(e,a),Xe(l),t.serverSyncTree_,i)}),r)ct("update() called with empty data.  Don't do anything."),yl(t,s,"ok",void 0);else{const a=Ac(t),l=oS(t.serverSyncTree_,e,o,a);Tc(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||St("update at "+e+" failed: "+c);const h=Dn(t.serverSyncTree_,a,!d),f=h.length>0?Qs(t,e):e;Ht(t.eventQueue_,f,h),yl(t,s,c,u)}),dt(n,c=>{const u=Rc(t,Ve(e,c));Qs(t,u)}),Ht(t.eventQueue_,e,[])}}function VS(t){wi(t,"onDisconnectEvents");const e=Qo(t),n=co();hl(t.onDisconnect_,Ee(),(r,i)=>{const o=$m(r,i,t.serverSyncTree_,e);gm(n,r,o)});let s=[];hl(n,Ee(),(r,i)=>{s=s.concat(bi(t.serverSyncTree_,r,i));const o=Rc(t,r);Qs(t,o)}),t.onDisconnect_=co(),Ht(t.eventQueue_,Ee(),s)}function WS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(DS)}function wi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ct(n,...e)}function yl(t,e,n,s){e&&er(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let i=r;s&&(i+=": "+s);const o=new Error(i);o.code=r,e(o)}})}function Bm(t,e,n){return _c(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function Nc(t,e=t.transactionQueueTree_){if(e||Jo(t,e),nr(e)){const n=Wm(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&GS(t,Ci(e),n)}else Hm(e)&&Yo(e,n=>{Nc(t,n)})}function GS(t,e,n){const s=n.map(c=>c.currentWriteId),r=Bm(t,e,s);let i=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=wt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{wi(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Dn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Jo(t,Ic(t.transactionQueueTree_,e)),Nc(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)er(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{St("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Qs(t,e)}},o)}function Qs(t,e){const n=Vm(t,e),s=Ci(n),r=Wm(t,n);return YS(t,r,s),s}function YS(t,e,n){if(e.length===0)return;const s=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=wt(n,l.path);let u=!1,d;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=$S)u=!0,d="maxretry",r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Bm(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Ko("transaction failed: Data returned ",f,l.path);let b=Xe(f);typeof f=="object"&&f!=null&&un(f,".priority")||(b=b.updatePriority(h.getPriority()));const _=l.currentWriteId,g=Qo(t),E=Fm(b,h,g);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=E,l.currentWriteId=Ac(t),o.splice(o.indexOf(_),1),r=r.concat(Rm(t.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),r=r.concat(Dn(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0))}Ht(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Jo(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)er(s[a]);Nc(t,t.transactionQueueTree_)}function Vm(t,e){let n,s=t.transactionQueueTree_;for(n=ge(e);n!==null&&nr(s)===void 0;)s=Ic(s,n),e=ze(e),n=ge(e);return s}function Wm(t,e){const n=[];return Gm(t,e,n),n.sort((s,r)=>s.order-r.order),n}function Gm(t,e,n){const s=nr(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);Yo(e,r=>{Gm(t,r,n)})}function Jo(t,e){const n=nr(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,zm(e,n.length>0?n:void 0)}Yo(e,s=>{Jo(t,s)})}function Rc(t,e){const n=Ci(Vm(t,e)),s=Ic(t.transactionQueueTree_,e);return CS(s,r=>{Aa(t,r)}),Aa(t,s),qm(s,r=>{Aa(t,r)}),n}function Aa(t,e){const n=nr(e);if(n){const s=[];let r=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Dn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?zm(e,void 0):n.length=i+1,Ht(t.eventQueue_,Ci(e),r);for(let o=0;o<s.length;o++)er(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function QS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const hh=function(t,e){const n=JS(t),s=n.namespace;n.domain==="firebase.com"&&Tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sw();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xp(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new Le(n.pathString)}},JS=function(t){let e="",n="",s="",r="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=KS(t.substring(u,d)));const h=QS(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const b=e.indexOf(".");s=e.substring(0,b).toLowerCase(),n=e.substring(b+1),i=s}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:r,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,s,r){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class ZS{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return pe(this._path)?null:ic(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const e=Xd(this._queryParams),n=tc(e);return n==="{}"?"default":n}get _queryObject(){return Xd(this._queryParams)}isEqual(e){if(e=Zs(e),!(e instanceof Pc))return!1;const n=this._repo===e._repo,s=lm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hw(this._path)}}class An extends Pc{constructor(e,n){super(e,n,new cc,!1)}get parent(){const e=am(this._path);return e===null?null:new An(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class oi{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Le(e),s=bl(this.ref,e);return new oi(this._node.getChild(n),s,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>e(new oi(r,bl(this.ref,s),We)))}hasChild(e){const n=new Le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xs(t,e){return t=Zs(t),t._checkNotDeleted("ref"),e!==void 0?bl(t._root,e):t._root}function bl(t,e){return t=Zs(t),ge(t._path)===null?NS("child","path",e):Um("child","path",e),new An(t._repo,Ve(t._path,e))}function Na(t,e){t=Zs(t),RS("set",t._path),TS("set",e,t._path);const n=new mi;return US(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function tI(t,e){AS("update",e,t._path);const n=new mi;return BS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Li(t){t=Zs(t);const e=new eI(()=>{}),n=new Lc(e);return jS(t._repo,t,n).then(s=>new oi(s,new An(t._repo,t._path),t._queryParams.getIndex()))}class Lc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new XS("value",this,new oi(e.snapshotNode,new An(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZS(this,e,n):null}matches(e){return e instanceof Lc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}XE(An);sS(An);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="FIREBASE_DATABASE_EMULATOR_HOST",Cl={};let sI=!1;function rI(t,e,n,s){const r=e.lastIndexOf(":"),i=e.substring(0,r),o=Xl(i);t.repoInfo_=new Xp(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function iI(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hh(i,r),a=o.repoInfo,l;typeof process<"u"&&Od&&(l=Od[nI]),l?(i=`http://${l}?ns=${a.namespace}`,o=hh(i,r),a=o.repoInfo):o.repoInfo.secure;const c=new pw(t.name,t.options,e);PS("Invalid Firebase Database URL",o),pe(o.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=aI(a,t,c,new fw(t,n));return new lI(u,t)}function oI(t,e){const n=Cl[e];(!n||n[t.key]!==t)&&Tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),WS(t),delete n[t.key]}function aI(t,e,n,s){let r=Cl[e.name];r||(r={},Cl[e.name]=r);let i=r[t.toURLString()];return i&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new FS(t,sI,n,s),r[t.toURLString()]=i,i}class lI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function cI(t=F1(),e){const n=L1(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=vC("database");s&&uI(n,...s)}return n}function uI(t,e,n,s={}){t=Zs(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&no(s,i.repoInfo_.emulatorOptions))return;Tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new zi(zi.OWNER);else if(s.mockUserToken){const a=typeof s.mockUserToken=="string"?s.mockUserToken:bC(s.mockUserToken,t.app.options.projectId);o=new zi(a)}Xl(e)&&(yC(e),EC("Database",!0)),rI(i,r,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){J1($1),ro(new Jr("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return iI(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),Fs(Md,Dd,t),Fs(Md,Dd,"esm2017")}En.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};En.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dI();const hI={apiKey:"AIzaSyDNegvJk4Hu5wuBxMZvk_n9O2Dbq85-WjE",authDomain:"missionrdm-67427.firebaseapp.com",databaseURL:"https://missionrdm-67427-default-rtdb.europe-west1.firebasedatabase.app",projectId:"missionrdm-67427",storageBucket:"missionrdm-67427.firebasestorage.app",messagingSenderId:"2669875715",appId:"1:2669875715:web:750973ebde6b561d2a3436"},fI=Mp(hI),Ts=cI(fI),pI=oe(null);function Jn(){const t=pI,e=async o=>{try{const a=aC(),l={id:a,playerName:o};return await Na(xs(Ts,`/${a}`),l),t.value={id:a,playerName:o,startTime:Date.now()},localStorage.setItem("sessionId",a),a}catch(a){throw a}},n=async(o,a)=>{if(t.value)try{const l=t.value.id,c=xs(Ts,`/${l}/levels/${o}`),u=await Li(c);let d=!1,h=a,f=a;if(u.exists()){const b=u.val().timeSpent;a>b?(d=!0,h=a-b,f=a):f=b}else d=!0;await Na(xs(Ts,`/${l}/levels/${o}`),{timeSpent:f,completedAt:Date.now()}),d&&await s(o,h)}catch(l){console.error("Error saving level time:",l)}},s=async(o,a)=>{try{const l=xs(Ts,`/averages/level_${o}`),c=await Li(l);if(c.exists()){const u=c.val(),d=u.count+1,h=u.totalTime+a,f=h/d;await tI(l,{count:d,totalTime:h,average:f})}else await Na(l,{count:1,totalTime:a,average:a})}catch(l){console.error("Error updating average time:",l)}};return{session:t,createGameSession:e,saveLevelTime:n,getAverageTime:async o=>{try{const a=xs(Ts,`/averages/level_${o}`),l=await Li(a);return l.exists()?l.val().average:null}catch{return null}},restoreSession:async()=>{const o=localStorage.getItem("sessionId");if(o)try{const a=xs(Ts,`/${o}`),l=await Li(a);if(l.exists())return t.value={id:o,...l.val()},t.value}catch{}return null}}}function sr(){const{saveLevelTime:t,getAverageTime:e}=Jn(),n=Et("timer",null);return{completeLevel:async(i,o=null)=>{var d,h;const a=C(n),l=o??((d=a==null?void 0:a.getStartTime)==null?void 0:d.call(a))??Date.now(),u=(((h=a==null?void 0:a.getCurrentTimeInSeconds)==null?void 0:h.call(a))??Math.round((Date.now()-l)/1e3))*1e3;try{await t(i,u);const f=await e(i),b=Math.round(u/1e3),p=f?Math.round(f/1e3):null;return{timeSpent:u,averageTime:f,timeInSeconds:b,avgInSeconds:p,isAboveAverage:f?u<f:null,hasTimer:!!a}}catch(f){console.error("Error completing level:",f)}},addTimePenalty:i=>{const o=C(n);o!=null&&o.addPenalty&&o.addPenalty(i)}}}const mI="/assets/hint1-CMY-uqZQ.png",gI="/assets/hint1-CS2Akhtl.png",_I="/assets/hint2-Bjrmx5KT.png",vI="/assets/hint2-D44SPrYZ.png",Ym="/assets/char1-DsGb5oh6.png",ot=$f("roadmap",()=>{const{t}=_e(),e=oe([{key:"step1",label:"",items:[]},{key:"step2",label:"",items:[]},{key:"step3",label:"",items:[]},{key:"step4",label:"",items:[]},{key:"step5",label:"",items:[]},{key:"step6",label:"",items:[]}]),n=oe(!1),s="escape-game-roadmap-entries",r={step1:[{key:"step1_1_A",level:2},{key:"step1_1_D",level:2},{key:"step1_1_H",level:2},{key:"step1_4",level:1},{key:"step1_5",level:1}],step4:[{key:"step4_4",level:1}],step6:[{key:"step6_2",level:1}]},i=new Set;function o(){Object.values(r).forEach(_=>{_.forEach(g=>{i.add(g.key)})})}function a(){try{const _=[];e.value.forEach(g=>{g.items.forEach(E=>{i.has(E.key)||_.push({stepKey:g.key,entryKey:E.key,level:E.level,isNew:E.isNew})})}),localStorage.setItem(s,JSON.stringify(_))}catch(_){console.error("Failed to save roadmap to localStorage:",_)}}function l(){try{const _=localStorage.getItem(s);if(_)return JSON.parse(_).forEach(E=>{const x=e.value.find(I=>I.key===E.stepKey);x&&(x.items.find(P=>P.key===E.entryKey)||(x.items.push({text:t(`roadmap.${E.entryKey}`),level:E.level,key:E.entryKey,isNew:E.isNew}),x.items=u(x.items)))}),!0}catch(_){console.error("Failed to load roadmap from localStorage:",_)}return!1}function c(){try{localStorage.removeItem(s)}catch(_){console.error("Failed to clear roadmap localStorage:",_)}}function u(_){return _.sort((g,E)=>{const x=g.key,I=E.key,P=x.split("_"),z=I.split("_");for(let R=0;R<Math.max(P.length,z.length);R++){const W=P[R]||"",M=z[R]||"";if(!isNaN(W)&&!isNaN(M)){const V=parseInt(W),Y=parseInt(M);if(V!==Y)return V-Y}else{if(W.match(/^[A-H]$/)&&!isNaN(M))return 1;if(M.match(/^[A-H]$/)&&!isNaN(W))return-1;if(W.match(/^[A-H]$/)&&M.match(/^[A-H]$/)){if(W!==M)return W.localeCompare(M)}else if(W!==M)return W.localeCompare(M)}}return 0})}function d(){o(),e.value.forEach(_=>{_.items=[],_.label=t(`roadmap.${_.key}`)}),e.value.forEach(_=>{if(r[_.key]){const g=r[_.key].map(E=>({text:t(`roadmap.${E.key}`),level:E.level,key:E.key,isNew:!1}));_.items=u(g)}}),l()}function h(){n.value=!0,setTimeout(()=>{n.value=!1},1e3)}function f(_,g){const E=e.value.find(P=>P.key===_);if(!E)return;h();const x=t(`roadmap.${g}`);if(!E.items.find(P=>P.key===g)){let P=0;if(g.includes("_")){const R=g.split("_");P=R.length-1,R[R.length-1].match(/^[A-H]$/)&&(P=2)}const z=!i.has(g);E.items.push({text:x,level:P,key:g,isNew:z}),E.items=u(E.items),a()}}function b(){c(),e.value.forEach(_=>{_.items=[]}),d()}function p(){b()}return{roadmapSteps:e,shouldFlash:n,initializeSteps:d,addEntry:f,resetRoadmap:b,resetToInitial:p,triggerFlash:h,saveToLocalStorage:a,loadFromLocalStorage:l,clearLocalStorage:c}});function Ie(t){if(!(t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:")||t.startsWith("data:"))&&!t.startsWith("/")){console.error("Audio path should start with / for public files or be an imported module");return}const n=new Audio(t);n.volume=.5,n.play().catch(s=>{console.error("Error playing sound:",s)})}const vt="/assets/stepFound-DpyBkEZh.mp3",Or="/assets/message-4URSdjkg.mp3",Xo="/assets/call-dkgb0ei-.mp3";function Km(t){const e=Me(),{t:n,locale:s}=_e(),r=cn(),i=ot();sr();function o(f){if(!e.isCharCallable(f.name)){e.startCall(f.name,f.avatar,n("phone.callUnavailable"));return}Ie(Xo);const b=e.playerName||"";e.markCharacterAsCalled(f.name),e.level===1&&e.startCall(f.name,f.avatar,n("phone.call1",{playerName:b}))}function a(){return e.hasPendingMandatoryCalls()}function l(){return e.getPendingCallType()}function c(f){return e.getCharacterCallType(f)}function u(f){const b=f.find(p=>e.isCharCallable(p.name)&&!e.hasCalledCharacter(p.name));b&&o(b)}function d(f){if(e.enteredCodes.includes(f)){t("error","");return}if(f==="8"&&!e.enteredCodes.includes("4")){const E=s.value==="fr"?gI:mI;t("success",""),e.firstHintFound=!0,e.showOverlay({type:"image",src:E});return}if(f==="4"&&e.firstHintFound){e.enteredCodes.push("4"),e.enteredCodes.push("8"),t("success",""),Ie(vt);const E=s.value==="fr"?vI:_I;e.showOverlay({type:"image",src:E}),i.addEntry("step1","step1_3"),wl();return}if(f==="29"){if(e.removeOverlay(e.overlayId),e.removeOverlay(e.overlayId2),e.riddleSolved){t("error",""),e.enteredCodes.includes("29")||wl();return}e.secondHintFound=!0,Ie(Or);const E=e.playerName||"";e.activeMessage={from:"S15",name:"Santiago",image:"santiago",avatar:Ym,body:n("phone.messageBodylvl1",{playerName:E})};return}if(e.currentScenarioImage==="final"&&f==="28"){e.enteredCodes.push("28"),Ie(vt),e.currentScenarioImage="congrats",t("success",""),e.setCharCallable("Santiago",!1,"outgoing"),i.addEntry("step1","step1_2");return}if(e.currentScenarioImage==="final"&&(f==="77"||f==="82"||f==="25")){e.showErrorOverlay(n("riddle2.title"),n(`riddle2.incorrect${f}`));return}t("error","")}function h(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=2,r.push("/level/2")}return{handleCodeInput:d,continueToLevel2:h,handleCharacterCall:o,hasPendingCall:a,getPendingCallType:l,getCharacterCallType:c,answerPendingCall:u}}function wl(){const t=Me();t.enteredCodes.includes("8")&&t.enteredCodes.includes("4")&&t.riddleSolved&&(t.currentScenarioImage="updated",t.activeMessage=null,t.activeRiddle=null)}let yI=0;const Me=$f("game",{state:()=>({level:1,progress:[],hintsUsed:{},playerName:"",showHintModal:!1,hintModalType:"clues",enteredCodes:[],patience:!1,overlayNotes:[],activeMessage:null,activeRiddle:null,riddleSolved:!1,overlayId:0,overlayId2:0,overlayId3:0,firstHintFound:!1,secondHintFound:!1,shouldShowSantiagoHint:!1,clickedElement:!1,callableCharacters:{Santiago:!1,Ins:!1,Jack:!1},characterCallTypes:{Santiago:"outgoing",Ins:"outgoing",Jack:"outgoing"},callSequence:{Santiago:0,Ins:0,Jack:0},calledCharacters:{Santiago:!1,Ins:!1,Jack:!1},activeCall:null,currentScenarioImage:"default",feedback:{type:"",message:""},showCongratsModal:!1,errorOverlayVisible:!1,errorOverlayData:{title:"",message:"",hint:""},levelStartTime:null,levelCompletionData:null}),actions:{initializePlayerName(){const t=localStorage.getItem("playerName");t&&(this.playerName=t)},startLevelTimer(t){this.levelStartTime=Date.now()},setLevelCompletionData(t){this.levelCompletionData=t},setPlayerName(t){this.playerName=t,localStorage.setItem("playerName",t)},markRiddleAsSolved(){this.riddleSolved=!0,this.level==1&&wl()},setCharCallable(t,e,n="outgoing"){this.callableCharacters[t]=e,this.characterCallTypes[t]=n,e&&(this.calledCharacters[t]=!1)},markCharacterAsCalled(t){this.calledCharacters[t]=!0,this.level===4&&(this.callSequence[t]++,this.handleLevel4CallStatus(t))},handleLevel4CallStatus(t){t==="Ins"&&this.callSequence.Ins===1&&this.currentScenarioImage==="second"&&(this.currentScenarioImage="third",this.setCharCallable("Ins",!1,"incoming")),t==="Santiago"&&this.callSequence.Santiago===1&&this.currentScenarioImage==="fifth"&&(this.currentScenarioImage="sixth",this.setCharCallable("Santiago",!1,"incoming"),this.shouldShowSantiagoHint=!0)},hasCalledCharacter(t){return this.calledCharacters[t]||!1},hasPendingMandatoryCalls(){return Object.keys(this.callableCharacters).some(t=>this.callableCharacters[t]&&!this.calledCharacters[t])},getCharacterCallType(t){return this.characterCallTypes[t]||"outgoing"},getPendingCallType(){const t=Object.keys(this.callableCharacters).find(e=>this.callableCharacters[e]&&!this.calledCharacters[e]);return t?this.characterCallTypes[t]:"outgoing"},startCall(t,e,n,s=null){this.activeCall={name:t,avatar:e,body:n,titleMiddle:s}},getLvl(){return this.level},endCall(){this.activeCall=null},showHints(t){this.hintModalType=t,this.showHintModal=!0},closeHints(){this.showHintModal=!1},isCharCallable(t){return this.callableCharacters[t]||!1},markMessageAsRead(){this.activeMessage=null,this.activeRiddle=null},addCode(t){this.enteredCodes.includes(t)||this.enteredCodes.push(t)},showOverlay(t){this.removeOverlay(this.overlayId3),this.removeOverlay(this.overlayId2),this.removeOverlay(this.overlayId);const e=yI++,n=typeof t=="string"?{id:e,type:"text",text:t}:{...t,id:e};this.overlayNotes.push(n),this.overlayId!==0&&this.overlayId2!==0?this.overlayId3=e:this.overlayId!==0?this.overlayId2=e:this.overlayId=e},removeOverlay(t){this.overlayNotes=this.overlayNotes.filter(e=>e.id!==t),this.overlayId===t?this.overlayId=0:this.overlayId2===t?this.overlayId2=0:this.overlayId3===t&&(this.overlayId3=0)},showErrorOverlay(t,e,n=""){this.errorOverlayData={title:t||"Erreur",message:e,hint:n},this.errorOverlayVisible=!0},closeErrorOverlay(){this.errorOverlayVisible=!1,this.errorOverlayData={title:"",message:"",hint:""}},setFeedback(t,e){this.feedback.type=t,this.feedback.message=e,setTimeout(()=>{this.feedback.type="",this.feedback.message=""},2e3)},resetAfterLevel(){this.enteredCodes=[],this.overlayNotes=[],this.activeMessage=null,this.activeRiddle=null,this.riddleSolved=!1,this.firstHintFound=!1,this.secondHintFound=!1,this.patience=!1,this.currentScenarioImage="default",this.feedback.type="",this.feedback.message="",this.overlayId=0,this.overlayId2=0,this.shouldShowSantiagoHint=!1,this.clickedElement=!1,this.showCongratsModal=!1,this.errorOverlayVisible=!1,this.errorOverlayData={title:"",message:"",hint:""},this.callableCharacters={Santiago:!1,Ins:!1,Jack:!1},this.levelStartTime=null,this.levelCompletionData=null,this.characterCallTypes={Santiago:"outgoing",Ins:"outgoing",Jack:"outgoing"},this.calledCharacters={Santiago:!1,Ins:!1,Jack:!1},this.callSequence={Santiago:0,Ins:0,Jack:0}}}});function bI(){const t=cn(),e=Me(),{createGameSession:n}=Jn(),s=oe("");It(()=>{const i=localStorage.getItem("playerName");i&&(s.value=i,e.playerName=i),localStorage.removeItem("sessionId")});async function r(){if(s.value.trim())try{await n(s.value.trim()),e.setPlayerName(s.value.trim()),t.push("/introduction")}catch(i){console.error("Failed to start game:",i)}}return{playerName:s,startGame:r}}const CI={class:"absolute top-4 right-4"},wI={__name:"LanguageToggleComponent",setup(t){const{locale:e}=_e(),n=oe(e.value);function s(){e.value=n.value,localStorage.setItem("lang",e.value)}return(r,i)=>(O(),U("div",CI,[ds(m("select",{"onUpdate:modelValue":i[0]||(i[0]=o=>n.value=o),onChange:s,class:"bg-[#1f1f1f] border border-gray-600 text-white px-3 py-1 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"},[...i[1]||(i[1]=[m("option",{value:"en"}," English",-1),m("option",{value:"fr"}," Franais",-1)])],544),[[Av,n.value]])]))}},EI={class:"min-h-screen flex items-center justify-center bg-[#121212] text-gray-200 px-4 relative font-mono"},SI={class:"w-full max-w-6xl bg-[#202020] rounded-xl border border-gray-700 shadow-[0_0_30px_rgba(255,191,0,0.2)] p-16"},II={class:"text-3xl font-bold text-center text-amber-400 mb-8 tracking-widest uppercase"},xI={class:"text-gray-400 mb-6 text-center"},TI={class:"text-gray-400 mb-6 text-center"},kI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},AI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},NI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},RI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},ys={__name:"TutorialModalComponent",props:{visible:{type:Boolean,default:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=()=>{n("close")};return(r,i)=>(O(),U("div",EI,[m("div",SI,[m("h1",II,q(r.$t("tutorial.title")),1),m("p",xI,q(r.$t("tutorial.subtitle")),1),m("p",TI,q(r.$t("tutorial.instructions")),1),m("p",kI,q(r.$t("tutorial.step1")),1),m("p",AI,q(r.$t("tutorial.step2")),1),m("p",NI,q(r.$t("tutorial.step3")),1),m("p",RI,q(r.$t("tutorial.step4")),1),m("button",{class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-md shadow-md uppercase tracking-wide transition-all duration-150 w-full",onClick:s},q(r.$t("tutorial.backToStart")),1)])]))}},PI={class:"min-h-screen bg-[#121212] text-gray-200 font-mono flex flex-col"},LI={key:0,class:"fixed inset-0 z-[9999]"},OI={class:"flex-1 flex items-center justify-center px-4"},MI={class:"w-full max-w-lg bg-[#202020] rounded-xl border border-gray-700 shadow-[0_0_30px_rgba(255,191,0,0.2)] p-10"},DI={class:"text-4xl font-bold text-center text-amber-400 mb-10 tracking-widest uppercase leading-snug"},$I={class:"text-gray-400 mb-6 text-center"},FI={for:"playerName",class:"block text-base font-semibold mb-3 text-gray-400 tracking-wide"},zI=["placeholder"],HI={key:0,class:"text-red-500 text-sm mt-2 text-center"},qI={class:"flex flex-col space-y-4"},jI=["disabled"],UI={class:"border-t border-gray-800 py-6 px-4"},BI={class:"text-gray-500 text-sm leading-relaxed text-center space-y-4"},VI=["innerHTML"],WI={__name:"StartScreen",setup(t){const{playerName:e,startGame:n}=bI(),{t:s}=_e(),r=oe(!1),i=o=>!o||o.trim().length===0?!1:/^[a-zA-Z0-9]+$/.test(o.trim());return It(()=>{ot().resetRoadmap()}),(o,a)=>(O(),U("div",PI,[r.value?(O(),U("div",LI,[X(ys,{visible:r.value,asModal:!0,onClose:a[0]||(a[0]=l=>r.value=!1)},null,8,["visible"])])):se("",!0),m("div",OI,[X(wI),m("div",MI,[m("h1",DI,q(o.$t("startScreen.title")),1),m("p",$I,q(o.$t("startScreen.subtitle")),1),m("label",FI,q(o.$t("startScreen.enterName")),1),ds(m("input",{id:"playerName","onUpdate:modelValue":a[1]||(a[1]=l=>He(e)?e.value=l:null),type:"text",class:"w-full border border-gray-700 bg-[#1a1a1a] text-white rounded-md px-4 py-3 mb-6 focus:outline-none focus:ring-2 focus:ring-amber-500 shadow-inner placeholder-gray-500",placeholder:o.$t("startScreen.namePlaceholder")},null,8,zI),[[$s,C(e)]]),C(e).trim()&&!i(C(e))?(O(),U("p",HI,q(o.$t("startScreen.nameError")),1)):se("",!0),m("div",qI,[m("button",{class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-md shadow-md uppercase tracking-wide transition-all duration-150",onClick:a[2]||(a[2]=(...l)=>C(n)&&C(n)(...l)),disabled:!C(e).trim()||!i(C(e))},q(o.$t("startScreen.startGame")),9,jI),m("button",{class:"bg-gray-700 hover:bg-gray-600 text-gray-200 font-semibold py-3 rounded-md shadow-inner uppercase transition-all duration-150",onClick:a[3]||(a[3]=l=>r.value=!0)},q(o.$t("startScreen.tutorial")),1)])])]),m("footer",UI,[m("div",BI,[m("p",{class:"text-gray-500 text-sm mt-2 text-center [&_a]:text-yellow-400 [&_a:hover]:text-yellow-300",innerHTML:C(s)("endScreen.EndMsg")},null,8,VI),a[4]||(a[4]=m("p",{class:"text-gray-500 text-sm"},[Po(" Contact: "),m("a",{href:"mailto:openscience.bibliosante@hevs.ch",class:"text-amber-400 hover:text-amber-300 underline transition-colors duration-200"},"openscience.bibliosante@hevs.ch")],-1))])])]))}},Js="/assets/level-KKHL1hp5.mp3",Oc="/assets/char2-Dn_cJl3w.png",GI="/assets/hint3-Dq0qyl6h.png",YI="/assets/hint3-DyTzaF2I.png",KI="/assets/hint8-DM7tosOG.png",QI="/assets/hint8-BLOBfElq.png",JI="/assets/hint13-Bt1U-Z3H.png",XI="/assets/hint13-B1eYCej8.png",ZI="/assets/hint15-BEKlcjet.png",ex="/assets/hint15-C5tmcHwZ.png";function tx(){const t=Me(),e=ot(),{t:n,locale:s}=_e(),{completeLevel:r}=sr(),i=K(()=>t.level===1&&t.currentScenarioImage==="updated"),o=K(()=>t.level===1&&t.currentScenarioImage==="third"),a=K(()=>t.level===1&&t.currentScenarioImage==="congrats");function l(){i.value&&(t.removeOverlay(t.overlayId),t.removeOverlay(t.overlayId2),t.currentScenarioImage="third",t.riddleSolved=!1)}function c(){o.value&&(t.currentScenarioImage="final",t.setCharCallable("Santiago",!0,"outgoing"))}function u(){a.value&&(Ie(Js),t.showCongratsModal=!0,d())}async function d(){if(t.levelStartTime)try{const ne=await r(1,t.levelStartTime);t.setLevelCompletionData(ne)}catch(ne){console.error("Failed to save level completion:",ne)}}const h=K(()=>t.level===2&&t.currentScenarioImage==="main");function f(){if(!h.value)return;t.firstHintFound=!0;const ne=s.value==="en"?GI:YI;t.showOverlay({type:"image",src:ne})}const b=K(()=>t.level===3&&t.currentScenarioImage==="second"),p=K(()=>t.level===3&&t.currentScenarioImage==="final");function _(){b.value&&(t.clickedElement=!0,t.currentScenarioImage="third",setTimeout(()=>{Ie(Or);const ne=t.playerName||"";t.activeMessage={from:"S15",name:"Ins",image:"ines",avatar:Oc,body:n("phone.messageBodylvl2",{playerName:ne})},t.patience=!0,t.currentScenarioImage="fourth",e.addEntry("step3","step3_2"),t.setCharCallable("Ins",!0,"incoming")},12e3))}function g(){p.value&&(t.showOverlay({type:"image",src:s.value==="en"?KI:QI}),t.secondHintFound=!0)}const E=K(()=>t.level===4&&t.currentScenarioImage==="default"),x=K(()=>t.level===4&&t.currentScenarioImage==="seventh");function I(){E.value&&(Ie(vt),e.addEntry("step4","step4_1"),t.currentScenarioImage="second",setTimeout(()=>{t.setCharCallable("Ins",!0,"outgoing"),t.callSequence.Ins=0,t.calledCharacters.Ins=!1},5e3))}function P(){x.value&&(t.setCharCallable("Santiago",!0,"outgoing"),t.calledCharacters.Santiago=!1,t.showOverlay({type:"image",src:s.value==="en"?JI:XI}),t.secondHintFound=!0)}const z=K(()=>t.level===5&&t.currentScenarioImage==="ninth"),R=K(()=>t.level===5&&t.currentScenarioImage==="fifth");function W(){z.value&&(V(),Ie(Js),t.showCongratsModal=!0)}function M(){if(!R.value)return;t.secondHintFound=!0;const ne=s.value==="fr"?ex:ZI;t.showOverlay({type:"image",src:ne})}async function V(){if(t.levelStartTime)try{const ne=await r(5,t.levelStartTime);t.setLevelCompletionData(ne)}catch(ne){console.error("Failed to save level completion:",ne)}}const Y=K(()=>t.currentScenarioImage==="third"&&t.level===6);function B(){Y.value&&(t.currentScenarioImage="fourth")}const ee=K(()=>s.value==="fr"?"absolute top-[32%] left-[29%] transform -translate-x-1/2":"absolute top-[68%] left-[26%] transform -translate-x-1/2");return{canShowElement1:i,canShowElement2:o,canShowElement3:a,handleElement1Click:l,handleElement2Click:c,handleElement3Click:u,canShowLvl2:h,handleElementLvl2Click:f,canShowLvl3Click1:b,canShowLvl3Click3:p,handleElementLvl3Click1:_,handleElementLvl3Click3:g,canShowLvl4Click1:E,canShowLvl4Click2:x,handleElementLvl4Click1:I,handleElementLvl4Click2:P,canShowLvl5Click1:z,canShowLvl5Click2:R,handleElementLvl5Click1:W,handleElementLvl5Click2:M,canClickForDetails:Y,handleImageClick:B,element2PositionClass:ee}}const nx=["title"],sx=["title"],rx=["title"],ix=["title"],ox=["title"],ax=["title"],lx=["title"],cx=["title"],ux=["title"],dx=["title"],rr={__name:"LevelClickableAreasComponent",setup(t){const e=Me(),{canShowElement1:n,canShowElement2:s,canShowElement3:r,handleElement1Click:i,handleElement2Click:o,handleElement3Click:a,canShowLvl2:l,handleElementLvl2Click:c,canShowLvl3Click1:u,canShowLvl3Click3:d,handleElementLvl3Click1:h,handleElementLvl3Click3:f,canShowLvl4Click1:b,canShowLvl4Click2:p,handleElementLvl4Click1:_,handleElementLvl4Click2:g,canShowLvl5Click1:E,canShowLvl5Click2:x,handleElementLvl5Click1:I,handleElementLvl5Click2:P,canClickForDetails:z,handleImageClick:R,element2PositionClass:W}=tx();return(M,V)=>(O(),U(be,null,[C(e).level===1?(O(),U(be,{key:0},[C(n)?(O(),U("div",{key:0,class:"absolute top-[15%] right-[41%] transform -translate-x-1/2 w-[4%] h-[6%] cursor-pointer transition-colors duration-200 z-40",onClick:V[0]||(V[0]=(...Y)=>C(i)&&C(i)(...Y)),title:M.$t("click.one")},null,8,nx)):se("",!0),C(s)?(O(),U("div",{key:1,class:qe([C(W),"w-[15%] h-[3%] cursor-pointer transition-colors duration-200 z-40"]),onClick:V[1]||(V[1]=(...Y)=>C(o)&&C(o)(...Y)),title:M.$t("click.two")},null,10,sx)):se("",!0),C(r)?(O(),U("div",{key:2,class:"absolute bottom-[2%] right-[33%] transform -translate-x-1/2 w-[15%] h-[4%] cursor-pointer transition-colors duration-200 z-40",onClick:V[2]||(V[2]=(...Y)=>C(a)&&C(a)(...Y)),title:M.$t("click.three")},null,8,rx)):se("",!0)],64)):se("",!0),C(e).level===2?(O(),U(be,{key:1},[C(l)?(O(),U("div",{key:0,class:"absolute bottom-[8%] left-[8%] w-[3%] h-[5%] cursor-pointer transition-colors duration-200 z-40",onClick:V[3]||(V[3]=(...Y)=>C(c)&&C(c)(...Y)),title:M.$t("click.four")},null,8,ix)):se("",!0)],64)):se("",!0),C(e).level===3?(O(),U(be,{key:2},[C(u)?(O(),U("div",{key:0,class:"absolute bottom-[52.3%] left-[7.5%] w-[1.5%] h-[3%] cursor-pointer transition-colors duration-200 z-40 rounded-lg",onClick:V[4]||(V[4]=(...Y)=>C(h)&&C(h)(...Y)),title:M.$t("click.six")},null,8,ox)):se("",!0),C(d)?(O(),U("div",{key:1,class:"absolute top-[18%] right-[38%] w-[3%] h-[6%] cursor-pointer transition-colors duration-200 z-40",onClick:V[5]||(V[5]=(...Y)=>C(f)&&C(f)(...Y)),title:M.$t("click.five")},null,8,ax)):se("",!0)],64)):se("",!0),C(e).level===4?(O(),U(be,{key:3},[C(b)?(O(),U("div",{key:0,class:"absolute top-[53.5%] right-[45%] w-[3%] h-[5%] cursor-pointer transition-colors duration-200 z-40",onClick:V[6]||(V[6]=(...Y)=>C(_)&&C(_)(...Y)),title:M.$t("click.one")},null,8,lx)):se("",!0),C(p)?(O(),U("div",{key:1,class:"absolute top-[24%] right-[39.5%] w-[14%] h-[12%] cursor-pointer transition-colors duration-200 z-40",onClick:V[7]||(V[7]=(...Y)=>C(g)&&C(g)(...Y)),title:M.$t("click.seven")},null,8,cx)):se("",!0)],64)):se("",!0),C(e).level===5?(O(),U(be,{key:4},[C(E)?(O(),U("div",{key:0,class:"absolute bottom-[11%] right-[0%] w-[14%] h-[19%] cursor-pointer transition-colors duration-200 z-40",onClick:V[8]||(V[8]=(...Y)=>C(I)&&C(I)(...Y)),title:M.$t("click.nine")},null,8,ux)):se("",!0),C(x)?(O(),U("div",{key:1,class:"absolute top-[6%] right-[28.5%] w-[12%] h-[9%] cursor-pointer transition-colors duration-200 z-40",onClick:V[9]||(V[9]=(...Y)=>C(P)&&C(P)(...Y)),title:M.$t("click.seven")},null,8,dx)):se("",!0)],64)):se("",!0),C(e).level===6?(O(),U(be,{key:5},[C(z)?(O(),U("div",{key:0,class:"absolute top-[25%] right-[43%] w-[9%] h-[2%] cursor-pointer px-4 py-2 cursor-pointer transition-colors duration-200 z-40",onClick:V[10]||(V[10]=(...Y)=>C(R)&&C(R)(...Y)),title:"Click to see more details"})):se("",!0)],64)):se("",!0)],64))}},hx={class:"bg-gray-800 text-white px-6 py-1 rounded-lg text-center shadow-sm font-mono text-lg sm:text-xl lg:text-2xl border-2 border-black"},fx={key:0,class:"text-red-400 text-sm"},bs={__name:"TimerComponent",setup(t,{expose:e}){const n=oe("00:00"),s=oe(0);let r=0,i=null;It(()=>{i=setInterval(()=>{r++;const d=String(Math.floor(r/60)).padStart(2,"0"),h=String(r%60).padStart(2,"0");n.value=`${d}:${h}`},1e3)});const o=d=>{r+=d,s.value+=d,setTimeout(()=>{s.value=0},3e3)},a=()=>r,l=()=>Date.now()-r*1e3,c=()=>{r=0,s.value=0,n.value="00:00"},u=()=>{i&&(clearInterval(i),i=null)};return Wt("timer",{addPenalty:o,getCurrentTimeInSeconds:a,getStartTime:l,resetTimer:c,stopTimer:u}),e({addPenalty:o,getCurrentTimeInSeconds:a,getStartTime:l,resetTimer:c,stopTimer:u}),(d,h)=>(O(),U("div",hx,[Po(" Time: "+q(n.value)+" ",1),s.value>0?(O(),U("div",fx," +"+q(s.value)+"s penalty ",1)):se("",!0)]))}},px={},mx={class:"bg-gray-900 text-white p-4 rounded-2xl shadow-lg w-full max-w-xs mx-auto flex flex-col gap-4 font-mono border-4 border-black h-[450px]"};function gx(t,e){return O(),U("div",mx,[Ma(t.$slots,"default")])}const ir=Oo(px,[["render",gx]]),_x={class:"flex flex-col h-full bg-black text-white rounded-xl overflow-hidden"},vx={class:"flex items-center gap-3 p-4 bg-gray-900 border-b border-gray-700"},yx=["src","alt"],bx={class:"flex-1"},Cx={class:"text-sm font-semibold text-white"},wx={class:"flex-1 overflow-y-auto p-4 bg-black"},Ex={class:"flex items-start gap-2 mb-3"},Sx={class:"flex-1"},Ix={class:"bg-gray-800 rounded-2xl rounded-tl-md p-3 shadow-lg"},xx={class:"whitespace-pre-line text-sm leading-relaxed text-white"},Tx={class:"p-4 bg-gray-900 border-t border-gray-700"},or={__name:"PhoneMessageComponent",props:{from:String,name:String,body:String,avatar:String},emits:["close"],setup(t){return(e,n)=>(O(),U("div",_x,[m("div",vx,[m("img",{src:t.avatar,alt:t.name,class:"w-10 h-10 rounded-full object-cover"},null,8,yx),m("div",bx,[m("div",Cx,q(t.name),1),n[1]||(n[1]=m("div",{class:"text-xs text-gray-400"},"Message",-1))])]),m("div",wx,[m("div",Ex,[m("div",Sx,[m("div",Ix,[m("p",xx,q(t.body),1)]),n[2]||(n[2]=m("div",{class:"text-xs text-gray-500 mt-1 ml-3"}," Just now ",-1))])])]),m("div",Tx,[m("button",{class:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors",onClick:n[0]||(n[0]=s=>e.$emit("close"))},q(e.$t?e.$t("phone.close"):"Close"),1)])]))}};function Qm(t){const e=Me(),n=cn(),s=ot(),{completeLevel:r}=sr();function i(l){if(e.enteredCodes.includes(l)){t("error","");return}if(l==="9"&&!e.enteredCodes.includes("7")){e.enteredCodes.push("9"),t("success",""),Ie(vt),e.currentScenarioImage="second",s.addEntry("step2","step2_2");return}if(l==="15"&&e.currentScenarioImage==="second"){e.enteredCodes.push("15"),t("success",""),e.currentScenarioImage="third";return}if(l==="31"&&e.currentScenarioImage==="third"){e.enteredCodes.push("31"),t("success",""),Ie(vt),s.addEntry("step2","step2_3"),e.currentScenarioImage="fourth";return}if(l==="1"&&e.currentScenarioImage==="fourth"){e.enteredCodes.push("1"),t("success",""),e.currentScenarioImage="fifth";return}if(l==="36"&&e.currentScenarioImage==="fifth"){e.enteredCodes.push("36"),t("success",""),Ie(vt),s.addEntry("step2","step2_1"),e.currentScenarioImage="final";return}if(l==="7"&&e.currentScenarioImage==="final"){t("success",""),e.currentScenarioImage="main";return}if(l==="11"&&e.currentScenarioImage==="main"){o(),t("success",""),e.enteredCodes.push("11"),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function o(){if(e.levelStartTime)try{const l=await r(2,e.levelStartTime);e.setLevelCompletionData(l)}catch(l){console.error("Failed to save level completion:",l)}}function a(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=3,n.push("/level/3")}return{handleCodeInput:i,continueToLevel3:a}}const kx="/assets/hint4-BvcazQSK.png",Ax="/assets/hint4-CZ8NdnF0.png",Nx="/assets/hint5-DUNYDqoO.png",Rx="/assets/hint5-J-C-ikhr.png",Px="/assets/hint6-ph3jfkUo.png",Lx="/assets/hint6-VnMPGhl7.png",Ox="/assets/hint7-DSleh6qa.png",Mx="/assets/hint7-O7VAVd1W.png";function Jm(t){const e=Me(),{t:n,locale:s}=_e(),r=cn(),i=ot(),{completeLevel:o}=sr();function a(p){if(!e.isCharCallable(p.name)){e.startCall(p.name,p.avatar,n("phone.callUnavailable"));return}Ie(Xo);const _=e.playerName||"";e.markCharacterAsCalled(p.name),e.level===3&&e.startCall(p.name,p.avatar,n("phone.call2",{playerName:_}))}function l(){return e.hasPendingMandatoryCalls()}function c(){return e.getPendingCallType()}function u(p){return e.getCharacterCallType(p)}function d(p){const _=p.find(g=>e.isCharCallable(g.name)&&!e.hasCalledCharacter(g.name));_&&a(_)}function h(p){if(!["57","58","59"].includes(p)&&e.enteredCodes.includes(p)){t("error","");return}if(p==="17"&&e.enteredCodes.length===0){t("success",""),e.firstHintFound=!0,Ie(vt),i.addEntry("step3","step3_1");const Y=s.value==="fr"?Ax:kx;e.showOverlay({type:"image",src:Y});return}if(p==="33"&&e.firstHintFound){e.enteredCodes.push("17"),e.enteredCodes.push("33"),e.firstHintFound=!1,e.currentScenarioImage="second",t("success",""),e.removeOverlay(e.overlayId);return}if(p==="57"&&e.currentScenarioImage==="fourth"){e.enteredCodes.includes("57")||e.enteredCodes.push("57"),e.showOverlay({type:"image",src:s.value==="en"?Nx:Rx}),t("success","");return}if(p==="58"&&e.currentScenarioImage==="fourth"){e.enteredCodes.includes("58")||e.enteredCodes.push("58"),e.showOverlay({type:"image",src:s.value==="en"?Px:Lx}),t("success","");return}if(p==="59"&&e.currentScenarioImage==="fourth"){e.enteredCodes.includes("59")||e.enteredCodes.push("59"),e.showOverlay({type:"image",src:s.value==="en"?Ox:Mx}),t("success","");return}if((p==="77"||p==="76"||p==="78")&&(!e.enteredCodes.includes("57")||!e.enteredCodes.includes("58")||!e.enteredCodes.includes("59"))){t("error","");return}if(p==="77"&&e.currentScenarioImage==="fourth"){e.removeOverlay(e.overlayId),e.removeOverlay(e.overlayId2),e.removeOverlay(e.overlayId3),e.setCharCallable("Ins",!1,"incoming"),e.enteredCodes.push("77"),e.currentScenarioImage="fifth",t("success","");return}if((p==="76"||p==="78")&&e.currentScenarioImage==="fourth"&&e.showErrorOverlay(n("riddle3.title"),n(`riddle3.incorrect${p}`)),p==="22"&&e.currentScenarioImage==="fifth"){e.enteredCodes.push("22"),e.currentScenarioImage="sixth",Ie(vt),i.addEntry("step3","step3_3"),t("success","");return}if(p==="64"&&e.currentScenarioImage==="sixth"){e.enteredCodes.push("64"),e.currentScenarioImage="final",t("success","");return}if(p==="99"&&e.currentScenarioImage==="final"&&e.secondHintFound){f(),e.secondHintFound=!1,t("success",""),e.enteredCodes.push("99"),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function f(){if(e.levelStartTime)try{const p=await o(3,e.levelStartTime);e.setLevelCompletionData(p)}catch(p){console.error("Failed to save level completion:",p)}}function b(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=4,r.push("/level/4")}return{handleCodeInput:h,continueToLevel4:b,handleCharacterCall:a,hasPendingCall:l,getPendingCallType:c,getCharacterCallType:u,answerPendingCall:d}}const Dx="/assets/hint9-CiYUwKyn.png",$x="/assets/hint9-DnUcTZIP.png",Fx="/assets/hint10-Byhdu0IS.png",zx="/assets/hint10-J_CwTH6v.png",Hx="/assets/hint11-DCJ9CoB_.png",qx="/assets/hint11-TCFd5Hho.png",jx="/assets/hint12-CY0uf0OL.png",Ux="/assets/hint12-DGXE0C6x.png",fh="/assets/char4-BWEgOnii.png";function Xm(t){const e=Me(),{t:n,locale:s}=_e(),r=cn(),i=ot(),{completeLevel:o}=sr();function a(p){if(!e.isCharCallable(p.name)){e.startCall(p.name,p.avatar,n("phone.callUnavailable"));return}Ie(Xo);const _=e.playerName||"";e.markCharacterAsCalled(p.name),p.name==="Ins"&&e.callSequence.Ins===1?e.startCall(p.name,p.avatar,n("phone.call3",{playerName:_})):p.name==="Santiago"&&e.callSequence.Santiago===1?(e.startCall(p.name,p.avatar,n("phone.call4",{playerName:_}),n("roadmap.step4_2")),setTimeout(()=>{i.addEntry("step4","step4_2"),Ie(vt)},3e3)):p.name==="Santiago"&&e.callSequence.Santiago===2?(e.startCall(p.name,p.avatar,n("phone.call5",{playerName:_}),n("roadmap.step4_3")),setTimeout(()=>{i.addEntry("step4","step4_3"),Ie(vt)},3e3),e.setCharCallable("Santiago",!1,"incoming"),e.currentScenarioImage="seventh"):p.name==="Santiago"&&e.callSequence.Santiago>=3&&e.startCall(p.name,p.avatar,n("phone.call6",{playerName:_}))}function l(){return e.hasPendingMandatoryCalls()}function c(){return e.getPendingCallType()}function u(p){return e.getCharacterCallType(p)}function d(p){const _=p.find(g=>e.isCharCallable(g.name)&&!e.hasCalledCharacter(g.name));_&&a(_)}function h(p){if(!["4","51"].includes(p)&&e.enteredCodes.includes(p)){t("error","");return}if((p==="4"||p==="51")&&e.currentScenarioImage==="third"&&e.callSequence.Ins>=1){p==="4"?(t("success",""),e.showOverlay({type:"image",src:s.value==="en"?Dx:$x}),e.enteredCodes.includes(p)||e.enteredCodes.push(p)):p==="51"&&(t("success",""),e.enteredCodes.includes("4")?(e.showOverlay({type:"image",src:s.value==="en"?Hx:qx}),e.enteredCodes.includes(p)||e.enteredCodes.push(p)):e.showOverlay({type:"image",src:s.value==="en"?Fx:zx}));return}if(p==="23"&&e.currentScenarioImage==="third"&&e.enteredCodes.includes("4")&&e.enteredCodes.includes("51")&&e.callSequence.Ins>=1){e.removeOverlay(e.overlayId),t("success",""),e.currentScenarioImage="fourth",e.enteredCodes.push(p),Ie(Or);const Y=e.playerName||"";e.activeMessage={name:"Ins",image:"ines",avatar:Oc,body:n("phone.messageBodylvl3",{playerName:Y})};return}if(p==="81"&&e.currentScenarioImage==="fourth"){t("success",""),e.currentScenarioImage="fifth",e.enteredCodes.push(p),setTimeout(()=>{e.setCharCallable("Santiago",!0,"outgoing"),e.callSequence.Santiago=0,e.calledCharacters.Santiago=!1},5e3);return}if(p==="1"&&e.currentScenarioImage==="sixth"&&e.callSequence.Santiago>=1){t("success",""),e.removeOverlay(e.overlayId),e.showOverlay({type:"image",src:s.value==="en"?jx:Ux}),e.firstHintFound=!0;return}if(p==="61"&&e.currentScenarioImage==="sixth"&&e.firstHintFound&&e.callSequence.Santiago>=1){t("success",""),e.removeOverlay(e.overlayId),e.setCharCallable("Santiago",!0,"incoming"),e.calledCharacters.Santiago=!1,e.enteredCodes.push(p);return}if((p==="17"||p==="32")&&e.currentScenarioImage==="seventh"&&e.secondHintFound&&e.callSequence.Santiago>=2){if(s.value==="en"&&p==="17"||s.value==="fr"&&p==="32"){t("success",""),e.removeOverlay(e.overlayId),Ie(Or);const Y=e.playerName||"";e.activeMessage={name:"Anne",image:"anne",avatar:fh,body:n("phone.messageBodylvl4",{playerName:Y})},e.setCharCallable("Santiago",!1,"outgoing"),e.currentScenarioImage="eighth",e.enteredCodes.push(p);return}t("error","");return}if(p==="99"&&e.currentScenarioImage==="eighth"&&e.firstHintFound&&e.callSequence.Santiago>=2){t("success",""),Ie(Or);const Y=e.playerName||"";e.activeMessage={name:"Anne",image:"anne",avatar:fh,body:n("phone.messageBodylvl4",{playerName:Y})};return}if(p==="47"&&e.currentScenarioImage==="eighth"){f(),t("success",""),e.enteredCodes.push("47"),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function f(){if(e.levelStartTime)try{const p=await o(4,e.levelStartTime);e.setLevelCompletionData(p)}catch(p){console.error("Failed to save level completion:",p)}}function b(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=5,r.push("/level/5")}return{handleCodeInput:h,continueToLevel5:b,handleCharacterCall:a,hasPendingCall:l,getPendingCallType:c,getCharacterCallType:u,answerPendingCall:d}}const Bx="/assets/hint14-DvrC8c0a.png",Vx="/assets/hint14-CbSkXMPo.png",Wx="/assets/hint16-Di_IehTr.png",Gx="/assets/hint16-B-QXtAgr.png";function Zm(t){const e=Me(),{t:n,locale:s}=_e(),r=cn(),i=ot();function o(f){if(!e.isCharCallable(f.name)){e.startCall(f.name,f.avatar,n("phone.callUnavailable"));return}Ie(Xo);const b=e.playerName||"";e.markCharacterAsCalled(f.name),f.name==="Santiago"?(e.startCall(f.name,f.avatar,n("phone.call7",{playerName:b})),e.currentScenarioImage="fourth"):f.name==="Jack"?(e.startCall(f.name,f.avatar,n("phone.call8",{playerName:b})),e.currentScenarioImage="seventh"):f.name==="Ins"&&(e.startCall(f.name,f.avatar,n("phone.call9",{playerName:b})),e.activeRiddle=!0)}function a(){return e.hasPendingMandatoryCalls()}function l(){return e.getPendingCallType()}function c(f){return e.getCharacterCallType(f)}function u(f){const b=f.find(p=>e.isCharCallable(p.name)&&!e.hasCalledCharacter(p.name));b&&o(b)}function d(f){if(!["8","3"].includes(f)&&e.enteredCodes.includes(f)){t("error","");return}if(f==="3"&&e.enteredCodes.length===0){t("success",""),e.firstHintFound=!0;const R=s.value==="fr"?Vx:Bx;e.showOverlay({type:"image",src:R}),e.currentScenarioImage="second";return}if(f==="19"&&e.firstHintFound&&!e.enteredCodes.includes("19")){e.removeOverlay(e.overlayId),t("success",""),Ie(vt),i.addEntry("step5","step5_1"),e.currentScenarioImage="third",e.enteredCodes.push("19"),setTimeout(()=>{e.setCharCallable("Santiago",!0,"outgoing")},3e3);return}if(f==="71"&&e.currentScenarioImage==="fourth"){e.setCharCallable("Santiago",!1,"outgoing"),t("success",""),Ie(vt),i.addEntry("step5","step5_2"),e.currentScenarioImage="fifth",e.enteredCodes.push("71");return}if(e.currentScenarioImage==="fourth"&&(f==="72"||f==="73")){const R=n("riddle4.title"),W=n("riddle4.incorrect");try{e.showErrorOverlay(R,W)}catch(M){console.error("Error showing overlay:",M)}return}if(f==="96"&&e.currentScenarioImage==="fifth"&&e.secondHintFound){e.removeOverlay(e.overlayId),t("success",""),Ie(vt),i.addEntry("step5","step5_4"),e.currentScenarioImage="sixth",setTimeout(()=>{e.setCharCallable("Jack",!0,"outgoing")},5e3),e.enteredCodes.push("96");return}if(e.currentScenarioImage==="fifth"&&e.secondHintFound&&(f==="93"||f==="94"||f==="95")){e.showErrorOverlay(n("riddle5.title"),n(`riddle5.incorrect${f}`));return}if(f==="8"&&e.currentScenarioImage==="seventh"){t("success",""),e.thirdHintFound=!0;const R=s.value==="fr"?Gx:Wx;e.showOverlay({type:"image",src:R});return}if(f==="6"&&e.currentScenarioImage==="seventh"&&e.thirdHintFound){e.setCharCallable("Jack",!1,"outgoing"),e.removeOverlay(e.overlayId),t("success",""),Ie(vt),i.addEntry("step5","step5_3"),e.currentScenarioImage="eighth",setTimeout(()=>{e.setCharCallable("Ins",!0,"incoming")},3e3),e.enteredCodes.push("6");return}if(e.currentScenarioImage==="seventh"&&e.thirdHintFound&&(f==="12"||f==="35"||f==="13")){e.showErrorOverlay(n("riddle6.title"),n("riddle6.incorrect"));return}if(f==="84"&&e.currentScenarioImage==="eighth"&&e.activeRiddle){e.setCharCallable("Ins",!1,"incoming"),t("success",""),e.currentScenarioImage="ninth",e.enteredCodes.push("84");return}if(e.currentScenarioImage==="eighth"&&(f==="65"||f==="18")&&e.activeRiddle){e.showErrorOverlay(n("riddle6.title"),n("riddle6.incorrect"));return}t("error","")}function h(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=6,r.push("/level/6")}return{handleCodeInput:d,continueToLevel6:h,handleCharacterCall:o,hasPendingCall:a,getPendingCallType:l,getCharacterCallType:c,answerPendingCall:u}}const ph="/assets/hint17-COXsc1CQ.png",mh="/assets/hint17-5QkjhgIG.png";function eg(t){const e=Me(),{locale:n}=_e(),s=cn(),r=ot(),{completeLevel:i}=sr();function o(c){const h="1323";if(c==="2"&&e.enteredCodes.length===0){e.enteredCodes.push(c),e.currentScenarioImage="second",t("success",""),Ie(vt),r.addEntry("step6","step6_1");return}if(c==="1"&&e.currentScenarioImage==="second"&&e.enteredCodes.includes("2")){t("success",""),e.enteredCodes.push(c),e.firstHintFound=!0;const f=n.value==="fr"?mh:ph;e.showOverlay({type:"image",src:f}),e.currentScenarioImage="third";return}if(c==="1"&&e.currentScenarioImage==="third"){t("success","");const f=n.value==="fr"?mh:ph;e.showOverlay({type:"image",src:f});return}if(c===h&&e.currentScenarioImage==="fourth"&&e.enteredCodes.includes("2")&&e.firstHintFound){a(),t("success",""),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function a(){if(e.levelStartTime)try{const c=await i(6,e.levelStartTime);e.setLevelCompletionData(c)}catch(c){console.error("Failed to save level completion:",c)}}function l(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=0,s.push("/level/end")}return{handleCodeInput:o,continueToEnd:l}}function Yx(t){const e=Qf(),n={handleCharacterCall:()=>{},hasPendingCall:()=>!1,getPendingCallType:()=>"outgoing",getCharacterCallType:()=>"outgoing",answerPendingCall:()=>{}};let s={};return e.path.includes("/level/1")?s=Km(t):e.path.includes("/level/2")?s=Qm(t):e.path.includes("/level/3")?s=Jm(t):e.path.includes("/level/4")?s=Xm(t):e.path.includes("/level/5")?s=Zm(t):e.path.includes("/level/6")&&(s=eg(t)),{...n,...s}}function Kx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="congrats"?"eigth":e.currentScenarioImage==="final"?"seventh":e.currentScenarioImage==="third"?"sixth":e.currentScenarioImage==="updated"?"fifth":e.secondHintFound&&!e.riddleSolved?"fourth":l.includes("8")&&l.includes("4")&&!e.secondHintFound?"third":e.firstHintFound&&!l.includes("4")||e.riddleSolved&&e.firstHintFound?"second":(l.length===0||e.riddleSolved&&!e.firstHintFound,"first")},s=K(()=>{const l=n();return t(`level1.hints.${l}`)}),r=K(()=>{const l=n();return t(`level1.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Qx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="main"&&e.firstHintFound?"eighth":e.currentScenarioImage==="main"?"seventh":l.includes("36")?"sixth":l.includes("1")?"fifth":l.includes("31")?"fourth":l.includes("15")?"third":l.includes("9")?"second":(l.length===0,"first")},s=K(()=>{const l=n();return t(`level2.hints.${l}`)}),r=K(()=>{const l=n();return t(`level2.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Jx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.secondHintFound?"tenth":l.includes("64")&&!e.secondHintFound?"ninth":l.includes("22")&&!e.secondHintFound?"eighth":l.includes("77")&&!e.secondHintFound?"seventh":l.includes("59")&&l.includes("58")&&l.includes("57")?"sixth":e.clickedElement&&e.patience?"fifth":e.clickedElement&&!e.patience?"fourth":l.includes("33")?"third":l.length===0&&e.firstHintFound?"second":(l.length===0,"first")},s=K(()=>{const l=n();return t(`level3.hints.${l}`)}),r=K(()=>{const l=n();return t(`level3.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Xx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="eighth"&&l.includes("17")||l.includes("32")?"thirteenth":e.currentScenarioImage==="seventh"&&e.secondHintFound&&e.callSequence.Santiago>=3?"twelfth":e.currentScenarioImage==="seventh"&&e.secondHintFound&&e.callSequence.Santiago>=2&&!l.includes("3")?"eleventh":e.currentScenarioImage==="seventh"&&!e.secondHintFound&&e.callSequence.Santiago>=2?"tenth":e.currentScenarioImage==="sixth"&&e.callSequence.Santiago>=1&&e.firstHintFound?"ninth":e.currentScenarioImage==="sixth"&&e.callSequence.Santiago>=1&&!e.firstHintFound?"eighth":e.currentScenarioImage==="fifth"&&l.includes("81")?"seventh":e.currentScenarioImage==="fourth"&&l.includes("23")?"sixth":e.currentScenarioImage==="third"&&l.includes("4")&&l.includes("51")&&e.callSequence.Ins>=1?"fifth":e.currentScenarioImage==="third"&&l.includes("4")&&e.callSequence.Ins>=1&&!l.includes("51")?"fourth":e.currentScenarioImage==="third"&&e.callSequence.Ins>=1&&!l.includes("4")?"third":e.currentScenarioImage==="second"&&l.includes("44")?"second":(l.length===0||!l.includes("44"),"first")},s=K(()=>{const l=n();return t(`level4.hints.${l}`)}),r=K(()=>{const l=n();return t(`level4.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Zx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="ninth"&&l.includes("84")?"twelfth":e.currentScenarioImage==="eighth"&&e.activeRiddle&&l.includes("6")?"eleventh":e.currentScenarioImage==="eighth"&&!e.activeRiddle?"tenth":e.currentScenarioImage==="seventh"&&e.thirdHintFound?"ninth":e.currentScenarioImage==="seventh"&&!e.thirdHintFound?"eighth":e.currentScenarioImage==="sixth"&&l.includes("96")?"seventh":e.currentScenarioImage==="fifth"&&e.secondHintFound&&l.includes("71")?"sixth":e.currentScenarioImage==="fifth"&&l.includes("71")&&!e.secondHintFound?"fifth":e.currentScenarioImage==="fourth"?"fourth":e.currentScenarioImage==="third"?"third":e.currentScenarioImage=="second"?"second":(e.currentScenarioImage=="default","first")},s=K(()=>{const l=n();return t(`level5.hints.${l}`)}),r=K(()=>{const l=n();return t(`level5.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function eT(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="fourth"?"fourth":e.currentScenarioImage==="third"?"third":l.includes("2")&&e.currentScenarioImage==="second"&&!e.firstHintFound?"second":(e.enteredCodes.length===0,"first")},s=K(()=>{const l=n();return t(`level6.hints.${l}`)}),r=K(()=>{const l=n();return t(`level6.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function tT(){Me();const t=Qf();if(t.path.includes("/level/1"))return Kx();if(t.path.includes("/level/2"))return Qx();if(t.path.includes("/level/3"))return Jx();if(t.path.includes("/level/4"))return Xx();if(t.path.includes("/level/5"))return Zx();if(t.path.includes("/level/6"))return eT()}const nT="/assets/char3-DtMvC0no.png",sT={class:"flex flex-col gap-4 relative"},rT={class:"grid grid-cols-2 gap-2 text-center relative"},iT={key:0,class:"absolute inset-0 flex items-center justify-center z-10"},oT={class:"flex items-center gap-2 h-full"},aT={class:"flex-1"},lT={class:"text-white font-semibold text-xs"},cT={class:"text-blue-200 text-[10px]"},uT={class:"flex justify-between items-center mb-4"},dT={class:"text-lg font-semibold text-yellow-400 flex items-center gap-2"},hT={class:"bg-gray-700 p-4 rounded mb-4 border-l-4 border-yellow-500"},fT={class:"text-white text-sm leading-relaxed"},pT={class:"mt-2 text-yellow-300 text-xs font-semibold"},mT={class:"flex gap-3"},gT={class:"flex justify-between items-center mb-4"},_T={class:"text-lg font-semibold text-white"},vT={class:"bg-gray-700 p-4 rounded"},yT={class:"text-white text-sm whitespace-pre-line"},bT={class:"flex justify-around gap-2"},CT=["onClick"],wT=["src"],ET={class:"text-white text-xs font-bold"},ST={key:1,class:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center"},IT={class:"flex items-center gap-2"},xT={class:"flex-1"},TT=["placeholder"],kT=["disabled"],AT={class:"grid grid-cols-3 gap-2"},NT=["disabled","onClick"],RT=["disabled"],ar={__name:"PhoneKeypadComponent",setup(t){const e=Me(),{t:n}=_e(),s=Et("timer",null),{currentHint:r,currentSolution:i,showClues:o,showSolutions:a,closeHints:l,showHintModal:c,hintModalType:u}=tT(),d=oe(!1),h=oe(""),f=oe(null),b=oe(""),p=[1,2,3,4,5,6,7,8,9],_=Yx(Y),g=[{name:"Santiago",avatar:Ym,key:"Santiago"},{name:"Ins",avatar:Oc,key:"Ins"},{name:"Jack",avatar:nT,key:"Jack"}],E=()=>{_.hasPendingCall()||(d.value=!0,h.value="hint",f.value=o)},x=()=>{_.hasPendingCall()||(d.value=!0,h.value="solution",f.value=a)},I=()=>{const B=h.value==="hint"?30:60,ee=(s==null?void 0:s.value)||s;ee&&ee.addPenalty&&ee.addPenalty(B),f.value&&f.value(),P()},P=()=>{d.value=!1,h.value="",f.value=null};function z(B){b.value.length>=6||_.hasPendingCall()||(b.value+=B)}function R(){_.hasPendingCall()||(b.value=b.value.slice(0,-1))}function W(){_.handleCodeInput(b.value.trim()),b.value=""}const M=oe(""),V=oe("");function Y(B,ee){V.value=B,M.value=ee,setTimeout(()=>{M.value="",V.value=""},2e3)}return(B,ee)=>(O(),U("div",sT,[m("div",rT,[m("button",{onClick:E,class:qe(["bg-red-600 hover:bg-red-700 py-2 rounded shadow text-sm font-semibold transition-all duration-300",{"opacity-30 blur-sm":C(_).hasPendingCall()}])},q(C(n)("phone.help")),3),m("button",{onClick:x,class:qe(["bg-yellow-600 hover:bg-yellow-700 py-2 rounded shadow text-sm font-semibold transition-all duration-300",{"opacity-30 blur-sm":C(_).hasPendingCall()}])},q(C(n)("phone.solution")),3),C(_).hasPendingCall()?(O(),U("div",iT,[m("button",{onClick:ee[0]||(ee[0]=ne=>C(_).answerPendingCall(g)),class:"w-full h-full bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg border-2 border-blue-400 shadow-lg hover:from-blue-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105 animate-pulse"},[m("div",oT,[ee[7]||(ee[7]=m("div",{class:"w-2 h-2 bg-blue-300 rounded-full animate-ping"},null,-1)),m("div",aT,[m("p",lT,"  "+q(C(_).getPendingCallType()==="incoming"?C(n)("phone.incomingCall"):C(n)("phone.outgoingCallRequired")),1),m("p",cT,q(C(_).getPendingCallType()==="incoming"?C(n)("phone.answerCall"):C(n)("phone.makeCall")),1)])])])])):se("",!0)]),d.value?(O(),U("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:P},[m("div",{class:"bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4 z-[10000] border-2 border-yellow-500 shadow-2xl",onClick:ee[1]||(ee[1]=Ur(()=>{},["stop"]))},[m("div",uT,[m("h3",dT,"  "+q(C(n)("timer.penaltyWarning")),1),m("button",{onClick:P,class:"text-gray-400 hover:text-white text-xl leading-none"},"  ")]),m("div",hT,[m("p",fT,q(h.value==="hint"?C(n)("timer.hintPenaltyWarning"):C(n)("timer.solutionPenaltyWarning")),1),m("div",pT,"  "+q(h.value==="hint"?"+30 secondes":"+60 secondes"),1)]),m("div",mT,[m("button",{onClick:I,class:"flex-1 bg-red-600 hover:bg-red-700 py-3 rounded text-white font-semibold transition-colors"},q(C(n)("timer.acceptPenalty")),1),m("button",{onClick:P,class:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded text-white font-semibold transition-colors"},q(C(n)("timer.cancel")),1)])])])):se("",!0),C(c)?(O(),U("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:ee[5]||(ee[5]=(...ne)=>C(l)&&C(l)(...ne))},[m("div",{class:"bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4 max-h-96 overflow-y-auto z-[10000]",onClick:ee[4]||(ee[4]=Ur(()=>{},["stop"]))},[m("div",gT,[m("h3",_T,q(C(u)==="clues"?C(n)("phone.help"):C(n)("phone.solution"))+" - Level "+q(C(e).getLvl()),1),m("button",{onClick:ee[2]||(ee[2]=(...ne)=>C(l)&&C(l)(...ne)),class:"text-gray-400 hover:text-white text-xl leading-none z-[10001]"},"  ")]),m("div",vT,[m("p",yT,q(C(u)==="clues"?C(r):C(i)),1)]),m("button",{onClick:ee[3]||(ee[3]=(...ne)=>C(l)&&C(l)(...ne)),class:"w-full mt-4 bg-amber-600 hover:bg-amber-700 py-2 rounded text-white font-semibold"},q(C(n)("phone.close")),1)])])):se("",!0),m("div",bT,[(O(),U(be,null,zt(g,(ne,Ue)=>m("button",{key:Ue,class:qe(["w-12 h-12 rounded-full overflow-hidden relative group transition-all duration-200",[C(e).isCharCallable(ne.name)&&!C(e).hasCalledCharacter(ne.name)?C(_).getCharacterCallType(ne.name)==="incoming"?"ring-4 ring-blue-400 shadow-lg shadow-blue-400/60 hover:shadow-blue-300/80 animate-pulse transition-all":"ring-4 ring-green-400 shadow-lg shadow-green-400/60 hover:shadow-green-300/80 animate-pulse transition-all":C(e).isCharCallable(ne.name)&&C(e).hasCalledCharacter(ne.name)?"ring-2 ring-green-400 shadow-lg shadow-green-400/50 hover:shadow-green-300/60 transition-all":"ring-2 ring-gray-500 opacity-60 grayscale hover:opacity-70"]]),onClick:Ce=>C(_).handleCharacterCall(ne)},[m("img",{src:ne.avatar,alt:"Character",class:"w-full h-full object-cover"},null,8,wT),C(e).isCharCallable(ne.name)&&!C(e).hasCalledCharacter(ne.name)?(O(),U("div",{key:0,class:qe(["absolute -top-1 -right-1 w-4 h-4 rounded-full flex items-center justify-center animate-bounce",[C(_).getCharacterCallType(ne.name)==="incoming"?"bg-blue-500":"bg-green-500"]])},[m("span",ET,q(C(_).getCharacterCallType(ne.name)==="incoming"?"":""),1)],2)):se("",!0),C(e).isCharCallable(ne.name)&&C(e).hasCalledCharacter(ne.name)?(O(),U("div",ST,[...ee[8]||(ee[8]=[m("span",{class:"text-white text-xs"},"",-1)])])):se("",!0),m("div",{class:qe(["absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200",[C(e).isCharCallable(ne.name)?"bg-green-500/20":"bg-red-500/20"]])},null,2)],10,CT)),64))]),m("div",IT,[m("div",xT,[ds(m("input",{"onUpdate:modelValue":ee[6]||(ee[6]=ne=>b.value=ne),type:"text",class:qe(["w-full px-2 py-1 bg-gray-800 border rounded text-center text-lg tracking-widest transition-all duration-200",[V.value==="success"?"border-green-500":V.value==="error"?"border-red-500":C(_).hasPendingCall()?"border-blue-400 bg-gray-700":"border-gray-600"]]),placeholder:C(_).hasPendingCall()?C(_).getPendingCallType()==="incoming"?C(n)("phone.placeholderIncoming"):C(n)("phone.placeholderOutgoing"):C(n)("phone.placeholder"),readonly:""},null,10,TT),[[$s,b.value]]),M.value?(O(),U("p",{key:0,class:qe(["text-sm mt-1 text-center font-semibold",V.value==="success"?"text-green-400":"text-red-400"])},q(M.value),3)):se("",!0)]),m("button",{onClick:R,disabled:C(_).hasPendingCall(),class:qe(["px-3 py-2 rounded text-sm transition-colors",[C(_).hasPendingCall()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"]])},q(C(n)("phone.delete")),11,kT)]),m("div",AT,[(O(),U(be,null,zt(p,ne=>m("button",{key:ne,disabled:C(_).hasPendingCall(),class:qe(["py-3 rounded-lg text-lg font-bold transition-colors",[C(_).hasPendingCall()?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 text-white"]]),onClick:Ue=>z(ne)},q(ne),11,NT)),64))]),m("button",{disabled:C(_).hasPendingCall(),class:qe(["w-full py-3 rounded text-base font-semibold transition-colors",[C(_).hasPendingCall()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"]]),onClick:W},q(C(_).hasPendingCall()?C(_).getPendingCallType()==="incoming"?C(n)("phone.answerFirst"):C(n)("phone.callFirst"):C(n)("phone.enter")),11,RT)]))}},tg={__name:"RoadmapButtonComponent",emits:["click"],setup(t){const e=ot(),{shouldFlash:n}=Wv(e);return(s,r)=>(O(),U("button",{class:qe(["absolute top-2 right-2 px-4 py-2 rounded font-semibold shadow border border-gray-600 transition-all duration-300",[C(n)?"bg-yellow-500 hover:bg-yellow-600 text-black border-yellow-400 animate-pulse":"bg-[#121212] hover:bg-[#1f1f1f] text-white"]]),onClick:r[0]||(r[0]=i=>s.$emit("click"))},"  ",2))}},PT={class:"grid gap-6 text-white"},LT={class:"flex items-center justify-between mb-2"},OT={class:"text-lg font-semibold text-amber-400 tracking-wide"},MT={key:0,class:"text-sm space-y-1"},DT={key:1,class:"italic text-gray-500 text-sm"},$T={__name:"RoadmapComponent",props:{steps:Array},setup(t){function e(i){switch(typeof i=="object"?i.level:0){case 1:return"ml-4";case 2:return"ml-8";default:return"ml-0"}}function n(i){return typeof i=="object"&&i.isNew?"text-yellow-500":"text-gray-300"}function s(i){return typeof i=="object"&&i.isNew?"text-yellow-400":"text-gray-400"}function r(i){switch(typeof i=="object"?i.level:0){case 1:return"";case 2:return"";default:return""}}return(i,o)=>(O(),U("div",PT,[(O(!0),U(be,null,zt(t.steps,(a,l)=>(O(),U("div",{key:l,class:"p-5 rounded-xl bg-[#1a1a1a] border border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200"},[m("div",LT,[m("h3",OT,q(a.label),1)]),a.items.length?(O(),U("div",MT,[(O(!0),U(be,null,zt(a.items,(c,u)=>(O(),U("div",{key:u,class:qe([[e(c),n(c)],"flex items-start transition-colors duration-300"])},[m("span",{class:qe(["mr-2 flex-shrink-0",s(c)])},q(r(c)),3),m("span",{class:qe(c.isNew?"font-medium":"")},q(typeof c=="string"?c:c.text),3)],2))),128))])):(O(),U("p",DT,q(i.$t("roadmap.entries")),1))]))),128))]))}},FT={key:0,class:"fixed inset-0 bg-black bg-opacity-70 z-[9999] flex items-center justify-center"},zT={class:"bg-[#121212] p-6 rounded-lg shadow-xl max-w-5xl w-full h-[80vh] overflow-y-auto relative z-[10000]"},HT={class:"text-2xl font-bold text-white mb-6 text-center tracking-wider"},ng={__name:"RoadmapModalComponent",props:{visible:Boolean,steps:Array},emits:["close"],setup(t){return(e,n)=>t.visible?(O(),U("div",FT,[m("div",zT,[m("button",{onClick:n[0]||(n[0]=s=>e.$emit("close")),class:"absolute top-4 right-4 text-white text-2xl hover:text-amber-400 transition z-[10001]","aria-label":"Close"},"  "),m("h2",HT," "+q(e.$t("roadmap.title")),1),X($T,{steps:t.steps},null,8,["steps"])])])):se("",!0)}},qT={class:"relative w-full max-w-[90vw] sm:max-w-[80vw] lg:max-w-[70vw] xl:max-w-[60vw] mx-auto bg-[#1f1f1f] rounded-lg overflow-hidden shadow-lg flex items-center justify-center"},jT={key:0,class:"absolute top-4 right-20 z-30 flex items-center animate-bounce"},UT={class:"text-amber-400 text-sm font-bold mr-2 whitespace-nowrap bg-gray-800 px-3 py-2 rounded-lg border border-amber-400 shadow-lg"},BT={key:0,class:"relative bg-yellow-200 text-black px-3 py-3 sm:px-4 sm:py-3 rounded shadow font-semibold text-sm sm:text-base lg:text-lg w-full max-w-[85%]"},VT=["onClick"],WT={class:"pr-6 break-words"},GT={key:1,class:"relative w-full max-w-[85%]"},YT=["onClick"],KT=["src","alt"],QT=["src"],Cs={__name:"ScenarioScreenComponent",props:{imageSrc:String},setup(t){const e=Me(),n=ot(),s=oe(!1),{t:r}=_e(),i=oe(!1),o=()=>{s.value=!0,e.level===1&&(i.value=!1)};return It(()=>{n.initializeSteps(),e.level===1&&setTimeout(()=>{i.value=!0,setTimeout(()=>{i.value=!1},8e3)},500)}),(a,l)=>(O(),U("div",qT,[X(tg,{onClick:o}),C(e).level===1&&i.value?(O(),U("div",jT,[m("span",UT,q(a.$t("hints.checkRoadmap")),1),l[1]||(l[1]=m("span",{class:"text-amber-400 text-xl"},"",-1))])):se("",!0),X(ng,{visible:s.value,steps:C(n).roadmapSteps,onClose:l[0]||(l[0]=c=>s.value=!1)},null,8,["visible","steps"]),(O(!0),U(be,null,zt(C(e).overlayNotes,c=>(O(),U("div",{key:c.id,class:"absolute top-8 left-4 right-4 z-50 pointer-events-auto flex justify-center"},[c.type==="text"?(O(),U("div",BT,[m("button",{class:"absolute top-2 right-2 text-black hover:text-red-600 text-lg font-bold leading-none",onClick:u=>C(e).removeOverlay(c.id)},"  ",8,VT),m("div",WT,q(c.text),1)])):c.type==="image"?(O(),U("div",GT,[m("button",{class:"absolute top-2 right-2 text-white bg-black bg-opacity-70 hover:bg-opacity-90 p-1 rounded-full z-10 text-lg font-bold leading-none",onClick:u=>C(e).removeOverlay(c.id)},"  ",8,YT),m("img",{src:c.src,alt:c.alt||"Hint",class:"w-full h-auto max-h-[70vh] object-contain rounded-lg shadow-2xl border-2 sm:border-4 border-amber-400"},null,8,KT)])):se("",!0)]))),128)),m("img",{src:t.imageSrc,alt:"Scenario",class:"max-h-[80vh] w-auto object-contain"},null,8,QT),Ma(a.$slots,"clickable-areas"),Ma(a.$slots,"default")]))}},JT={key:0,class:"fixed inset-0 bg-black/70 z-[9999] flex items-center justify-center"},XT={class:"bg-[#1b1b1b] text-white rounded-lg p-4 w-[90vw] sm:w-[70vw] lg:w-[50vw] max-h-[90vh] overflow-y-auto relative z-[10000]"},ZT={class:"text-lg font-bold mb-4 text-amber-400"},ek=["src"],tk={class:"mb-2"},nk=["onUpdate:modelValue","placeholder"],sk={__name:"RiddleModalComponent",props:{visible:Boolean,title:String,question:String,placeholder:String,placeholder2:{type:Array,default:()=>[]},image:String,correctAnswers:{type:[Array,String],default:()=>[]},successMessage:String,failureMessage:String},emits:["close"],setup(t,{emit:e}){const{t:n}=_e(),s=t,r=e,i=Me(),o=oe([]),a=oe([]),l=oe(""),c=oe(""),u=ot(),d=K(()=>Array.isArray(s.correctAnswers)?s.correctAnswers.map(b=>b.toLowerCase()):typeof s.correctAnswers=="string"?s.correctAnswers.split(",").map(b=>b.trim().toLowerCase()):[]);function h(b){const p=`riddle1.placeholder2_${b+1}`,_=n(p);return _&&_!==p?`${s.placeholder} ${_}`:`${s.placeholder} ${b+1}`}an(d,()=>{a.value=d.value.map(()=>""),o.value=d.value.map(()=>"")},{immediate:!0}),an(a,()=>{o.value=o.value.map(()=>"")},{deep:!0});function f(){const b=a.value.map(_=>_.trim().toLowerCase());b.forEach((_,g)=>{o.value[g]=_===d.value[g]?"success":"error"});const p=d.value.every((_,g)=>b[g]===_);c.value=p?"success":"error",l.value=p?s.successMessage:s.failureMessage,p&&setTimeout(()=>{Ie(vt),l.value="",c.value="",o.value=o.value.map(()=>""),i.markRiddleAsSolved(),u.addEntry("step1","step1_1"),u.addEntry("step1","step1_1_B"),u.addEntry("step1","step1_1_C"),u.addEntry("step1","step1_1_E"),u.addEntry("step1","step1_1_F"),u.addEntry("step1","step1_1_G"),i.markMessageAsRead(),r("close")},2e3)}return(b,p)=>t.visible?(O(),U("div",JT,[m("div",XT,[m("button",{onClick:p[0]||(p[0]=_=>b.$emit("close")),class:"absolute top-2 right-2 text-white hover:text-red-400 z-[10001]"},""),m("h2",ZT,q(t.title),1),t.image?(O(),U("img",{key:0,src:t.image,alt:"Riddle",class:"mb-4 rounded border border-amber-400 max-w-[600px] max-h-[400px] object-contain mx-auto"},null,8,ek)):se("",!0),m("p",tk,q(t.question),1),(O(!0),U(be,null,zt(a.value,(_,g)=>(O(),U("div",{key:g,class:"mb-2"},[ds(m("input",{"onUpdate:modelValue":E=>a.value[g]=E,type:"text",class:qe(["w-full px-3 py-1.5 bg-gray-800 border rounded text-white",{"border-green-500":o.value[g]==="success","border-red-500":o.value[g]==="error"}]),placeholder:h(g)},null,10,nk),[[$s,a.value[g]]])]))),128)),m("button",{class:"mt-3 w-full bg-amber-600 hover:bg-amber-700 py-2 rounded text-sm",onClick:f},q(b.$t("riddle.submit")),1),l.value?(O(),U("div",{key:1,class:qe(["mt-4 p-2 rounded",{"bg-green-900":c.value==="success","bg-red-900":c.value==="error"}])},[m("p",{class:qe(c.value==="success"?"text-green-400":"text-red-400")},q(l.value),3)],2)):se("",!0)])])):se("",!0)}},rk={class:"w-full h-full flex items-center justify-center p-8"},ik={class:"bg-gradient-to-r from-green-600 to-green-700 p-4 text-center"},ok={class:"text-xs text-green-200 mb-1"},ak={class:"flex items-center justify-center gap-2"},lk={class:"text-sm font-medium"},ck={class:"flex items-center gap-4 p-4 bg-gradient-to-b from-gray-800 to-gray-900"},uk={class:"relative flex-shrink-0"},dk=["src","alt"],hk={class:"flex-1"},fk={class:"text-lg font-bold text-white mb-1"},pk={class:"text-sm text-gray-400"},mk={key:0,class:"mt-3 bg-gray-800 p-3 rounded-lg"},gk={class:"text-sm font-semibold"},_k={class:"text-white"},vk={class:"text-blue-400"},yk={class:"text-white"},bk={class:"p-4 bg-black flex-1 flex flex-col min-h-0"},Ck={class:"bg-gray-900 rounded-lg p-4 mb-4 flex-1 overflow-y-auto"},wk={class:"text-sm whitespace-pre-line leading-relaxed text-gray-200"},Ek={class:"flex-shrink-0"},Ei={__name:"PhoneCallComponent",props:{avatar:String,name:String,body:String,titleStart:String,titleMiddle:String,titleEnd:String},emits:["close"],setup(t){const{t:e}=_e();return(n,s)=>(O(),U("div",{class:"w-full z-[10010] flex items-center justify-center",onClick:s[2]||(s[2]=r=>n.$emit("close"))},[m("div",rk,[m("div",{class:"bg-gradient-to-b from-gray-900 to-black text-white rounded-2xl shadow-2xl w-full max-w-3xl h-[70vh] flex flex-col border border-gray-700 overflow-hidden",onClick:s[1]||(s[1]=Ur(()=>{},["stop"]))},[m("div",ik,[m("div",ok,q(C(e)("phone.incomingCall")),1),m("div",ak,[s[3]||(s[3]=m("div",{class:"w-2 h-2 bg-green-300 rounded-full animate-ping"},null,-1)),m("span",lk,q(C(e)("phone.connection")),1)])]),m("div",ck,[m("div",uk,[m("img",{src:t.avatar,class:"w-16 h-16 rounded-full border-2 border-white shadow-lg",alt:t.name},null,8,dk)]),m("div",hk,[m("div",fk,q(t.name),1),m("div",pk,q(C(e)("phone.media")),1),t.titleStart||t.titleMiddle||t.titleEnd?(O(),U("div",mk,[m("h2",gk,[m("span",_k,q(t.titleStart),1),m("span",vk,q(t.titleMiddle),1),m("span",yk,q(t.titleEnd),1)])])):se("",!0)])]),m("div",bk,[m("div",Ck,[m("p",wk,q(t.body),1)]),m("div",Ek,[m("button",{class:"w-full bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl text-sm font-medium transition-colors flex items-center justify-center gap-2 shadow-lg",onClick:s[0]||(s[0]=r=>n.$emit("close"))},q(C(e)("phone.endCall")),1)])])])])]))}},Sk={key:0,class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center animate-fadeIn"},Ik={class:"bg-gradient-to-br from-[#1b1b1b] via-[#2a2a2a] to-[#1b1b1b] text-white rounded-2xl p-6 w-[95vw] sm:w-[85vw] md:w-[70vw] lg:w-[55vw] xl:w-[45vw] max-h-[95vh] sm:max-h-[85vh] overflow-y-auto relative border border-amber-400/30 shadow-2xl animate-slideUp"},xk={class:"text-center mb-6"},Tk={class:"text-3xl font-bold bg-gradient-to-r from-amber-400 via-yellow-500 to-amber-400 bg-clip-text text-transparent mb-2 animate-pulse"},kk={class:"text-amber-300/80 text-base"},Ak={class:"flex justify-center mb-6"},Nk={class:"relative"},Rk={class:"relative w-24 h-24 bg-gradient-to-br from-yellow-400 via-amber-500 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl text-4xl font-bold border-4 border-white transform hover:scale-105 transition-transform duration-300"},Pk={class:"absolute inset-2 bg-gradient-to-br from-yellow-300 to-amber-400 rounded-full flex items-center justify-center"},Lk={class:"text-white drop-shadow-lg"},Ok={class:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 rounded-xl p-4 mb-6 border border-green-500/30"},Mk={class:"flex items-center justify-center mb-2"},Dk={class:"text-xl font-bold text-green-400"},$k={class:"text-center text-green-200/80 text-sm"},Fk={key:0,class:"bg-gradient-to-r from-blue-900/30 to-cyan-900/30 rounded-xl p-4 mb-6 border border-blue-500/30"},zk={class:"text-center"},Hk={class:"text-blue-200 text-sm leading-relaxed"},qk={class:"space-y-4 mb-6"},jk={class:"flex items-start"},Uk={class:"flex-1"},Bk={class:"text-base font-semibold text-amber-300 mb-2 flex items-center"},Vk={class:"space-y-1"},Wk={class:"flex items-center justify-center"},Gk={__name:"CongratsModalComponent",props:{visible:Boolean,level:Number,steps:Array},emits:["continue"],setup(t){const{t:e}=_e(),n=Me(),s=t,r=K(()=>n.levelCompletionData);function i(l){const c=Math.floor(l/60),u=l%60;return c===0?`${u} second${u!==1?"s":""}`:u===0?`${c} minute${c!==1?"s":""}`:`${c} minute${c!==1?"s":""} and ${u} second${u!==1?"s":""}`}function o(){if(!r.value)return"";const{timeInSeconds:l,avgInSeconds:c,isAboveAverage:u,level:d}=r.value,h=d||s.level,f=i(l);let b=e("congrats.timeMessage",{time:f,level:h});if(c){const p=i(c);b+=e("congrats.averageMessage",{avgTime:p}),u?b+=e("congrats.fastMessage"):b+=e("congrats.thoroughMessage")}else b+=e("congrats.noDataMessage");return b}function a(l){return/^[A-Z]\.\s/.test(l)?"ml-6":"ml-0"}return(l,c)=>t.visible?(O(),U("div",Sk,[m("div",Ik,[c[6]||(c[6]=m("div",{class:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl"},[m("div",{class:"absolute top-0 left-1/4 w-2 h-2 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.1s"}}),m("div",{class:"absolute top-10 right-1/4 w-1 h-1 bg-amber-300 rounded-full animate-bounce",style:{"animation-delay":"0.3s"}}),m("div",{class:"absolute top-5 left-3/4 w-1.5 h-1.5 bg-yellow-500 rounded-full animate-bounce",style:{"animation-delay":"0.5s"}})],-1)),m("div",xk,[c[1]||(c[1]=m("div",{class:"text-4xl mb-2 animate-bounce"},"",-1)),m("h2",Tk,q(C(e)("congrats.title")),1),m("div",kk,q(C(e)("congrats.subtitle",{level:t.level})),1)]),m("div",Ak,[m("div",Nk,[c[4]||(c[4]=m("div",{class:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full blur-xl opacity-60 animate-pulse scale-110"},null,-1)),m("div",Rk,[m("div",Pk,[m("span",Lk,q(t.level),1)]),c[2]||(c[2]=m("div",{class:"absolute top-3 left-8 w-4 h-4 bg-white/30 rounded-full blur-sm"},null,-1)),c[3]||(c[3]=m("div",{class:"absolute top-6 right-6 w-2 h-2 bg-white/50 rounded-full"},null,-1))])])]),m("div",Ok,[m("div",Mk,[m("h3",Dk,q(C(e)("congrats.achievement")),1)]),m("p",$k,q(C(e)("congrats.message")),1)]),r.value?(O(),U("div",Fk,[m("div",zk,[m("p",Hk,q(o()),1)])])):se("",!0),m("div",qk,[(O(!0),U(be,null,zt(t.steps,(u,d)=>(O(),U("div",{key:d,class:"bg-gradient-to-r from-[#2a2a2a] to-[#333333] rounded-xl p-4 border border-gray-600/50 shadow-lg hover:shadow-xl transition-shadow duration-300"},[m("div",jk,[m("div",Uk,[m("h4",Bk,q(u.label),1),m("ul",Vk,[(O(!0),U(be,null,zt(u.items,(h,f)=>(O(),U("li",{key:f,class:qe(["text-xs text-gray-300 flex items-start",a(h)])},[c[5]||(c[5]=m("span",{class:"text-green-400 mr-2 mt-0.5 text-xs"},"",-1)),m("span",null,q(h),1)],2))),128))])])])]))),128))]),m("button",{onClick:c[0]||(c[0]=u=>l.$emit("continue")),class:"w-full py-3 bg-gradient-to-r from-green-600 via-green-500 to-green-600 hover:from-green-500 hover:via-green-400 hover:to-green-500 rounded-xl text-white text-lg font-bold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 border border-green-400/30"},[m("span",Wk,q(C(e)("congrats.continue")),1)])])])):se("",!0)}},ws=Oo(Gk,[["__scopeId","data-v-0b3a281d"]]),Yk="/assets/scenario1-CJYb2Ve0.png",Kk="/assets/scenario1.2-Cu8Gu1Sr.png",Qk="/assets/scenario1-BU0DvMwD.png",Jk="/assets/scenario1.2-Csxl9qxF.png",Xk="/assets/scenario1.3-gCus19GI.png",Zk="/assets/scenario1.3-DI5kMR3V.png",eA="/assets/scenario1.4-CqWY9wbc.png",tA="/assets/scenario1.4-DTWQQ_EQ.png",nA="/assets/scenario1.5-DPRnfneW.png",sA="/assets/scenario1.5-BIPgV4K5.png",rA="/assets/riddle1-CiSUX6E-.png",iA="/assets/riddle1-BBOVhvrm.png",lr={__name:"TutorialButtonComponent",emits:["click"],setup(t){return(e,n)=>(O(),U("button",{onClick:n[0]||(n[0]=s=>e.$emit("click")),class:"bg-amber-600 hover:bg-amber-700 text-white p-3 rounded-lg shadow-lg transition-colors font-mono",title:"Tutorial"},[...n[1]||(n[1]=[m("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])]))}},oA={class:"bg-[#1b1b1b] rounded-lg shadow-[0_0_30px_rgba(255,0,0,0.3)] border-2 border-red-500 max-w-md w-[90vw] mx-4 relative animate-shake"},aA={class:"text-center pt-6 pb-4"},lA={class:"text-xl font-bold text-red-400 mb-2 tracking-wide uppercase"},cA={class:"px-6 pb-6"},uA={class:"bg-[#2a1a1a] border border-red-800 p-4 rounded-lg mb-4"},dA={class:"text-gray-200 text-sm leading-relaxed whitespace-pre-line"},hA={key:0,class:"bg-[#1a1a2a] border border-amber-800 p-3 rounded-lg mb-4"},fA={class:"text-amber-200 text-xs"},pA={__name:"ErrorOverlayComponent",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Erreur"},message:{type:String,required:!0},hint:{type:String,default:""}},emits:["close"],setup(t){return(e,n)=>t.visible?(O(),U("div",{key:0,class:"fixed inset-0 bg-black/70 z-[10010] flex items-center justify-center font-mono",onClick:n[1]||(n[1]=Ur(s=>e.$emit("close"),["self"]))},[m("div",oA,[m("button",{onClick:n[0]||(n[0]=s=>e.$emit("close")),class:"absolute top-3 right-3 text-gray-400 hover:text-white text-xl font-bold transition-colors"},"  "),m("div",aA,[n[2]||(n[2]=m("div",{class:"mx-auto w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mb-4"},[m("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),m("h3",lA,q(t.title||"Erreur"),1)]),m("div",cA,[m("div",uA,[m("p",dA,q(t.message),1)]),t.hint?(O(),U("div",hA,[n[3]||(n[3]=m("div",{class:"flex items-center mb-2"},[m("svg",{class:"w-4 h-4 text-amber-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),m("span",{class:"text-amber-400 text-xs font-semibold uppercase tracking-wide"},"Indice")],-1)),m("p",fA,q(t.hint),1)])):se("",!0)])])])):se("",!0)}},Mc=Oo(pA,[["__scopeId","data-v-2035895b"]]),mA={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},gA={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},_A={class:"absolute top-4 right-4 z-40"},vA={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},yA={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},bA={class:"w-full"},CA={__name:"Level1",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const n=ot(),{locale:s,messages:r,t:i}=_e(),o=oe(!1),a=K(()=>{var E,x;return((x=(E=r.value[s.value])==null?void 0:E.riddle1)==null?void 0:x.correctAnswers1)||[]}),l=Me(),{restoreSession:c}=Jn();It(async()=>{const E=n.roadmapSteps.some(x=>x.items.length>0);l.level=1,l.initializePlayerName(),await c(),l.startLevelTimer(1),E||n.initializeSteps()});const u=(E,x)=>l.setFeedback(E,x),{continueToLevel2:d}=Km(u),h=K(()=>s.value==="fr"?iA:rA);function f(){l.activeMessage=null,l.riddleSolved||(l.activeRiddle=!0)}function b(){d()}const p=K(()=>[{label:i("roadmap.step1"),items:[i("roadmap.step1_1"),i("roadmap.step1_1_A"),i("roadmap.step1_1_B"),i("roadmap.step1_1_C"),i("roadmap.step1_1_D"),i("roadmap.step1_1_E"),i("roadmap.step1_1_F"),i("roadmap.step1_1_G"),i("roadmap.step1_2"),i("roadmap.step1_3"),i("roadmap.step1_4"),i("roadmap.step1_5")]}]),_={en:{default:Yk,updated:Kk,third:Zk,final:eA,congrats:nA},fr:{default:Qk,updated:Jk,third:Xk,final:tA,congrats:sA}},g=K(()=>{var I;const E=s.value,x=l.currentScenarioImage||"default";return((I=_[E])==null?void 0:I[x])||_[E].default});return(E,x)=>(O(),U("div",mA,[o.value?(O(),U("div",gA,[X(ys,{visible:o.value,onClose:x[0]||(x[0]=I=>o.value=!1)},null,8,["visible"])])):se("",!0),m("div",_A,[X(lr,{onClick:x[1]||(x[1]=I=>o.value=!0)})]),m("div",vA,[X(pi,{name:"fade"},{default:et(()=>[C(l).activeCall?(O(),Ne(Ei,{key:0,name:C(l).activeCall.name,avatar:C(l).activeCall.avatar,body:C(l).activeCall.body,onClose:x[2]||(x[2]=I=>C(l).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(l).showCongratsModal?(O(),Ne(ws,{key:0,visible:C(l).showCongratsModal,level:1,steps:p.value,onClose:x[3]||(x[3]=I=>C(l).showCongratsModal=!1),onContinue:b},null,8,["visible","steps"])):se("",!0),X(Mc,{visible:C(l).errorOverlayVisible,title:C(l).errorOverlayData.title,message:C(l).errorOverlayData.message,hint:C(l).errorOverlayData.hint,onClose:x[4]||(x[4]=I=>C(l).closeErrorOverlay())},null,8,["visible","title","message","hint"]),m("div",yA,[X(bs,{ref_key:"timerRef",ref:e},null,512),X(ir,null,{default:et(()=>[C(l).activeMessage?(O(),Ne(or,{key:0,from:C(l).activeMessage.from,name:C(l).activeMessage.name,avatar:C(l).activeMessage.avatar,body:C(l).activeMessage.body,onClose:f},null,8,["from","name","avatar","body"])):(O(),Ne(ar,{key:1}))]),_:1})]),C(l).activeRiddle?(O(),Ne(sk,{key:1,visible:!0,title:C(i)("riddle1.title1"),question:C(i)("riddle1.question1"),placeholder:C(i)("riddle1.placeholder1"),image:h.value,correctAnswers:a.value,successMessage:C(i)("riddle1.correct1"),failureMessage:C(i)("riddle1.incorrect1"),onClose:x[5]||(x[5]=I=>C(l).activeRiddle=!1)},null,8,["title","question","placeholder","image","correctAnswers","successMessage","failureMessage"])):se("",!0),m("div",bA,[X(Cs,{imageSrc:g.value},{"clickable-areas":et(()=>[X(rr)]),_:1},8,["imageSrc"])])])]))}},wA="/assets/scenario1-BNLX032U.png",EA="/assets/scenario1.2-DcWBiw1F.png",SA="/assets/scenario1-mYS__g9s.png",IA="/assets/scenario1.2-CmSIngiK.png",xA="/assets/scenario1.3-DHXhjQX2.png",TA="/assets/scenario1.3-BVtkopV3.png",kA="/assets/scenario1.4-CAPiMc5H.png",AA="/assets/scenario1.4-B9BVbPY7.png",NA="/assets/scenario1.5-BOwSkkYp.png",RA="/assets/scenario1.5-DAP9HK9n.png",PA="/assets/scenario1.6-Cx4p0XnC.png",LA="/assets/scenario1.6-BmCeFC2Y.png",OA="/assets/scenario1.7-93iwC4Z1.png",MA="/assets/scenario1.7-D9bW8JE7.png",DA={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},$A={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},FA={class:"absolute top-4 right-4 z-40"},zA={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},HA={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},qA={class:"w-full"},jA={__name:"Level2",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=ot(),i=oe(!1),o=Me(),{restoreSession:a}=Jn();It(async()=>{const p=r.roadmapSteps.some(_=>_.items.length>0);o.level=2,o.initializePlayerName(),await a(),o.startLevelTimer(2),p||r.initializeSteps()});const l=(p,_)=>o.setFeedback(p,_),{continueToLevel3:c}=Qm(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step2"),items:[s("roadmap.step2_1"),s("roadmap.step2_2"),s("roadmap.step2_3")]}]),f={en:{default:wA,second:EA,third:TA,fourth:kA,fifth:NA,final:PA,main:OA},fr:{default:SA,second:IA,third:xA,fourth:AA,fifth:RA,final:LA,main:MA}},b=K(()=>{var g;const p=n.value,_=o.currentScenarioImage||"default";return((g=f[p])==null?void 0:g[_])||f[p].default});return(p,_)=>(O(),U("div",DA,[i.value?(O(),U("div",$A,[X(ys,{visible:i.value,onClose:_[0]||(_[0]=g=>i.value=!1)},null,8,["visible"])])):se("",!0),m("div",FA,[X(lr,{onClick:_[1]||(_[1]=g=>i.value=!0)})]),m("div",zA,[X(pi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Ne(Ei,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,onClose:_[2]||(_[2]=g=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Ne(ws,{key:0,visible:C(o).showCongratsModal,level:2,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),m("div",HA,[X(bs,{ref_key:"timerRef",ref:e},null,512),X(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Ne(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Ne(ar,{key:1}))]),_:1})]),m("div",qA,[X(Cs,{imageSrc:b.value},{"clickable-areas":et(()=>[X(rr)]),_:1},8,["imageSrc"])])])]))}},UA="/assets/scenario1-DHbQztJ-.png",BA="/assets/scenario1.1-Cy3VxNSh.png",VA="/assets/scenario1-CusNeAZW.png",WA="/assets/scenario1.1-BbUnlebg.png",GA="/assets/scenario1.2-B7EcYRTS.png",YA="/assets/scenario1.2-B5ykr2Xd.png",KA="/assets/scenario1.3-CQhW_196.png",QA="/assets/scenario1.3-CoNL3zHT.png",JA="/assets/scenario1.4-DxIBfo5e.png",XA="/assets/scenario1.4-BUKJ3WiR.png",ZA="/assets/scenario1.5-CtUS1jFE.png",eN="/assets/scenario1.5-0Q48-dzq.png",tN="/assets/scenario1.6-CRtMif_C.png",nN="/assets/scenario1.6-BNjhVuqX.png",sN={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},rN={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},iN={class:"absolute top-4 right-4 z-40"},oN={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},aN={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},lN={class:"w-full"},cN={__name:"Level3",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=ot(),i=oe(!1),o=Me(),{restoreSession:a}=Jn();It(async()=>{const p=r.roadmapSteps.some(_=>_.items.length>0);o.level=3,o.initializePlayerName(),await a(),o.startLevelTimer(3),p||r.initializeSteps()});const l=(p,_)=>o.setFeedback(p,_),{continueToLevel4:c}=Jm(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step3"),items:[s("roadmap.step3_1"),s("roadmap.step3_2"),s("roadmap.step3_3")]}]),f={en:{default:UA,second:BA,third:YA,fourth:KA,fifth:JA,sixth:ZA,final:tN},fr:{default:VA,second:WA,third:GA,fourth:QA,fifth:XA,sixth:eN,final:nN}},b=K(()=>{var g;const p=n.value,_=o.currentScenarioImage||"default";return((g=f[p])==null?void 0:g[_])||f[p].default});return(p,_)=>(O(),U("div",sN,[i.value?(O(),U("div",rN,[X(ys,{visible:i.value,onClose:_[0]||(_[0]=g=>i.value=!1)},null,8,["visible"])])):se("",!0),m("div",iN,[X(lr,{onClick:_[1]||(_[1]=g=>i.value=!0)})]),m("div",oN,[X(pi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Ne(Ei,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,onClose:_[2]||(_[2]=g=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Ne(ws,{key:0,visible:C(o).showCongratsModal,level:3,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),X(Mc,{visible:C(o).errorOverlayVisible,title:C(o).errorOverlayData.title,message:C(o).errorOverlayData.message,hint:C(o).errorOverlayData.hint,onClose:_[3]||(_[3]=g=>C(o).closeErrorOverlay())},null,8,["visible","title","message","hint"]),m("div",aN,[X(bs,{ref_key:"timerRef",ref:e},null,512),X(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Ne(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Ne(ar,{key:1}))]),_:1})]),m("div",lN,[X(Cs,{imageSrc:b.value},{"clickable-areas":et(()=>[X(rr)]),_:1},8,["imageSrc"])])])]))}},uN="/assets/scenario1-CvuORGrs.png",dN="/assets/scenario1-CnSR5UFP.png",hN="/assets/scenario1.2-DWx7Nbp5.png",fN="/assets/scenario1.2-BRYPCZHk.png",pN="/assets/scenario1.3-Cv6-Grzs.png",mN="/assets/scenario1.3-CxMOCIVj.png",gN="/assets/scenario1.4-UrXjIelG.png",_N="/assets/scenario1.4-BsOCREA7.png",vN="/assets/scenario1.5-yx5tEakR.png",yN="/assets/scenario1.5-BD0UfGh0.png",bN="/assets/scenario1.6-DbUAyHND.png",CN="/assets/scenario1.6-DbS3o1rM.png",wN="/assets/scenario1.7-Dd57yRHE.png",EN="/assets/scenario1.7-DIjxBhl1.png",SN="/assets/scenario1.8-D5xApyBC.png",IN="/assets/scenario1.8-VU999j75.png",xN={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},TN={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},kN={class:"absolute top-4 right-4 z-40"},AN={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},NN={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},RN={class:"w-full"},PN={__name:"Level4",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=ot(),i=oe(!1),o=Me(),{restoreSession:a}=Jn();It(async()=>{const p=r.roadmapSteps.some(_=>_.items.length>0);o.level=4,o.initializePlayerName(),await a(),o.startLevelTimer(4),p||r.initializeSteps()});const l=(p,_)=>o.setFeedback(p,_),{continueToLevel5:c}=Xm(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step4"),items:[s("roadmap.step4_1"),s("roadmap.step4_2"),s("roadmap.step4_3"),s("roadmap.step4_4")]}]),f={en:{default:uN,second:hN,third:pN,fourth:gN,fifth:vN,sixth:bN,seventh:wN,eighth:SN},fr:{default:dN,second:fN,third:mN,fourth:_N,fifth:yN,sixth:CN,seventh:EN,eighth:IN}},b=K(()=>{var g;const p=n.value,_=o.currentScenarioImage||"default";return((g=f[p])==null?void 0:g[_])||f[p].default});return(p,_)=>(O(),U("div",xN,[i.value?(O(),U("div",TN,[X(ys,{visible:i.value,onClose:_[0]||(_[0]=g=>i.value=!1)},null,8,["visible"])])):se("",!0),m("div",kN,[X(lr,{onClick:_[1]||(_[1]=g=>i.value=!0)})]),m("div",AN,[X(pi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Ne(Ei,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,"title-middle":C(o).activeCall.titleMiddle,onClose:_[2]||(_[2]=g=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body","title-middle"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Ne(ws,{key:0,visible:C(o).showCongratsModal,level:4,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),m("div",NN,[X(bs,{ref_key:"timerRef",ref:e},null,512),X(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Ne(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Ne(ar,{key:1}))]),_:1})]),m("div",RN,[X(Cs,{imageSrc:b.value},{"clickable-areas":et(()=>[X(rr)]),_:1},8,["imageSrc"])])])]))}},LN="/assets/scenario1-i3NYOZYI.png",ON="/assets/scenario1-3qtrZLOe.png",MN="/assets/scenario1.1-DlLbBlj6.png",DN="/assets/scenario1.1-BFfeudfE.png",$N="/assets/scenario1.2-BlDic7WX.png",FN="/assets/scenario1.2-C21kcrvb.png",zN="/assets/scenario1.3--hLbovAr.png",HN="/assets/scenario1.3-DnUn7HKU.png",qN="/assets/scenario1.4-qJ0rZyqm.png",jN="/assets/scenario1.4-CqwPTSnP.png",UN="/assets/scenario1.5-B1c6f9MK.png",BN="/assets/scenario1.5-DegQ60Kh.png",VN="/assets/scenario1.6-D03ygBVC.png",WN="/assets/scenario1.6-4l4lJUFy.png",GN="/assets/scenario1.7-DArcgz_R.png",YN="/assets/scenario1.7-DhG7J634.png",KN="/assets/scenario1.8-P8lJsNQ1.png",QN="/assets/scenario1.8-BvGLyCYQ.png",JN={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},XN={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},ZN={class:"absolute top-4 right-4 z-40"},eR={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},tR={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},nR={class:"w-full"},sR={__name:"Level5",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=ot(),i=oe(!1),o=Me(),{restoreSession:a}=Jn();It(async()=>{const p=r.roadmapSteps.some(_=>_.items.length>0);o.level=5,o.initializePlayerName(),await a(),o.startLevelTimer(5),p||r.initializeSteps()});const l=(p,_)=>o.setFeedback(p,_),{continueToLevel6:c}=Zm(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step5"),items:[s("roadmap.step5_1"),s("roadmap.step5_2"),s("roadmap.step5_3"),s("roadmap.step5_4")]}]),f={en:{default:LN,second:MN,third:$N,fourth:zN,fifth:qN,sixth:UN,seventh:VN,eighth:GN,ninth:KN},fr:{default:ON,second:DN,third:FN,fourth:HN,fifth:jN,sixth:BN,seventh:WN,eighth:YN,ninth:QN}},b=K(()=>{var g;const p=n.value,_=o.currentScenarioImage||"default";return((g=f[p])==null?void 0:g[_])||f[p].default});return(p,_)=>(O(),U("div",JN,[i.value?(O(),U("div",XN,[X(ys,{visible:i.value,onClose:_[0]||(_[0]=g=>i.value=!1)},null,8,["visible"])])):se("",!0),m("div",ZN,[X(lr,{onClick:_[1]||(_[1]=g=>i.value=!0)})]),m("div",eR,[X(pi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Ne(Ei,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,onClose:_[2]||(_[2]=g=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Ne(ws,{key:0,visible:C(o).showCongratsModal,level:5,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),X(Mc,{visible:C(o).errorOverlayVisible,title:C(o).errorOverlayData.title,message:C(o).errorOverlayData.message,hint:C(o).errorOverlayData.hint,onClose:_[3]||(_[3]=g=>C(o).closeErrorOverlay())},null,8,["visible","title","message","hint"]),m("div",tR,[X(bs,{ref_key:"timerRef",ref:e},null,512),X(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Ne(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Ne(ar,{key:1}))]),_:1})]),m("div",nR,[X(Cs,{imageSrc:b.value},{"clickable-areas":et(()=>[X(rr)]),_:1},8,["imageSrc"])])])]))}},rR="/assets/scenario1-C8296lZp.png",iR="/assets/scenario1-DjGETrD5.png",oR="/assets/scenario1.1-Hkc4uxBZ.png",aR="/assets/scenario1.1-Ljm-1_ei.png",lR="/assets/scenario1.2-CeqESj8M.png",cR="/assets/scenario1.2-CPfE42O-.png",uR="/assets/scenario1.3-MxHX2jV3.png",dR="/assets/scenario1.3-DZ221xsk.png",hR="/assets/scenario1.4-OJ3QKbYq.png",fR="/assets/scenario1.4-Ccoqvl9j.png",pR={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},mR={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},gR={class:"absolute top-4 right-4 z-40"},_R={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},vR={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},yR={class:"w-full"},bR={__name:"Level6",setup(t){const{locale:e,t:n}=_e(),s=ot(),r=oe(!1),i=Me(),{restoreSession:o}=Jn(),a=oe(null);Wt("timer",K(()=>a.value)),It(async()=>{const p=s.roadmapSteps.some(_=>_.items.length>0);i.level=6,i.initializePlayerName(),await o(),i.startLevelTimer(6),p||s.initializeSteps()});const l=(p,_)=>i.setFeedback(p,_),{continueToEnd:c}=eg(l);function u(){i.activeMessage=null,i.riddleSolved||(i.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:n("roadmap.step6"),items:[n("roadmap.step6_1"),n("roadmap.step6_2")]}]),f={en:{default:rR,second:oR,third:lR,fourth:uR,fifth:hR},fr:{default:iR,second:aR,third:cR,fourth:dR,fifth:fR}},b=K(()=>{var g;const p=e.value,_=i.currentScenarioImage||"default";return((g=f[p])==null?void 0:g[_])||f[p].default});return(p,_)=>(O(),U("div",pR,[r.value?(O(),U("div",mR,[X(ys,{visible:r.value,onClose:_[0]||(_[0]=g=>r.value=!1)},null,8,["visible"])])):se("",!0),m("div",gR,[X(lr,{onClick:_[1]||(_[1]=g=>r.value=!0)})]),m("div",_R,[C(i).showCongratsModal?(O(),Ne(ws,{key:0,visible:C(i).showCongratsModal,level:6,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),m("div",vR,[X(bs,{ref_key:"timerRef",ref:a},null,512),X(ir,null,{default:et(()=>[C(i).activeMessage?(O(),Ne(or,{key:0,from:C(i).activeMessage.from,name:C(i).activeMessage.name,avatar:C(i).activeMessage.avatar,body:C(i).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Ne(ar,{key:1}))]),_:1})]),m("div",yR,[X(Cs,{imageSrc:b.value},{"clickable-areas":et(()=>[X(rr)]),_:1},8,["imageSrc"])])])]))}},CR={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},wR={class:"flex items-center mb-6"},ER={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},SR={class:"text-gray-500 text-sm leading-relaxed"},IR={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},xR={__name:"TheoryResourcesComponent",setup(t){const{locale:e}=_e(),n=K(()=>e.value==="fr"?"https://hevs.allinone.io/media/document/22/mission-gdr-2024-guide-complementaire.pdf":"https://hevs.allinone.io/media/document/22/mission-rdm-2024-complementary-guide.pdf"),s=()=>{window.open(n.value,"_blank")},r=()=>{const o=e.value==="fr"?"https://doi.org/10.5281/zenodo.6391188":"https://doi.org/10.5281/zenodo.7985732";window.open(o,"_blank")};return(i,o)=>(O(),U("div",CR,[m("div",wR,[o[0]||(o[0]=m("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[m("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),m("h2",ER,q(i.$t("endScreen.theoryTitle")),1)]),m("p",SR,q(i.$t("endScreen.theoryDescription")),1),o[1]||(o[1]=m("div",{class:"h-4"},null,-1)),m("div",IR,[m("button",{onClick:s,class:"bg-amber-500/80 hover:bg-amber-500 text-white font-medium py-3 px-4 rounded-md uppercase tracking-wide transition-colors"},q(i.$t("endScreen.viewPDF")),1),m("button",{onClick:r,class:"bg-gray-700 hover:bg-gray-600 text-gray-200 font-medium py-3 px-4 rounded-md uppercase tracking-wide transition-colors"},q(i.$t("endScreen.openLink")),1)])]))}},TR={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},kR={class:"flex items-center justify-between"},AR={class:"flex items-center"},NR={class:"flex items-center gap-3 mb-1"},RR={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},PR={class:"bg-gray-800 text-gray-400 text-xs px-2 py-1 rounded uppercase"},LR={class:"text-gray-500 text-sm"},OR={__name:"TestGameComponent",setup(t){const e=cn(),n=()=>{e.push("/level/quiz")};return(s,r)=>(O(),U("div",TR,[m("div",kR,[m("div",AR,[r[0]||(r[0]=m("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[m("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M16 10h.01M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"})])],-1)),m("div",null,[m("div",NR,[m("h2",RR,q(s.$t("endScreen.testGameTitle")),1),m("span",PR,q(s.$t("endScreen.optional")),1)]),m("p",LR,q(s.$t("endScreen.testGameDescription")),1)])]),m("button",{onClick:n,class:"bg-amber-500/80 hover:bg-amber-500 text-white font-medium py-2 px-4 rounded-md uppercase tracking-wide transition-colors"}," Start ")])]))}},MR={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},DR={class:"flex items-center mb-6"},$R={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},FR={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zR=["placeholder"],HR=["placeholder"],qR=["placeholder"],jR=["disabled"],UR={key:0,class:"mt-4 p-3 bg-green-800/30 border border-green-600/50 rounded-md text-green-300 text-center"},BR={__name:"ContactFormComponent",setup(t){const e=oe(!1),n=oe(""),s=oe({name:"",email:"",message:""}),r=async()=>{e.value=!0,n.value="";try{const i=encodeURIComponent("Feedback from Mission RDM Game"),o=encodeURIComponent(`Name: ${s.value.name}
Email: ${s.value.email}

Message:
${s.value.message}`),a=`mailto:openscience.bibliosante@hevs.ch?subject=${i}&body=${o}`;window.open(a),n.value="success",setTimeout(()=>{s.value={name:"",email:"",message:""},n.value=""},3e3)}catch(i){console.error("Error:",i),n.value="error"}finally{e.value=!1}};return(i,o)=>(O(),U("div",MR,[m("div",DR,[o[3]||(o[3]=m("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[m("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),m("h3",$R,q(i.$t("endScreen.contactTitle")),1)]),m("form",{onSubmit:Ur(r,["prevent"]),class:"space-y-4"},[m("div",FR,[ds(m("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s.value.name=a),type:"text",required:"",class:"w-full px-4 py-3 bg-[#111111] border border-gray-800 rounded-md text-white placeholder-gray-500 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:i.$t("endScreen.namePlaceholder")},null,8,zR),[[$s,s.value.name]]),ds(m("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s.value.email=a),type:"email",required:"",class:"w-full px-4 py-3 bg-[#111111] border border-gray-800 rounded-md text-white placeholder-gray-500 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:i.$t("endScreen.emailPlaceholder")},null,8,HR),[[$s,s.value.email]])]),ds(m("textarea",{"onUpdate:modelValue":o[2]||(o[2]=a=>s.value.message=a),required:"",rows:"3",class:"w-full px-4 py-3 bg-[#111111] border border-gray-800 rounded-md text-white placeholder-gray-500 focus:outline-none focus:border-amber-500/50 transition-colors resize-none",placeholder:i.$t("endScreen.messagePlaceholder")},null,8,qR),[[$s,s.value.message]]),m("button",{type:"submit",disabled:e.value,class:"w-full bg-amber-500/80 hover:bg-amber-500 disabled:bg-gray-600 text-white font-medium py-3 rounded-md uppercase tracking-wide transition-colors"},q(e.value?i.$t("endScreen.sending"):i.$t("endScreen.sendMessage")),9,jR)],32),n.value==="success"?(O(),U("div",UR,q(i.$t("endScreen.messageSent")),1)):se("",!0)]))}},VR={class:"min-h-screen bg-[#121212] text-gray-200 p-6 font-mono relative overflow-hidden"},WR={class:"max-w-4xl mx-auto relative"},GR={class:"text-center mb-12"},YR={class:"text-3xl font-bold text-amber-400/90 mb-4 uppercase tracking-widest"},KR={class:"text-gray-400 max-w-2xl mx-auto leading-relaxed"},QR={class:"space-y-6"},JR={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},XR={class:"flex items-center justify-between"},ZR={class:"flex items-center"},eP={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},tP={class:"text-gray-500 text-sm"},nP={class:"relative"},sP={class:"text-center mt-12 space-y-8"},rP={class:"border-t border-gray-800 py-6 px-4"},iP={class:"text-gray-500 text-sm leading-relaxed text-center space-y-4"},oP=["innerHTML"],aP={class:"text-gray-500 text-sm"},lP={__name:"LevelEnd",setup(t){const e=cn(),n=ot(),s=oe(!1),{t:r}=_e();It(()=>{n.initializeSteps()});const i=()=>{e.push("/")};return(o,a)=>(O(),U("div",VR,[a[4]||(a[4]=W_('<div class="absolute inset-0 pointer-events-none"><div class="absolute top-20 left-1/4 w-1 h-1 bg-amber-400/30 rounded-full animate-pulse"></div><div class="absolute top-32 right-1/3 w-1.5 h-1.5 bg-amber-300/40 rounded-full animate-pulse" style="animation-delay:1s;"></div><div class="absolute top-16 left-2/3 w-1 h-1 bg-yellow-400/25 rounded-full animate-pulse" style="animation-delay:2s;"></div><div class="absolute top-40 right-1/4 w-0.5 h-0.5 bg-amber-500/20 rounded-full animate-pulse" style="animation-delay:3s;"></div></div>',1)),m("div",WR,[m("div",GR,[a[2]||(a[2]=m("div",{class:"inline-flex items-center justify-center w-12 h-12 bg-amber-500/80 rounded-full mb-6"},[m("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4"})])],-1)),m("h1",YR,q(o.$t("endScreen.congratulations")),1),m("p",KR,q(o.$t("endScreen.congratulationsMessage")),1)]),m("div",QR,[m("div",JR,[m("div",XR,[m("div",ZR,[a[3]||(a[3]=m("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[m("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7"})])],-1)),m("div",null,[m("h2",eP,q(o.$t("endScreen.roadmapTitle")),1),m("p",tP,q(o.$t("endScreen.roadmapDescription")),1)])]),m("div",nP,[X(tg,{onClick:a[0]||(a[0]=l=>s.value=!0),class:"!static !top-auto !right-auto"})])])]),X(OR),X(xR),X(BR)]),X(ng,{visible:s.value,steps:C(n).roadmapSteps,onClose:a[1]||(a[1]=l=>s.value=!1)},null,8,["visible","steps"]),m("div",sP,[m("button",{onClick:i,class:"bg-gray-700 hover:bg-gray-600 text-gray-300 font-medium py-3 px-8 rounded-md uppercase tracking-wide transition-colors"},q(o.$t("endScreen.backToMenu")),1),m("footer",rP,[m("div",iP,[m("p",{class:"text-gray-500 text-sm mt-2 text-center [&_a]:text-yellow-400 [&_a:hover]:text-yellow-300",innerHTML:C(r)("endScreen.EndMsg")},null,8,oP),m("p",aP,q(o.$t("endScreen.EndMsg2")),1)])])])])]))}};function cP(){const t=oe(!0),e=oe(!1);return{showIntroduction:t,gameCompleted:e,returnEndScreen:()=>"returnEndScreen",startChallenge:()=>{t.value=!1},completeGame:()=>{e.value=!0}}}function uP(){const t=oe(0),e=oe(null),n=K(()=>{const i=Math.max(0,900-t.value),o=Math.floor(i/60),a=i%60;return`${o}:${a.toString().padStart(2,"0")}`}),s=()=>{e.value=setInterval(()=>{t.value++},1e3)},r=()=>{e.value&&(clearInterval(e.value),e.value=null)};return No(()=>{r()}),{timeElapsed:t,formattedTime:n,startTimer:s,stopTimer:r}}function dP(t){const e=oe(null),n=oe(null),s=oe(""),r=oe(new Set),i=c=>{e.value=t[c],n.value=null,s.value=""},o=()=>{e.value=null,n.value=null,s.value=""};return{currentQuiz:e,selectedAnswer:n,quizError:s,completedQuizzes:r,openQuiz:i,closeQuiz:o,submitAnswer:()=>{if(n.value===null)return!1;const c=e.value;return n.value===c.correctAnswer?(r.value.add(c.id),o(),{success:!0,color:c.color}):(s.value="emergencyGame.errors.incorrectAnswer",n.value=null,{success:!1})},reviewToken:(c,u)=>{if(u[c]){const d=u[c],h=Object.keys(t).find(f=>t[f].color===d);h&&i(h)}}}}const gh={computer:{position:{top:"11%",left:"0%",width:"14%",height:"24%"},bgClass:"",hoverClass:"hover:bg-blue-400/10 hover:border-blue-300/20",color:"blue"},books:{position:{top:"2%",right:"7%",width:"13%",height:"7%",transform:"rotate(-4deg)"},bgClass:"",hoverClass:"hover:bg-green-400/10 hover:border-green-300/20",color:"green"},cabinet:{position:{bottom:"20%",left:"2%",width:"17%",height:"8%",transform:"rotate(-8deg)"},bgClass:"",hoverClass:"hover:bg-purple-400/10 hover:border-purple-300/20",color:"purple"},lifecycle:{position:{top:"14.5%",left:"30.3%",width:"32%",height:"41%"},bgClass:"",hoverClass:"hover:bg-yellow-400/10 hover:border-yellow-300/20",color:"yellow"},coffee:{position:{bottom:"24%",left:"61%",width:"5%",height:"13%"},bgClass:"",hoverClass:"hover:bg-red-400/10 hover:border-red-300/20",color:"red"},tablet:{position:{bottom:"18%",right:"10%",width:"18%",height:"29%",transform:"rotate(8deg)"},bgClass:"",hoverClass:"hover:bg-orange-400/10 hover:border-orange-300/20",color:"orange"}},_h={computer:{id:"computer",title:"emergencyGame.quizzes.computer.title",question:"emergencyGame.quizzes.computer.question",options:["emergencyGame.quizzes.computer.options.0","emergencyGame.quizzes.computer.options.1","emergencyGame.quizzes.computer.options.2","emergencyGame.quizzes.computer.options.3"],correctAnswer:1,color:"blue"},books:{id:"books",title:"emergencyGame.quizzes.books.title",question:"emergencyGame.quizzes.books.question",options:["emergencyGame.quizzes.books.options.0","emergencyGame.quizzes.books.options.1","emergencyGame.quizzes.books.options.2"],correctAnswer:1,color:"green"},cabinet:{id:"cabinet",title:"emergencyGame.quizzes.cabinet.title",question:"emergencyGame.quizzes.cabinet.question",options:["emergencyGame.quizzes.cabinet.options.0","emergencyGame.quizzes.cabinet.options.1","emergencyGame.quizzes.cabinet.options.2","emergencyGame.quizzes.cabinet.options.3","emergencyGame.quizzes.cabinet.options.4"],correctAnswer:2,color:"purple"},lifecycle:{id:"lifecycle",title:"emergencyGame.quizzes.mouse.title",question:"emergencyGame.quizzes.mouse.question",options:["emergencyGame.quizzes.mouse.options.0","emergencyGame.quizzes.mouse.options.1","emergencyGame.quizzes.mouse.options.2","emergencyGame.quizzes.mouse.options.3"],correctAnswer:0,color:"yellow"},tablet:{id:"tablet",title:"emergencyGame.quizzes.server.title",question:"emergencyGame.quizzes.server.question",options:["emergencyGame.quizzes.server.options.0","emergencyGame.quizzes.server.options.1","emergencyGame.quizzes.server.options.2","emergencyGame.quizzes.server.options.3","emergencyGame.quizzes.server.options.4","emergencyGame.quizzes.server.options.5"],correctAnswer:5,color:"orange"},coffee:{id:"coffee",title:"emergencyGame.quizzes.phone.title",question:"emergencyGame.quizzes.phone.question",options:["emergencyGame.quizzes.phone.options.0","emergencyGame.quizzes.phone.options.1","emergencyGame.quizzes.phone.options.2","emergencyGame.quizzes.phone.options.3","emergencyGame.quizzes.phone.options.4"],correctAnswer:4,color:"red"}};function hP(){const t=cP(),e=uP(),n=dP(_h),s=()=>{t.startChallenge(),e.startTimer()},r=o=>{(gh[o]&&!n.completedQuizzes.value.has(o)||n.completedQuizzes.value.has(o))&&n.openQuiz(o)},i=()=>n.submitAnswer().success?(n.completedQuizzes.value.size===6&&(t.completeGame(),e.stopTimer()),!0):!1;return{showIntroduction:t.showIntroduction,gameCompleted:t.gameCompleted,timeElapsed:e.timeElapsed,currentQuiz:n.currentQuiz,selectedAnswer:n.selectedAnswer,quizError:n.quizError,completedQuizzes:n.completedQuizzes,gameObjects:gh,quizzes:_h,formattedTime:e.formattedTime,startTimer:e.startTimer,returnEndScreen:t.returnEndScreen,startChallenge:s,openQuiz:n.openQuiz,closeQuiz:n.closeQuiz,submitAnswer:i,handleObjectClick:r}}const fP={key:0,class:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4"},pP={class:"bg-[#1a1a1a] rounded-xl border border-gray-700 max-w-4xl w-full h-[85vh] flex flex-col"},mP={class:"text-center p-6 pb-4 border-b border-gray-700/50"},gP={class:"text-4xl mb-3"},_P={class:"text-xl font-bold text-amber-400 uppercase tracking-wide"},vP={key:0,class:"mt-2 text-green-400 text-base"},yP={class:"flex-1 overflow-y-auto p-6"},bP={class:"mb-6"},CP={class:"text-gray-300 leading-relaxed text-base whitespace-pre-line"},wP={key:0,class:"space-y-3 mb-6"},EP=["onClick"],SP={class:"text-gray-300"},IP={key:1,class:"mb-6 p-4 bg-green-900/30 border border-green-600/50 rounded-lg"},xP={class:"text-green-300 font-semibold text-base"},TP={class:"text-gray-300 mb-3 text-base"},kP={key:0,class:"mt-4 p-3 bg-amber-900/30 border border-amber-600/50 rounded-lg"},AP={class:"text-amber-300 text-sm font-bold mb-2"},NP={class:"text-amber-200 text-sm mb-3"},RP={class:"flex gap-2 text-sm flex-wrap justify-center"},PP={key:2,class:"mb-4 p-3 bg-red-900/50 border border-red-600/50 rounded-lg text-red-300 text-center text-base"},LP={class:"p-6 pt-4 border-t border-gray-700/50"},OP={class:"flex gap-4"},MP=["disabled"],DP={__name:"QuizModalComponent",props:{visible:Boolean,quiz:Object,selectedAnswer:Number,quizError:String,isCompleted:Boolean,emoji:String},emits:["close","submit","update:selectedAnswer"],setup(t,{emit:e}){const n=t,s=e,r=K({get:()=>n.selectedAnswer,set:o=>s("update:selectedAnswer",o)}),i=o=>["bg-green-600/40","bg-blue-600/40","bg-yellow-600/40","bg-purple-600/40","bg-red-600/40","bg-orange-600/40"][o]||"bg-gray-600/40";return(o,a)=>t.visible?(O(),U("div",fP,[m("div",pP,[m("div",mP,[m("div",gP,q(t.emoji),1),m("h3",_P,q(o.$t(t.quiz.title)),1),t.isCompleted?(O(),U("div",vP,q(o.$t("emergencyGame.modal.completed")),1)):se("",!0)]),m("div",yP,[m("div",bP,[m("p",CP,q(o.$t(t.quiz.question)),1)]),t.isCompleted?(O(),U("div",IP,[m("p",xP,q(o.$t("emergencyGame.modal.correctAnswer")),1),m("p",TP,q(o.$t(t.quiz.options[t.quiz.correctAnswer])),1),t.quiz.id==="mouse"?(O(),U("div",kP,[m("p",AP,q(o.$t("emergencyGame.quizzes.mouse.sequenceHint.title")),1),m("p",NP,q(o.$t("emergencyGame.quizzes.mouse.sequenceHint.subtitle")),1),m("div",RP,[(O(!0),U(be,null,zt(o.$t("emergencyGame.quizzes.mouse.sequenceHint.steps"),(l,c)=>(O(),U("span",{key:c,class:qe([i(c),"px-3 py-2 rounded"])},q(l),3))),128))])])):se("",!0)])):(O(),U("div",wP,[(O(!0),U(be,null,zt(t.quiz.options,(l,c)=>(O(),U("button",{key:c,onClick:u=>r.value=c,class:qe(["w-full text-left p-4 rounded-lg border transition-all duration-200 text-base",r.value===c?"border-amber-500 bg-amber-500/20":"border-gray-600 hover:border-gray-500 bg-gray-800/50"])},[m("span",SP,q(o.$t(l)),1)],10,EP))),128))])),t.quizError?(O(),U("div",PP,q(o.$t(t.quizError)),1)):se("",!0)]),m("div",LP,[m("div",OP,[m("button",{onClick:a[0]||(a[0]=l=>o.$emit("close")),class:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-200 font-medium py-3 px-6 rounded-lg uppercase tracking-wide transition-colors text-base"},q(o.$t("emergencyGame.modal.close")),1),t.isCompleted?se("",!0):(O(),U("button",{key:0,onClick:a[1]||(a[1]=l=>o.$emit("submit")),disabled:r.value===null,class:"flex-1 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg uppercase tracking-wide transition-colors text-base"},q(o.$t("emergencyGame.modal.submit")),9,MP))])])])])):se("",!0)}},$P={key:0,class:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4"},FP={class:"bg-[#1a1a1a] rounded-xl border border-red-600/50 max-w-6xl w-full max-h-[90vh] flex flex-col"},zP={class:"text-center p-8 pb-6 flex-shrink-0"},HP={class:"text-2xl font-bold text-red-400 mb-4 uppercase tracking-wide"},qP={class:"flex-1 overflow-y-auto px-8"},jP={class:"space-y-4 text-gray-300 leading-relaxed mb-8"},UP={class:"bg-gray-900/30 rounded-lg p-6 mb-6"},BP={class:"text-gray-300 font-medium whitespace-pre-line italic"},VP={class:"p-8 pt-6 flex-shrink-0"},WP={class:"flex gap-4"},GP={__name:"QuizIntroComponent",props:{visible:{type:Boolean,required:!0}},emits:["returnEndScreen","startChallenge"],setup(t){const{t:e}=_e();return(n,s)=>t.visible?(O(),U("div",$P,[m("div",FP,[m("div",zP,[s[2]||(s[2]=m("div",{class:"text-4xl mb-4"},"",-1)),m("h1",HP,q(n.$t("emergencyGame.title")),1)]),m("div",qP,[m("div",jP,[m("div",UP,[m("p",BP,q(n.$t("emergencyGame.introduction.message")),1)]),m("p",null,q(n.$t("emergencyGame.introduction.context")),1),m("p",null,q(n.$t("emergencyGame.introduction.urgency")),1),m("p",null,q(n.$t("emergencyGame.introduction.security")),1)])]),m("div",VP,[m("div",WP,[m("button",{onClick:s[0]||(s[0]=r=>n.$emit("returnEndScreen")),class:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-200 font-bold py-3 px-6 rounded-lg uppercase tracking-wide transition-colors"},q(n.$t("emergencyGame.introduction.return")),1),m("button",{onClick:s[1]||(s[1]=r=>n.$emit("startChallenge")),class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg uppercase tracking-wide transition-colors"},q(n.$t("emergencyGame.introduction.handleMyself")),1)])])])])):se("",!0)}},YP="/assets/mainscenario-CwkREGYz.png",KP={class:"p-6"},QP={class:"text-center mb-8"},JP={class:"text-2xl font-bold text-amber-400 mb-2 uppercase tracking-wide"},XP=["innerHTML"],ZP={class:"relative max-w-6xl mx-auto"},eL=["onClick"],tL={key:0,class:"absolute top-2 right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center border-2 border-white shadow-lg"},nL={__name:"QuizGameAreaComponent",props:{gameObjects:{type:Object,required:!0},completedQuizzes:{type:Set,required:!0}},emits:["objectClick"],setup(t){const{t:e}=_e(),n=YP;return(s,r)=>(O(),U("div",KP,[m("div",QP,[m("h2",JP,q(s.$t("emergencyGame.subtitle")),1),m("p",{class:"text-gray-400 [&_a]:text-yellow-400 [&_a:hover]:text-yellow-300",innerHTML:C(e)("emergencyGame.description")},null,8,XP)]),m("div",ZP,[X(Cs,{imageSrc:C(n),class:"w-full"},{"clickable-areas":et(()=>[(O(!0),U(be,null,zt(t.gameObjects,(i,o)=>(O(),U("div",{key:o,onClick:a=>s.$emit("objectClick",o),class:qe(["absolute cursor-pointer transition-all duration-300 rounded-lg z-40",i.bgClass||"",t.completedQuizzes.has(o)?"border-green-400 bg-green-500/50 shadow-lg shadow-green-500/50":`${i.hoverClass} border-transparent`]),style:Eo(i.position)},[t.completedQuizzes.has(o)?(O(),U("div",tL,[...r[0]||(r[0]=[m("span",{class:"text-sm text-white font-bold"},"",-1)])])):se("",!0)],14,eL))),128))]),_:1},8,["imageSrc"])])]))}},sL={class:"min-h-screen bg-[#121212] text-gray-200 font-mono relative overflow-hidden"},rL={class:"absolute top-4 right-4 z-50"},iL={__name:"LevelQuiz",emits:["complete"],setup(t){const{t:e}=_e(),{showIntroduction:n,gameCompleted:s,timeElapsed:r,currentQuiz:i,selectedAnswer:o,quizError:a,completedQuizzes:l,gameObjects:c,startChallenge:u,closeQuiz:d,submitAnswer:h,handleObjectClick:f}=hP(),b=oe(null),p=K(()=>[{label:e("emergencyGame.success.title"),items:[e("emergencyGame.success.message",{minutes:Math.floor((900-r.value)/60)})]}]),_=()=>{Hi.push("/level/end")},g=()=>{Hi.push("/level/end")},E=()=>{Hi.push("/level/end")};return(x,I)=>{var P;return O(),U("div",sL,[m("div",{class:"absolute top-4 left-4 z-50"},[m("button",{onClick:E,class:"bg-gray-700/80 hover:bg-gray-600 border border-gray-600 text-gray-200 font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center"},"  ")]),m("div",rL,[X(bs,{ref_key:"timerRef",ref:b,class:"bg-red-900/80 border border-red-600 rounded-lg"},null,512)]),X(GP,{visible:C(n),onReturnEndScreen:_,onStartChallenge:C(u)},null,8,["visible","onStartChallenge"]),!C(n)&&!C(s)?(O(),Ne(nL,{key:0,gameObjects:C(c),completedQuizzes:C(l),onObjectClick:C(f)},null,8,["gameObjects","completedQuizzes","onObjectClick"])):se("",!0),X(DP,{visible:!!C(i),quiz:C(i),selectedAnswer:C(o),"onUpdate:selectedAnswer":I[0]||(I[0]=z=>He(o)?o.value=z:null),quizError:C(a),isCompleted:C(i)?C(l).has(C(i).id):!1,emoji:C(i)?(P=C(c)[C(i).id])==null?void 0:P.emoji:"",onClose:C(d),onSubmit:C(h)},null,8,["visible","quiz","selectedAnswer","quizError","isCompleted","emoji","onClose","onSubmit"]),X(ws,{visible:C(s),level:7,steps:p.value,onContinue:g},null,8,["visible","steps"])])}}},oL=[{path:"/",name:"StartScreen",component:WI},{path:"/introduction",name:"Introduction",component:nC},{path:"/level/1",name:"Level1",component:CA},{path:"/level/2",name:"Level2",component:jA},{path:"/level/3",name:"Level3",component:cN},{path:"/level/4",name:"Level4",component:PN},{path:"/level/5",name:"Level5",component:sR},{path:"/level/6",name:"Level6",component:bR},{path:"/level/end",name:"LevelEnd",component:lP},{path:"/level/quiz",name:"LevelQuiz",component:iL}],Hi=Ky({history:Sy(),routes:oL}),aL={title:"WELCOME TO YOUR MISSION RDM",subtitle:"A serious game to learn about RDM (Research Data Management). Good luck!",enterName:"Enter your name:",namePlaceholder:"Your name",startGame:"Start Game",tutorial:"Tutorial",nameError:"Your name can only contain letters and numbers."},lL={text:`You are part of a junior research team in a Swiss tourism institute and are planning a research project about the hotel industry in Switzerland. 

Your experienced colleague and her team have already conducted their own study on the subject. Unlike her, you are not well informed about the requirements for optimal data management, as you were unable to attend your library's research data management training course. 

Your colleague Anne will be leaving for a trip to the Amazon this afternoon. Just before she leaves, she quickly drafts a roadmap with the major steps needed to complete your project and ensure proper management of your research data. As her plane is about to take off, she doesn't have time to finalize it and suggests that you go to her office, where you should find all the information you need to complete the list she has started, provided you go through her things and those of her team. 

Luckily, you can also count on Santiago, the information specialist of the institute's library, Ins, an IT specialist and Jack, the institute's legal expert, who will help you during your mission. 

But beware, there is only an hour left before the building closes for the end-of-year holidays! You will have to get out before then if you don't want to stay locked in...`,continue:"Continue"},cL={title:"Congratulations!",subtitle:"Level {level} Completed!",achievement:"You've unlocked a badge!",message:"You've successfully completed all objectives for this level!",continue:"Continue",timeMessage:"You took {time} for level {level}.",averageMessage:" The average for this level is {avgTime}.",fastMessage:" Excellent! You solved it with great focus!",thoroughMessage:" Well done! Taking your time to solve puzzles thoroughly is great!",noDataMessage:" Fantastic work completing the level!"},uL={penaltyWarning:"Time Penalty Warning",hintPenaltyWarning:"Using a hint will add 30 seconds to your timer. Are you sure you want to continue?",solutionPenaltyWarning:"Viewing the solution will add 60 seconds to your timer. Are you sure you want to continue?",acceptPenalty:"Accept Penalty",cancel:"Cancel"},dL={help:"HELP",close:"Close",solution:"SOLUTION",placeholder:"Code",delete:"",enter:"Enter",callUnavailable:"I can't talk right now. Try calling me later.",call1:`Hey {playerName}! You need some help with the naming conventions? Here are some naming conventions that might help you:

 Choose a short and meaningful file name: max 32 characters, start with the most important element and use pre-defined acronyms to limit the number of characters.

 The file name must contain the subject, date, and version. Avoid special characters, punctuation, and accents.

 Avoid spaces between words; use underscores and capital letters. Use standard date formats like YYYYMMDD or YYYY-MM-DD.

 Include a pre-defined version control indicator like V05 or _final for the final version. 

Good luck and call me again if you need help!`,call2:`Hey {playerName}! Let me walk you through this over the phone. To clean data you should eliminate unnecessary fields and facilitate data analysis by ensuring standardization.

For this several software can be used. It depends on the type of data, the quantity, the resources available and the team's experience. Some example for some free tools are: OpenRefine or R

How to clean up data?

 Identify essential data (e.g., delete unnecessary fields that were automatically added by the data collection software)
 Identify and eliminate duplicated data
 Resolve empty values
 Ensure data uniformity (data of the same type should have the same form)

Important: always keep a raw version of your file, and keep track of all cleaning steps to ensure transparency and reproducibility! 

Add the correct file to the analysis software. 

Good luck and call me back if you need help!`,call3:`Hi {playerName}! I can help you with some information about format types. An open format is a file that can be read by multiple software. Using open formats serves two main objectives: 

 Ensuring access to your documents regardless of the software used by other people 
 Ensuring the longevity of your documents so that they remain accessible even if the software used to create them is not available or no longer exists

I will send you an email with additional information about different format types and file formats extensions. This will help you. See you!`,call4:`Hello {playerName},

During a research project, a great quantity of data is created, and it is not possible to archive/preserve all of it for several reasons: 

 Cost related to archiving 
 The greater the volume of archived data, the more complicated it is to discover 
 Cost of creating and maintaining metadata 

Therefore, there is a need to 4.2 Identify data value and determine data preservation 

You may be wondering how to evaluate and select which data should be archived? It depends on many criteria. I will send you the file explaining all details. 

Good luck and call me back if you need help!`,call5:`Hey {playerName}, 

I am calling to give you some more information. 

It is essential to 4.3 add appropriate metadata to the stored data to ensure its findability. Metadata is usually described as "data about data". 

There are several types of metadata: 
 Descriptive metadata: title, subject, data creators... 
 Administrative metadata: file formats, versions, re-use options... 
 Structural metadata: relationships with other entities, list of variables...

I will send you an example which is the metadata of your colleagues' project in XML format. Call me back as soon as you got it`,call6:`Thanks for calling back {playerName}, 

Unlike data documentation - which is intended to be interpretable by humans only - metadata must be machine-readable to make it discoverable online. Metadata is therefore often converted in XML. 

There are tools that can help teams to write their metadata in XML, such as the Datacite Metadata Generator. 

Metadata is standardized information. There are many patterns, both disciplinary and generic. 

Alright, hope that cleared things up! Ive gotta dash, christmas shopping wont do itself. 

Oh, and before I forget, add up all the numbers ONLY of the years indication to continue, catch you later!`,call7:`Hello {playerName}, 

Yeah, I remember they indeed hesitated about several repositories

Let me think

 I remember, in the end, the research team chose a repository that is free and whose servers are all located in Switzerland. Open the comparison of the three repositories to find the correct answer. 

Add 70 to the number (#) of the chosen repository. 

Good luck!`,call8:`Jack speaking. 

Ah, yes {playerName}, the Creative Commons and copyright discussion. I remember

So first, let me help with some words. Creative Commons licenses are distribution licenses that allow certain rights of use to be granted in advance on published materials. They are complementary to the author's copyright. 

Ill send over a little overview with the licensing options. Its got icons, legal phrasing, and all that good stuff. 

Youll know which one fits when you see it.

Good luck!`,call9:`Hey {playerName}, I heard you need some help with identifiers, right? Let me help you

There are two main types of identifiers: 
 Object identifiers for publications and data
 Contributor identifiers for authors and organizations 

Here are some examples of identifiers:
  Handle 20.1000/100
  DOI doi:10.1000/182
  ORCID 0000-0002-1825-0097
  ArXiv author ID arXiv:0706.0001

For example, Handle and DOI are digital objects identifiers, while ORCID and ArXiv author ID are contributor identifiers.

Good luck!`,hoverCall:"Call",codeAlreadyFound:"Already found!",codeFound:"Correct code!",invalidCode:"Wrong code!",messageBodylvl1:`Hello {playerName}, 

The DMP or Data Management Plan is a document drafted in the preliminary phase of a research project and completed as the project progresses. 

It helps organize and anticipate all the stages of the data lifecycle. It explains how the project's data is managed, from creation to sharing and archiving. 

The different steps you will discover in the course of your investigations will help you understand how to properly complete each section of the DMP. 

Good luck!`,messageBodylvl2:`Hey {playerName}, 

One of our colleagues recorded several versions of the data collected through the questionnaire during the cleaning process. I will send them to you right now. Can you please analyze them? Out of the three, which one is the cleanest ? Which option are we able to add to the analysis software? 

Wait let me call you it will be easier to explain.`,messageBodylvl3:`Hello {playerName}, 

In short, when research teams get ready to archive their data, they should make sure to choose formats that are: 

 open 
 non-encrypted 
 uncompressed 
 used and recognized in their field 
 interoperable 

I hope this helped you! See you soon!`,messageBodylvl4:`Hi {playerName}, 

I just boarded my plane! Can't wait to get there *.* But I forgot to warn you: for information on data sharing, check Rachel's computer, it should be in her office (number 47). Have a great holiday! P.S: Don't forget to go home before the building closes ;)`,incomingCall:"Incoming Call",outgoingCallRequired:"Call Required",answerCall:"Tap to answer the call",makeCall:"Tap to make the call",placeholderIncoming:"Answer call",placeholderOutgoing:"Make call",answerFirst:"Answer Call First",callFirst:"Make Call First",mustCallFirst:"You must handle the pending call first!",endCall:"End Call",media:"Mobile",connection:"Connected"},hL={title:"Roadmap",entries:"No entries yet...",complete:"Completed",step1:"Step 1: Project design and planning",step1_1:"1.1 Writing the DMP",step1_1_A:"A. Administrative information",step1_1_B:"B. Data collection",step1_1_C:"C. Documentation and metadata",step1_1_D:"D. Ethics and legal compliance",step1_1_E:"E. Storage and backup strategies",step1_1_F:"F. Selection and conservation",step1_1_G:"G. Data sharing",step1_1_H:"H. Responsibilities and resources",step1_2:"1.2 File structure and naming conventions",step1_3:"1.3 Reflect on the data produced or reused ",step1_4:"1.4 Consider legal and ethical aspects",step1_5:"1.5 Analyze sotrage cost",step2:"Step 2: Data collection/creation",step2_1:"2.1 Backup and storage strategies",step2_2:"2.2 Collect/obtain data",step2_3:"2.3 Document your project",step3:"Step 3: Data processing and analysis",step3_1:"3.1 Data Cleaning",step3_2:"3.2 Data analysis",step3_3:"3.3 Data visualization",step4:"Step 4: Data preservation and archiving",step4_1:"4.1 Use an open file format",step4_2:"4.2 Identify data value and determine data preservation",step4_3:"4.3 add appropriate metadata",step4_4:"4.4 Anonymize data (if necessary)",step5:"Step 5: Data sharing",step5_1:"5.1 select a data repository",step5_2:"5.2 Determine access conditions",step5_3:"5.3 Choose a persistent identifier",step5_4:"5.4 Assign a copyright reuse license",step6:"Step 6: Data reuse",step6_1:"6.1 Evaluate data access and reuse",step6_2:"6.2 Prepare dataset citation"},fL={title:"Tutorial",subtitle:"In this game, you will discover the basics of research data management (RDM) through a series of challenges. Your mission: complete your roadmap to obtain a simple step-by-step guide on research data management.",instructions:"Carefully observe your environment, spot the numbers, clickable elements and clues that will allow you to progress in the game in order to identify the data management tasks that will complete your roadmap.",step1:"Your phone will allow you to enter the numbers found and ask for help.",step2:"A team of three specialists will accompany you on your quest: Santiago, the institute's library information specialist, Ins, an IT specialist, and Jack, the institute's legal expert.",step3:"By clicking on the roadmap, you will see the data lifecycle steps already completed.",step4:"You are now ready to take on the challenge of Mission RDM! Let's play!",backToStart:"Back"},pL={submit:"Submit"},mL={title1:"1.1 Writing the DMP",question1:`Try solving this riddle to find the first steps of the roadmap. Use what you see here to find the answer. 

Enter in each input field one of the steps of the DMP that you can see in the image. You do not need to use 1.1., B., C., E., F. and G. in your answers.

Good luck!`,placeholder1:"Enter your answer ",placeholder2_1:"1.1.",placeholder2_2:"B.",placeholder2_3:"C.",placeholder2_4:"E.",placeholder2_5:"F.",placeholder2_6:"G.",correctAnswers1:["Writing the DMP","Data collection","Documentation and metadata","Storage and backup strategies","Selection and conservation","Data sharing"],correct1:"Correct, well done!",incorrect1:"Incorrect, try again! You do not need to use 1.1., B., C., E., F. and G. in your answers."},gL={title:"Error",incorrect77:"Incorrect, this file does not use the best naming practices. It is not recommanded to use punctuation in file names. Try again!",incorrect82:"Incorrect, this file does not use the best naming practices. There is a better way to indicate the versions of a file. Try again!",incorrect25:"Incorrect, this file does not use the best naming practices. You should avoid using special characters and spaces between words. Try again!"},_L={title:"Error",incorrect76:"Incorrect, this file does not correspond to the best version of cleaned data. The data is completely mixed up, some cells are empty without explanation and there are some duplicated data.",incorrect78:"Incorrect, this file does not correspond to the best version of cleaned data. The data is not standardized, some cells are empty without explanation and there are some duplicated data."},vL={title:"Error",incorrect:"Wrong answer, try again!"},yL={title:"Error",incorrect93:"Wrong answer! In this case, the scientific article and the data itself must both be accessible. The research team wished to follow the good practices of Open Access. Try again!",incorrect94:"Wrong answer! In this case, the research team did not make the data available only on request because it does not follow the good practices of Open Access. Try again!",incorrect95:"Wrong answer! In this case, the data is not protected by an embargo. Embargoes are typically used when a publication comes out before the underlying data is shared. This can be the case when the data is linked to commercial uses, such as a patent for example. Try again!"},bL={title:"Error",incorrect:"Wrong answer, try again!"},CL={checkRoadmap:"Check your roadmap"},wL={hints:{first:"Need a little break? A coffee could help.",second:"Count the post-it notes on the desk.",third:"Take a look at the date the DMP is due.",fourth:"It's a coded message! The hint is written directly where you enter the solution. Use the title as decoding key. Enter again the code 29 and try to decipher it.",fifth:"Have you checked the file explorer? maybe try to open it.",sixth:"One of the folder seems particularly interesting.",seventh:"Which file best respects the naming rules? Call Santiago to get some help.",eigth:"Youve organized your project structure... now just make sure the right access is granted to continue."},solutions:{first:"Enter number 8 (in the coffee cup).",second:"There are 4 large post-it notes on the desk -> Enter number 4.",third:"Enter number 29 (in notebook).",fourth:`Enter number 29 again and solve it with this solution:
Writing the DMP 
data collection
documentation and metadata
storage and backup strategies
selection and conservation 
data sharing`,fifth:"Click on the file explorer icon on the screen to open it.",sixth:'Click on the folder "Folder_Click_Old-Versions" to open it.',seventh:"OFS_Continental_20200628_V01.png -> Enter number 28.",eigth:'Click on the folder "Access_Granted" to get to the next level.'}},EL={hints:{first:"Keys can help you open doors.",second:"A little bit of math will certainly be necessary.",third:"Take a look at the names of the sheets, what could this file contain... ... + this one?",fourth:"Sometimes examples are the best way to understand.",fifth:"The reception desk is a good place to start.",sixth:"A little bit of math will certainly be necessary.",seventh:"Isn't there something behind the plant?",eighth:"You'll have to walk a bit."},solutions:{first:"Enter number 9 (in the key box).",second:"Enter number 15 (Backup number: 7.5 x 2).",third:"Enter number 31 (Addition both sheet names -> 15 + 16).",fourth:"Enter number 1 (examp1e.odt).",fifth:"Enter number 36 (R36CEPTION on the reception desk).",sixth:"Enter number 7 (3 + 2 + 1 + 1 + 0 = 7).",seventh:"Click on the post-it note behind the plant to read it.",eighth:"Enter number 11 (11th floor)."}},SL={hints:{first:"You may find the books interesting.",second:"The chapter from the book looks interesting.",third:"Have you anything planned for the month?",fourth:"Sometimes we have to be a little patient with the technology.",fifth:"Have you opened all the files that Ins sent you?",sixth:"It looks like you have to + a file to start the analysis",seventh:"Which brand of computer do you prefer?",eighth:"The infographic shows the number of hotels listed.",ninth:"Did you notice the corkboard behind your colleague's desk?",tenth:"Get in touch with the IT department."},solutions:{first:"Enter number 17 (the title of the book im roman numbers).",second:"Enter number 33 (the chapter number in the book).",third:"Click on the 19th of the month in the calendar to continue.",fourth:"Be patient, sometimes technology takes a little longer to load. It will automatically load in a few seconds.",fifth:"Enter numbers 57, 58 and 59 (the three files Ins sent you).",sixth:"Enter number 77 (the correct file (58) + the number of the pc (19)).",seventh:'Enter number 22 ("brand of computer" on the desk).',eighth:"Enter number 64 (the number is written in bold on the infographic).",ninth:"Click on the post-it note on the corkboard to read it.",tenth:"Enter number 99 (the phone number of the IT department on the post-it)."}},IL={hints:{first:"The screens might be useful.",second:"Call Ins to get some help.",third:"Ins sent you some files, have you checked them?",fourth:"Ins sent you some files, have you checked them?",fifth:'Find all the numbers in the "acceptable formats" column and add them up.',sixth:"A logo can sometimes contain useful information.",seventh:"Call Santiago to get some help.",eighth:"Santiago sent you an email, have you checked it?",ninth:"Some letters are highlighted, what could they mean?",tenth:"Santiago sent you an email, have you checked it?",eleventh:"Call back Santiago to get some information.",twelfth:"Santiago gave you a hint during the call, have you checked it? (hint: 2020 = 2 + 0 + 2 + 0 = 4)",thirteenth:"Anne sent you in the message the number of the office where you can find Rachel's computer. To read the message again, enter the number 99."},solutions:{first:"Click on the folder explorer icon on the screen to open it.",second:"Click on the icon to call Ins and get some help.",third:"Enter number 4 (FORM4T).",fourth:"Enter number 51 (EXTEN51ONS).",fifth:"Enter number 23 (5 + 4 + 2 + 3 + 3 + 3 + 3 = 23).",sixth:"Enter number 81 (side of the desk).",seventh:"Click on the icon to call Santiago and get some help.",eighth:"Enter number 1 (ONE NEW MESSAGE).",ninth:"Enter number 61 (read the highlighted letters to find the number sixty-one).",tenth:"Click on the message icon to read the email from Santiago.",eleventh:"Click on the icon to call Santiago and get some information.",twelfth:"Enter number 17 (added all numbers of the years).",thirteenth:"Enter number 47 (the office number where you can find Rachel's computer)."}},xL={hints:{first:"Not all numbers hide in files some live in names.",second:"History is engraved on the screen.",third:"Call Santiago to get some help.",fourth:"Santiago said how the research team chose the repository, have you checked it?",fifth:"Jack sent you an email, have you checked it?",sixth:"Jack said how the research team chose the access conditions, have you checked it?",seventh:"Call Jack to get some help.",eighth:"Jack sent you an email, have you read the attached pdf file?",ninth:"Which of the copyright reuse licenses is the best fit for the needs of the research team?",tenth:"Call Ins to get some help.",eleventh:"Which identifier matches that of a dataset? Ins explained it to you during the call. Call her back if you need more information.",twelfth:"Is it Rachel that wrote on the tablet? It looks interesting..."},solutions:{first:"Enter number 3 (re3data.org on the screen).",second:"Enter number 19 (CHICAGO COVID-19 RESPONSE on the screen).",third:"Call Santiago to get some help.",fourth:"Enter number 71 (only repository with servers in Switzerland and free of charge).",fifth:"Click on Jack's message to read the email.",sixth:"Enter number 96 (data is freely available and can be accessed by anyone).",seventh:"Call Jack to get some help.",eighth:"Enter number 8 (CopyEIGHT.pdf instead of copyright).",ninth:"Enter number 6 (this one makes data reuse possible on the condition that they get credited for their work).",tenth:"Call Ins to get some help.",eleventh:"Enter number 84 (DOI is correct).",twelfth:"Click on the tablet to continue to the next level."}},TL={hints:{first:"To memorize things, sometimes it is useful to write them down.",second:"Sometimes you have to read between the lines.",third:"I have a feeling there's additional information hiding somewhere...",fourth:"Add the views and downloads for all versions"},solutions:{first:"Enter number 2 (2 pens in total on the table).",second:"Enter number 1 (First, bold letters of: O-nly N-erds E-xamine = ONE).",third:'Click on the screen on "See more details" to see the additional information.',fourth:"Enter number 1323 (1169 + 154 = 1323)."}},kL={one:"Click to open the folder explorer",two:"Click to open the folder",three:"Looks like youve got the right access...",four:"Is this a post-it note?",five:"Click to zoom and view the post-it note",six:"This could be an interesting date",seven:"Click to open the message",eight:"Click to zoom and view the note",nine:"Click to open"},AL={congratulations:"Congratulations!!",congratulationsMessage:"Congratulations! You have successfully completed your mission and your roadmap. It will be your guide throughout your own project. You've done a great job, and you can finally get into vacation mode yourself! You will be back in shape in January, ready to tackle your research project and ensure good management of your data.",roadmapTitle:"Your Research Roadmap",roadmapDescription:"This roadmap will guide you through your upcoming research project:",contactTitle:"Contact & Feedback",nameLabel:"Your Name",namePlaceholder:"Enter your full name",emailLabel:"Email Address",emailPlaceholder:"Enter your email address",messageLabel:"Message",messagePlaceholder:"Share your feedback, questions, or suggestions...",sendMessage:"Send Message",sending:"Sending...",messageSent:"Message is processed...",messageError:"Sorry, there was an error sending your message. Please try again.",theoryTitle:"Supplementary theoretical guide",theoryDescription:"Download our complementary guide, which covers all the theory presented in this game, or access the sources and documents for the original version.",viewPDF:"See the complementary guide",openLink:"See the original game",optional:"RECOMMENDED",testGameTitle:"Knowledge Challenge",testGameDescription:"Test your understanding with 6 questions about what you've learned.",challenge:"Challenge",quickTest:"15 min",startTest:"Start Challenge",testGameNote:"This is completely optional but highly recommended to reinforce your learning!",backToMenu:"Back to Main Menu",EndMsg:"This game is based on<a href='https://doi.org/10.5281/zenodo.7985732' target='_blank' rel='noopener'> the eponymous educational escape game</a> created by <a href='https://orcid.org/0000-0001-8197-4613' target='_blank' rel='noopener'>Myriam Jouhar</a>, <a href='https://orcid.org/0000-0002-4833-5219' target='_blank' rel='noopener'>Alexia Cavin-Trombert</a> and <a href='https://orcid.org/0000-0003-2250-9070' target='_blank' rel='noopener'>Pauline Melly</a> as part of a research project for the Master's in Information Sciences at the Geneva School of Business Administration in 2021. English translation: <a href='https://orcid.org/0000-0002-4833-5219' target='_blank' rel='noopener'>Alexia Cavin-Trombert</a>, <a href='https://orcid.org/0000-0003-2250-9070' target='_blank' rel='noopener'>Pauline Melly</a>, <a href='https://orcid.org/0009-0008-6035-7673' target='_blank' rel='noopener'>Marie-Catherine Beaulieu</a> and <a href='https://orcid.org/0000-0003-2571-8812' target='_blank' rel='noopener'>Jolanda Elmers</a>. German translation: <a href='https://www.uni-augsburg.de/de/organisation/bibliothek/' target='_blank' rel='noopener'>Universittsbibliothek Augsburg</a>, Lara Kostov, Michaela Beisser, Janine Isola and <a href='https://orcid.org/0000-0002-4946-6544' target='_blank' rel='noopener'>Evamaria Krause</a>. This digital version was created by Johanna Summermatter as part of a Bachelor's thesis in Business Information Technology in 2025 at HES-SO Valais-Wallis on behalf of the game's creators.",EndMsg2:"Thank you for playing!"},NL={title:"URGENT: EMAIL dated 23.12 at 17:45 from the Swiss National Science Foundation",subtitle:"RDM SKILLS TEST",description:"Click on the objects to test your skills. If you need help, use the <a href='https://hevs.allinone.io/media/document/22/mission-rdm-2024-complementary-guide.pdf' target='_blank' rel='noopener'>complementary guide</a>.",introduction:{message:`Reminder: Don't forget to send in your preliminary project submission before January 1st.

To obtain a deadline extension, please send us proof of your research data management skills.`,context:"You hear the security guard's keys jingling down the hallway. The building locks at 18:00 sharp. You really need to leave before then, and with all the holiday meals planned for next week, it won't be possible to submit your preliminary project on time.",urgency:"Fortunately, you have now completed your checklist and received guidance from Santiago, Ins, and Jack.",security:"Take the test to demonstrate your new data management skills and obtain the extension.",return:"Do not perform the test now (return to end page)",handleMyself:"Perform the test"},timer:{timeRemaining:"Time Remaining"},quizzes:{computer:{title:"Data Backup Crisis",question:`You worked on your data analysis last week on the train. Your file is stored in your personal laptop. To be safe, you also made a backup on your USB stick. 

Sadly, when you left the train, you forgot your backpack (with your laptop and USB stick) on the train. After a week, it still hasn't been found and this means that you will have to start the data collection phase of your project again. 

According to the 3 2 1 1 0 rule, what should you have done to minimize the risk of losing your data?`,options:["Always at least two different USB sticks","Save a copy of the data on your institutional network server which is backed up daily","Always at least 2 online copies","Save a copy of the data on Dropbox"]},books:{title:"Data Cleaning Versions",question:`Data cleaning completed which version to use? 

VERSION A: hotel_cleaned_quick.csv
- 347 empty cells filled with "0" 
- 89 duplicates deleted 
- Original file overwritten (save storage space)
- Ready for analysis

VERSION B: hotel_cleaned_documented.csv
- 347 empty cells marked as "NA"
- 89 duplicates removed
- Raw data saved separately as "hotel_raw_backup.csv"
- All steps documented in "cleaning_protocol.txt"
- Ready for analysis

VERSION C: hotel_cleaned_fast.csv
- All rows with empty cells completely deleted (521 hotels gone!)
- Very clean data
- Fast processing possible
- Original deleted`,options:["Version A: hotel_cleaned_quick.csv","Version B: hotel_cleaned_documented.csv","Version C: hotel_cleaned_fast.csv"]},cabinet:{title:"File Naming Chaos",question:`Help! 

The project folder contains these files mixed up:

- hotel data 2024-03-15 v1.csv
- HOTEL-ANALYSIS_FINAL!!!.xlsx
- hotel_survey_20240315_AG_v01.csv
- Final Results (copy).pdf
- hotel_data_FINAL_FINAL.xlsx

The team is completely confused:
- Nobody knows which file is current
- Spaces and special characters everywhere
- No consistent versioning
- Date sometimes there, sometimes not

Which file most closely complies with recommended naming conventions?`,options:["hotel data 2024-03-15 v1.csv","HOTEL-ANALYSIS_FINAL!!!.xlsx","hotel_survey_20240315_AG_v01.csv","Final Results (copy).pdf","hotel_data_FINAL_FINAL.xlsx"]},mouse:{title:"RDM Lifecycle Order",question:`Chaos! The RDM roadmap is all mixed up!

Your colleague left 6 Post-its, but the wind blew them off the monitor:

(1) "Data processing and analysis"
(2) "Project design and planning"
(3) "Data collection/creation"
(4) "Data reuse"
(5) "Data preservation and archiving"
(6) "Data sharing"

According to the RDM lifecycle: In which order should these 6 phases be executed?`,options:[" -  -  -  -  - "," -  -  -  -  - "," -  -  -  -  - "," -  -  -  -  - "],sequenceHint:{title:" UNLOCK SEQUENCE REVEALED:",subtitle:"The Post-it colors show the final unlock order:",steps:["1st:  Planning","2nd:  Collection","3rd:  Analysis","4th:  Archive","5th:  Sharing","6th:  Reuse"]}},server:{title:"Repository Selection",question:"You are looking for a repository to share your data. Among the criteria below, which one will you NOT use to guide your choice?",options:["The ability to choose access conditions for the data","Assignment of a unique identifier (DOI)","The ability to choose a reuse license","The ability to use multiple open file formats","A clear long-term preservation policy","The beauty of the interface"]},phone:{title:"Data Documentation",question:"Several files can be used to document your research project. Among the following options, which one is NOT directly related to data documentation?",options:["README file","Data Management Plan (DMP)","Codebook","Research protocol","Slides presented at a conference"]}},modal:{completed:" COMPLETED - Review Mode",correctAnswer:"Correct Answer:",close:"Close",submit:"Submit"},success:{title:"Deadline Extension Granted!",message:"Congratulations! You've successfully demonstrated your data management skills and saved your holiday. You can submit your project on 30 January.",continue:"Return to End Screen"},errors:{incorrectAnswer:"Incorrect answer. Please try again."}},RL={startScreen:aL,intro:lL,congrats:cL,timer:uL,phone:dL,roadmap:hL,tutorial:fL,riddle:pL,riddle1:mL,riddle2:gL,riddle3:_L,riddle4:vL,riddle5:yL,riddle6:bL,hints:CL,level1:wL,level2:EL,level3:SL,level4:IL,level5:xL,level6:TL,click:kL,endScreen:AL,emergencyGame:NL},PL={title:"BIENVENUE DANS VOTRE MISSION GDR",subtitle:"Un jeu srieux pour apprendre la GDR (Gestion des Donnes de Recherche). Bonne chance !",enterName:"Entrez votre nom :",namePlaceholder:"Votre nom",startGame:"Dmarrer le jeu",tutorial:"Tutoriel",nameError:"Votre nom ne peut que contenir des lettres et des chiffres"},LL={text:`Vous faites partie dune jeune quipe de recherche d'un institut en tourisme en Suisse et prvoyez de vous lancer dans un projet de recherche sur lhtellerie en Suisse.

Votre collgue, Anne, avec son quipe, a dj men une tude sur le sujet. Contrairement  elle, vous ntes pas au clair sur les besoins lis  la gestion de vos donnes, car vous n'avez pu participer  la formation de la Bibliothque sur la thmatique de la gestion des donnes de la recherche.

Votre collgue part en vacances en Amazonie cet aprs-midi. Juste avant son dpart, elle rdige rapidement lbauche dune feuille de route avec les grandes tapes pour mener  bien votre projet et assurer une gestion adquate de vos donnes.

Comme son avion va bientt dcoller, elle na pas le temps de terminer et vous propose de vous installer  son bureau o vous trouverez toutes les informations pour complter la liste quelle a commence,  condition de fouiller un peu dans ses affaires et celles de son quipe...

Heureusement, vous pouvez aussi compter sur Santiago, le spcialiste en information documentaire qui travaille dans la bibliothque de votre institution, Ins, linformaticienne, ainsi que Jack le juriste, qui vous aideront pendant votre qute.

Mais attention, il ne reste quune heure avant la fermeture de linstitut pour les vacances de Nol, il vous faut donc sortir avant cela si vous ne voulez pas y rester coincs !`,continue:"Continuer"},OL={title:"Flicitations !",subtitle:"Niveau {level} Termin !",achievement:"Vous avez dbloqu un badge !",message:"Vous avez termin avec succs tous les objectifs de ce niveau !",continue:"Continuer",timeMessage:"Vous avez pris {time} pour le niveau {level}.",averageMessage:" La moyenne pour ce niveau est de {avgTime}.",fastMessage:" Excellent ! Vous l'avez rsolu avec une grande concentration !",thoroughMessage:" Bien jou ! Prendre son temps pour rsoudre les nigmes en profondeur, c'est formidable !",noDataMessage:" Fantastique travail pour terminer le niveau !"},ML={title:"Tutoriel",subtitle:"Dans ce jeu, vous dcouvrirez les bases de la gestion des donnes de recherche (GDR)  travers une srie de dfis. Votre mission: complter votre feuille de route afin d'obtenir un guide simple en tapes sur la gestion des donnes de la recherche.",instructions:"Observez minutieusement votre environnement, reprez les chiffres, les lments cliquables et les indices qui vous permettront de progresser dans le jeu afin d'identifier les tches de gestion des donnes qui complterons votre feuille de route.",step1:"Votre tlphone vous permettra d'entrer les chiffrs trouvs et demander de l'aide.",step2:"Une quipe de trois spcialistes vous accompagnera dans votre qute: Santiago, le spcialiste en information documentaire, Ins, l'informaticienne et Jack, le juriste.",step3:"En cliquant sur la feuille de route, vous verrez les tapes du cycle de vie des donnes dj compltes.",step4:"Vous tes dsormais prt-e-s  relever le dfi de Mission GDR ! A vous de jouer !",backToStart:"Retour"},DL={penaltyWarning:"Avertissement de Pnalit de Temps",hintPenaltyWarning:"Utiliser un indice ajoutera 30 secondes  votre chronomtre. tes-vous sr de vouloir continuer ?",solutionPenaltyWarning:"Consulter la solution ajoutera 60 secondes  votre chronomtre. tes-vous sr de vouloir continuer ?",acceptPenalty:"Accepter la Pnalit",cancel:"Annuler"},$L={help:"AIDE",close:"Fermer",solution:"SOLUTION",placeholder:"Code",delete:"",enter:"Valider",callUnavailable:"Je ne peux pas parler pour le moment. Essayez de m'appeler plus tard.",call1:`Hello {playerName} ! Vous avez besoin d'aide en ce qui concerne les conventions de nommage ? Voici quelques conventions de nommage qui pourraient vous aider :

 Choisir un nom de fichier court et significatif : max 32 caractres, commencer par l'lment le plus important et utiliser des abrviations prdfinies pour rduire le nombre de caractres.

 Le nom du fichier doit contenir le sujet, la date et la version. viter les caractres spciaux, la ponctuation et les caractres accentus.

 viter les espaces entre les mots; utiliser le tiret soulign (underscore) "_" et des majuscules. Indiquer les dates dans le bon format comme AAAAMMJJ ou AAAA-MM-JJ.

 Indiquer les versions comme V05 ou VF pour version finale. 

Bonne chance et n'hsitez pas  me rappeler si vous avez besoin d'aide !`,call2:`Hello {playerName} ! Je vais vous expliquer cela par tlphone. Afin de nettoyer les donnes, il faut liminer les champs superflus et faciliter leur analyse en assurant leur standardisation. 

Pour cela, plusieurs logiciels peuvent tre utiliss. Cela dpend du type de donnes, de leur quantit, des ressources  disposition, des connaissances de lquipe. Voici quelques exemples d'outils gratuits: OpenRefine ou R. 

Comment nettoyer les donnes ?

 Identifier les donnes essentielles (p. ex. supprimer certains champs ajouts automatiquement par le systme de gestion utilis pour la collecte)
 Identifier et liminer les doublons
 Rsoudre les valeurs vides
 Assurer la cohrence des donnes (toutes les donnes de mme type doivent avoir la mme forme)

Attention : gardez toujours une version brute de votre fichier, et notez toutes les tapes de nettoyage pour assurer la transparence et la reproductibilit de votre dmarche !  

Ajoutez le fichier correct au logiciel d'analyse. 

Bonne chance et n'hsitez pas  m'appeler si vous avez besoin d'aide !`,call3:`Hello {playerName} ! Je vous donne quelques informations sur les formats de fichiers ouverts. 

Un format ouvert est un format de fichier pouvant tre lu par plusieurs logiciels. Lutilisation de formats ouverts a deux objectifs principaux :

 Assurer un accs  vos documents sans vous soucier du logiciel utilis par les personnes qui les consulteront dans le futur.
 Assurer la prennit de vos documents, afin de pouvoir les ouvrir mme si le logiciel utilis pour les crer nest pas disponible ou nexiste plus.

Je vous enverrai un e-mail contenant des informations supplmentaires sur les diffrents types de formats et les extensions de formats de fichiers. Cela vous aidera. A bientt !`,call4:`Bonjour {playerName}, 

Pendant un projet de recherche, de nombreuses donnes sont cres et il nest pas possible de toutes les archiver/conserver, pour plusieurs raisons : 

 Cots lis  larchivage 
 Plus le volume de donnes archives est lev, plus leur dcouverte est complique 
 Cots lis au maintien et  la cration de mtadonnes 

 Il est donc ncessaire de 4.2 identifier la valeur des donnes et les donnes  conserver 

Vous vous demandez peut-tre comment valuer les donnes et slectionner lesquelles doivent tre archives ?  Cela dpend de nombreux critres. Je vous envoie le fichier qui explique tous les dtails. 

 bientt !`,call5:`Bonjour {playerName}, 

Je vous appelle pour vous donner plus d'informations. 

Il est ncessaire de 4.3 ajouter des mtadonnes adquates aux donnes stockes, afin de permettre leur recherche et leur dcouverte. Les mtadonnes sont gnralement prsentes comme des donnes  propos des donnes.

Il existe plusieurs types de mtadonnes :

 Mtadonnes descriptives : titre, sujet, crateurs des donnes 
 Mtadonnes administratives : formats de fichiers, versions, droits de rutilisation 
 Mtadonnes structurelles : relations avec dautres entits, liste de variables

Je vous envoie un exemple de mtadonnes du projet de vos collgues au format XML. Rappelez-moi ds que vous avez reu l'exemple.`,call6:`Merci d'avoir rappel {playerName} ! 

A linverse de la documentation des donnes qui a pour objectif dtre interprtable par des humains uniquement, les mtadonnes doivent pouvoir tre lues par des machines afin de permettre leur dcouverte sur le web, cest pourquoi elles sont souvent dcrites en XML. 

Des outils peuvent aider les quipes  rdiger leurs mtadonnes au format XML, par exemple le Datacite Metadata Generator. 

Ce sont des renseignements standardiss. Il en existe de nombreux schmas, disciplinaires ou gnralistes. 

Bon, j'espre que a a clairci les choses ! Il faut que j'y aille, les courses de Nol ne se font pas toutes seules. Oh, et avant que j'oublie, additionnez tous les chiffres SEULEMENT des indications d'annes pour continuer,  plus tard !`,call7:`Hello {playerName}, 

Oui, je me souviens qu'ils ont en effet hsit...

 Laissez-moi rflchir...

 Je me souviens, finalement, lquipe a choisi un dpt gratuit et ayant ses serveurs en Suisse.

Ajoutez 70 au numro du dpt choisi. 

 Bonne chance pour la suite !`,call8:`Bonjour, Jack  l'appareil. 

Ah, oui {playerName}, la discussion sur les creative commons et le droit d'auteur. Je me souviens

 Permettez-moi tout d'abord de vous aider avec quelques mots. Les licences creative commons sont des licences de diffusion qui permettent d'accorder  l'avance certains droits d'utilisation sur les uvres diffuses mais elles restent complmentaires au droit d'auteur. 

 Je vous enverrai un petit aperu des options de licence. Il y a des icnes, des formulations juridiques et toutes ces bonnes choses.`,call9:`Hello {playerName}, 

jai entendu dire que tu avais besoin dun coup de main avec les identifiants, cest bien a ? Laisse-moi taider.

Il existe deux types didentifiants : 
 identifiants objet pour les publications et les donnes
 identifiants contributeur pour les auteur-e-s et les institutions

Voici des exemples didentifiants
  Handle 20.1000/100
  DOI doi:10.1000/182
  ORCID 0000-0002-1825-0097
  ArXiv author ID arXiv:0706.0001

Par exemple, Handle et DOI sont des identifiants dobjets numriques. Alors que ORCID et ArXiv author ID sont des identifiants de contributeurs. 

 Bonne chance !`,hoverCall:"Appeler",codeAlreadyFound:"Dj trouv",codeFound:"Code correct",invalidCode:"Code incorrect",messageBodylvl1:`Bonjour {playerName}, 

Le DMP ou Plan de gestion de donnes est un document qui est rdig dans la phase prliminaire dun projet puis complt au fur et  mesure de lavance de la recherche. Il aide  organiser et anticiper toutes les tapes du cycle de vie de la donne. Il explique comment les donnes du projet sont gres, de la cration jusquau partage et  larchivage.

Les tapes que vous allez dcouvrir dans la suite de vos investigations vont vous permettre de comprendre comment bien remplir chaque partie du DMP.

Bonne chance !`,messageBodylvl2:`Bonjour {playerName}, 

Un de nos collgues a enregistr plusieurs versions des donnes recueillies via le questionnaire pendant le processus de nettoyage. Je vous les envoie tout de suite. Pourriez-vous, sil vous plat, les analyser ? Parmi les trois, quelle version est la plus propre ? Quelle option pourrions-nous ajouter au logiciel danalyse ? C'est plus simple si je vous explique par tlphone. Je vous appelle tout de suite.`,messageBodylvl3:`Bonjour {playerName}, 

En rsum, lorsque les quipes de recherche se prparent  archiver leurs donnes, elles doivent sassurer de choisir des formats qui sont : 

 ouverts 
 non chiffrs 
 non compresss 
 utiliss et reconnus dans leur domaine 
 interoprables 

J'espre que cela vous a aid !  bientt !`,messageBodylvl4:`Salut {playerName}, 

Je viens dembarquer! Jai  trop hte *.* Jai oubli de te prvenir : pour les infos sur le partage des donnes, consulte lordinateur de Rachel, il doit tre dans son bureau (le numro 47). Bonnes vacances! P.S: Noublie pas de rentrer chez toi avant la fermeture ;)`,incomingCall:"Appel entrant",outgoingCallRequired:"Appel requis",answerCall:"Appuyez pour rpondre",makeCall:"Appuyez pour passer l'appel",placeholderIncoming:"Rpondez d'abord...",placeholderOutgoing:"Appelez d'abord...",answerFirst:"Rpondre d'abord",callFirst:"Appeler d'abord",mustCallFirst:"Vous devez d'abord grer l'appel en attente !",endCall:"Terminer l'appel",media:"Tlphone portable",connection:"Connect"},FL={title:"Roadmap",entries:"Aucune entre pour l'instant...",complete:"Termin",step1:"tape 1. Elaboration et planification du projet",step1_1:"1.1 Rdiger le DMP",step1_1_A:"A. Informations administratives",step1_1_B:"B. Collecte des donnes",step1_1_C:"C. Documentation et mtadonnes",step1_1_D:"D. thique et conformit lgale",step1_1_E:"E. Stockage et sauvegarde",step1_1_F:"F. Slection et conservation",step1_1_G:"G. Partage des donnes",step1_1_H:"H. Responsabilits et ressources",step1_2:"1.2 Rgles de nommage et dorganisation des fichiers",step1_3:"1.3 Rflchir aux donnes produites ou rutilises",step1_4:"1.4 Rflchir aux aspects juridiques et thiques",step1_5:"1.5 Analyser les cots lis au stockage",step2:"tape 2. Collecte/cration des donnes",step2_1:"2.1 Stratgies de sauvegarde et de stockage",step2_2:"2.2 Collecter/acqurir des donnes",step2_3:"2.3 Documenter son projet",step3:"tape 3. Traitement et analyse des donnes",step3_1:"3.1 Nettoyer les donnes",step3_2:"3.2 Analyse des donnes",step3_3:"3.3 Visualisation des donnes ",step4:"Etape 4. Prservation et archivage des donnes",step4_1:"4.1 Utiliser des formats de fichiers ouverts",step4_2:"4.2 Identifier la valeur des donnes et les donnes  conserver",step4_3:"4.3 Ajouter des mtadonnes ",step4_4:"4.4 Anonymiser les donnes (si ncessaire)",step5:"Etape 5. Partage des donnes",step5_1:"5.1 Choisir un dpt de donnes",step5_2:"5.2 Dterminer les conditions daccs",step5_3:"5.3 Choix dun identifiant prenne",step5_4:"5.4 Attribuer une licence de rutilisation",step6:"Etape 6. Rutilisation des donnes",step6_1:"6.1 valuer la consultation et la rutilisation ",step6_2:"6.2 Prparer la citation du dataset"},zL={submit:"Soumettre"},HL={title1:"1.1 Rdiger le DMP",question1:`Essayez de rsoudre cette nigme pour trouver les premires tapes de la feuille de route. Utilisez ce que vous voyez ici pour trouver la rponse.

Entrez dans chaque champ de saisie une des tapes. Vous n'avez pas besoin d'utiliser 1.1., B., C., E., F. et G. dans vos rponses.

Bonne chance !`,placeholder1:"Entrez votre rponse ",placeholder2_1:"1.1.",placeholder2_2:"B.",placeholder2_3:"C.",placeholder2_4:"E.",placeholder2_5:"F.",placeholder2_6:"G.",correctAnswers1:["Rdiger le DMP","Collecte des donnes","Documentation et mtadonnes","Stockage et sauvegarde","Slection et conservation","Partage de donnes"],correct1:"Correct, bien jou !",incorrect1:"Incorrect, essayez  nouveau ! Vous n'avez pas besoin d'utiliser 1.1., B., C., E., F. et G. dans vos rponses."},qL={title:"Erreur",incorrect77:"Incorrect, essayez  nouveau ! Ce fichier n'utilise pas les meilleures pratiques de nommage. Il n'est pas recommand d'utiliser de la ponctuation dans les noms de fichiers.",incorrect82:"Incorrect, essayez  nouveau ! Ce fichier n'utilise pas les meilleures pratiques de nommage. Il existe une meilleure faon d'indiquer les versions d'un fichier.",incorrect25:"Incorrect, essayez  nouveau ! Ce fichier n'utilise pas les meilleures pratiques de nommage. Vous devriez viter d'utiliser des caractres spciaux et des espaces entre les mots."},jL={title:"Erreur",incorrect76:"Incorrect, ce fichier ne correspond pas  la meilleure version des donnes nettoyes. Les donnes sont compltement mlanges, certaines cellules sont vides sans explication et il y a des donnes dupliques.",incorrect78:"Incorrect, ce fichier ne correspond pas  la meilleure version des donnes nettoyes. Les donnes ne sont pas normalises, certaines cellules sont vides sans explication et il y a des donnes dupliques."},UL={title:"Erreur",incorrect:"Mauvaise rponse ! Essayez  nouveau !"},BL={title:"Erreur",incorrect93:"Mauvaise rponse ! Dans notre cas, les donnes doivent tre accessibles, en plus de la publication de larticle scientifique. En effet, lquipe de recherche a souhait tre conforme aux bonnes pratiques de lOpen Access. Essayez  nouveau !",incorrect94:"Mauvaise rponse ! Dans notre cas, lquipe de recherche ne peut pas rendre les donnes accessibles uniquement sur demande. Cette pratique ne respecte pas les recommandations de lOpen Access. Essayez  nouveau !",incorrect95:"Mauvaise rponse ! Dans notre cas, les donnes ne sont pas protges par un embargo. En effet, un embargo est utilis dans le cas o la publication se fait avant le partage des donnes. Cela peut tre le cas quand les donnes sont lies  des enjeux commerciaux, comme un brevet par exemple. Essayez  nouveau !"},VL={title:"Erreur",incorrect:"Mauvaise rponse ! Essayez  nouveau !"},WL={checkRoadmap:"Vrifiez votre feuille de route"},GL={hints:{first:"Besoin dune petite pause ? Un caf pourrait vous aider.",second:"Comptez les post-it sur le bureau.",third:"Regardez la date  laquelle vous devez rendre le DMP.",fourth:"Cest un message cod ! Lindice est crit directement  lendroit o vous entrez la solution. Utilisez le titre comme cl de dchiffrement. Entrez  nouveau le code 29 et essayez de le dchiffrer.",fifth:"Avez-vous vrifi l'explorateur de fichiers ? Essayez peut-tre de l'ouvrir.",sixth:"Lun des dossiers semble particulirement intressant.",seventh:"Quel fichier respecte le mieux les rgles de nommage prsentes par Santiago ?",eigth:"Vous avez organis la structure de votre projet... assurez-vous maintenant que l'accs est accord pour continuer."},solutions:{first:"Entrez le chiffre 8 (dans la tasse  caf).",second:"Il y a 4 grands post-it sur le bureau -> Entrez le chiffre 4.",third:"Entrez le chiffre 29 (dans le carnet de notes).",fourth:`Entrez le chiffre 29  nouveau et entrez la solution suivante:
Rdiger le DMP
donnes collectes
documentation et mtadonnes
stockage et sauvegarde
slection et conservation
partage des donnes`,fifth:"Cliquez sur l'icne de l'explorateur de fichiers  l'cran pour l'ouvrir.",sixth:`Cliquez sur le dossier "Dossier-Click-Version" pour l'ouvrir.`,seventh:"OFS_Continental_20200628_V01.png -> Entrez le chiffre 28.",eigth:`Cliquez sur le dossier "Acces_Accorde" pour passer a l'tape suivante.`}},YL={hints:{first:"Des cls peuvent aider  ouvrir des portes.",second:"Un petit peu de mathmatiques sera certainement ncessaire.",third:"Regardez les noms des feuilles, que pourrait contenir ce fichier... ... + celui-ci ?",fourth:"Parfois, les exemples sont le meilleur moyen de comprendre.",fifth:"Le bureau de rception est un bon point de dpart.",sixth:"Un petit peu de mathmatiques sera certainement ncessaire.",seventh:"Est-ce qu'il n'y a pas un indice derrire la plante ?",eighth:"Il va falloir marcher un peu."},solutions:{first:"Entrez le chiffre 9 (dans la bote  cls).",second:"Entrez le chiffre 15 (Numro de sauvegarde : 7,5 x 2).",third:"Entrez le chiffre 31 (Addition des deux noms de feuilles -> 15 + 16).",fourth:"Entrez le chiffre 1 (examp1e.odt).",fifth:"Entrez le chiffre 36 (R36CEPTION sur le bureau d'accueil).",sixth:"Entrez le chiffre 7 (3 + 2 + 1 + 1 = 7).",seventh:"Cliquez sur le post-it derrire la plante pour le lire.",eighth:"Entrez le chiffre 11 (11me tage)."}},KL={hints:{first:"Le livre pourrait vous donner un indice.",second:"Le chapitre du livre semble intressant.",third:"Avez-vous quelque chose de prvu pour ce mois ?",fourth:"Parfois, nous devons tre un peu patients avec la technologie.",fifth:"Avez-vous ouvert tous les fichiers qu'Ins vous a envoys ?",sixth:"Il semble que vous devez + un fichier pour commencer l'analyse",seventh:"Quelle marque d'ordinateur prfrez-vous ?",eighth:"L'infographie montre le nombre dhtels recenss.",ninth:"Avez-vous remarqu le tableau d'affichage derrire le bureau de votre collgue ?",tenth:"Contactez le service informatique."},solutions:{first:"Entrez le chiffre 17 (le titre du livre en chiffres romains).",second:"Entrez le chiffre 33 (le numro de chapitre dans le livre).",third:"Cliquez sur le 19 du mois dans le calendrier pour continuer.",fourth:"Soyez patient, parfois la technologie met un peu plus de temps  charger. Cela se chargera automatiquement dans quelques secondes.",fifth:"Entrez les chiffres 57, 58 et 59 (les trois fichiers qu'Ins vous a envoys).",sixth:"Entrez le chiffre 77 (le fichier correct (58) + le numro du pc (19)).",seventh:`Entrez le chiffre 22 ("marque d'ordinateur" sur le bureau).`,eighth:"Entrez le chiffre 64 (le numro est crit en gras sur l'infographie).",ninth:"Cliquez sur le post-it sur le tableau d'affichage pour le lire.",tenth:"Entrez le chiffre 99 (le numro de tlphone du service informatique sur le post-it)."}},QL={hints:{first:"Les crans pourraient tre utiles.",second:"Appelez Ins pour obtenir de l'aide.",third:"Ins vous a envoy des fichiers, les avez-vous vrifis ?",fourth:"Ins vous a envoy des fichiers, les avez-vous vrifis ?",fifth:"Trouvez tous les nombres dans la colonne  formats acceptables  et additionnez-les.",sixth:"Un logo peut parfois contenir des informations utiles.",seventh:"Appelez Santiago pour obtenir de l'aide.",eighth:"Santiago vous a envoy un e-mail, l'avez-vous vrifi ?",ninth:"Certaines lettres sont mises en vidence, que pourraient-elles signifier ?",tenth:"Santiago vous a envoy un e-mail, l'avez-vous vrifi ?",eleventh:"Rappelez Santiago pour obtenir des informations.",twelfth:"Santiago vous a donn un indice lors de l'appel, l'avez-vous vrifi ? (indice : 2020 = 2 + 0 + 2 + 0 = 4)",thirteenth:"Anne vous a envoy dans le message le numro du bureau o vous pouvez trouver l'ordinateur de Rachel. Pour relire le message, entrez le numro 99."},solutions:{first:"Cliquez sur l'explorateur de fichiers sur l'cran pour l'ouvrir.",second:"Cliquez sur l'icne pour appeler Ins et obtenir de l'aide.",third:"Entrez le numro 4 (FORM4T).",fourth:"Entrez le numro 51 (EXTEN51ONS).",fifth:"Entrez le numro 23 (5 + 4 + 2 + 3 + 3 + 3 + 3 = 23).",sixth:"Entrez le numro 81 (ct du bureau).",seventh:"Cliquez sur l'icne pour appeler Santiago et obtenir de l'aide.",eighth:"Entrez le numro 1 (un nouveau message).",ninth:"Entrez le numro 61 (lisez les lettres mises en vidence pour trouver le nombre soixante-et-un).",tenth:"Cliquez sur le message de Santiago pour le lire.",eleventh:"Cliquez sur l'icne pour appeler Santiago et obtenir des informations.",twelfth:"Entrez le numro 32 (additionnez tous les nombres des annes).",thirteenth:"Entrez le numro 47 (le numro du bureau o vous pouvez trouver l'ordinateur de Rachel)."}},JL={hints:{first:"Tous les chiffres ne se cachent pas dans les fichiers, certains sont dans les noms.",second:"L'histoire est grave sur l'cran.",third:"Appelez Santiago pour obtenir de l'aide.",fourth:"Santiago a expliqu comment l'quipe de recherche a choisi le dpt, avez-vous vrifi ?",fifth:"Jack vous a envoy un e-mail, l'avez-vous vrifi ?",sixth:"Jack a expliqu comment l'quipe de recherche a choisi les conditions d'accs, avez-vous vrifi ?",seventh:"Appelez Jack pour obtenir de l'aide.",eighth:"Jack vous a envoy un email, avez-vous lu le fichier pdf en pice jointe ?",ninth:"Laquelle des licences de rutilisation de droits d'auteur convient le mieux aux besoins de l'quipe de recherche ?",tenth:"Appelez Ins pour obtenir de l'aide.",eleventh:"Quel identifiant correspond  celui d'un jeu de donnes ? Ins vous l'a expliqu pendant l'appel. Rappelez-la si vous avez besoin de plus d'informations.",twelfth:"Est-ce Rachel qui a crit sur la tablette ? Cela semble intressant..."},solutions:{first:"Entrez le chiffre 3 (re3data.org sur l'cran)",second:"Entrez le chiffre 19 (CHICAGO COVID-19 RESPONSE sur l'cran).",third:"Appelez Santiago pour obtenir de l'aide.",fourth:"Entrez le chiffre 71 (seul dpt avec des serveurs en Suisse et gratuit).",fifth:"Cliquez sur l'e-mail de Jack pour le lire.",sixth:"Entrez le chiffre 96 (les donnes sont librement disponibles et accessibles  tous).",seventh:"Appelez Jack pour obtenir de l'aide.",eighth:"Entrez le chiffre 8 (CopyEIGHT.pdf au lieu de copyright).",ninth:"Entrez le chiffre 6 (celui-ci permet la rutilisation des donnes  condition qu'ils soient crdits pour le travail).",tenth:"Appelez Ins pour obtenir de l'aide.",eleventh:"Entrez le chiffre 84 (le DOI est correct).",twelfth:"Cliquez sur la tablette pour continuer."}},XL={hints:{first:"Pour mmoriser les choses, il est parfois utile de les crire.",second:"Parfois, il faut lire entre les lignes.",third:"J'ai l'impression qu'il y a des informations additionnelles caches quelque part...",fourth:"Ajoutez les vues et les tlchargements pour toutes les versions."},solutions:{first:"Entrez le chiffre 2 (2 stylos au total sur la table).",second:"Entrez le chiffre 1 (Premires lettres en gras de : O-bservation N-cessaire E-videmment = ONE).",third:`Cliquez sur l'cran sur "See more details" pour voir les informations additionnelles.`,fourth:"Entrez le chiffre 1323 (1169 + 154 = 1323)."}},ZL={one:"Cliquez pour ouvrir l'explorateur de fichiers",two:"Cliquez pour ouvrir le dossier",three:"On dirait que vous avez le bon accs...",four:"Est-ce que vous avez trouv un poste-it ?",five:"Cliquez pour voir le post-it de plus prs",six:"Cela pourrait tre une date intressante",seven:"Cliquez pour ouvrir le message",eight:"Cliquez pour voir la note de plus prs",nine:"Cliquez ici pour ouvrir"},e2={congratulations:"Flicitations !!",congratulationsMessage:"Flicitations !! Vous avez relev avec succs votre mission et complt votre feuille de route. Elle sera votre guide tout au long de votre propre projet. Vous avez fait du bon travail et vous pouvez enfin vous mettre en mode vacances ! Vous serez en forme en janvier, prt  vous attaquer  votre projet de recherche et  assurer une bonne gestion de vos donnes.",roadmapTitle:"Votre Feuille de Route de Recherche",roadmapDescription:"Cette feuille de route sera votre guide tout au long de votre propre projet.",contactTitle:"Contact et Commentaires",nameLabel:"Votre Nom",namePlaceholder:"Entrez votre nom complet",emailLabel:"Adresse Email",emailPlaceholder:"Entrez votre adresse email",messageLabel:"Message",messagePlaceholder:"Partagez vos commentaires, questions ou suggestions...",sendMessage:"Envoyer le Message",sending:"Envoi en cours...",messageSent:"Message est en cours de traitement...",messageError:"Dsol, une erreur s'est produite lors de l'envoi. Veuillez ressayer.",theoryTitle:"Guide thorique complmentaire",theoryDescription:"Tlchargez notre guide complmentaire qui reprend toute la thorie prsente dans ce jeu ou accdez aux sources et documents de la version originale.",viewPDF:"Voir le guide complmentaire",openLink:"Voir le jeu original",optional:"RECOMMAND",testGameTitle:"Dfi de Connaissances",testGameDescription:"Testez votre comprhension avec 6 questions sur ce que vous avez appris.",challenge:"Dfi",quickTest:"15 min",startTest:"Commencer le Dfi",testGameNote:"C'est compltement optionnel mais fortement recommand pour renforcer votre apprentissage !",backToMenu:"Retour au Menu Principal",EndMsg:"Ce jeu est bas sur<a href='https://doi.org/10.5281/zenodo.6391188' target='_blank' rel='noopener'> le jeu d'vasion pdagogique ponyme</a> cr par <a href='https://orcid.org/0000-0001-8197-4613' target='_blank' rel='noopener'>Myriam Jouhar</a>, <a href='https://orcid.org/0000-0002-4833-5219' target='_blank' rel='noopener'>Alexia Cavin-Trombert</a> et <a href='https://orcid.org/0000-0003-2250-9070' target='_blank' rel='noopener'>Pauline Melly</a> dans le cadre d'un projet de recherche du Master en Sciences de l'information  la Haute cole de gestion de Genve en 2021. Traduction en anglais : <a href='https://orcid.org/0000-0002-4833-5219' target='_blank' rel='noopener'>Alexia Cavin-Trombert</a>, <a href='https://orcid.org/0000-0003-2250-9070' target='_blank' rel='noopener'>Pauline Melly</a>, <a href='https://orcid.org/0009-0008-6035-7673' target='_blank' rel='noopener'>Marie-Catherine Beaulieu</a> et <a href='https://orcid.org/0000-0003-2571-8812' target='_blank' rel='noopener'>Jolanda Elmers</a>. Traduction en allemand : <a href='https://www.uni-augsburg.de/de/organisation/bibliothek/' target='_blank' rel='noopener'>Universittsbibliothek Augsburg</a>, Lara Kostov, Michaela Beisser, Janine Isola et <a href='https://orcid.org/0000-0002-4946-6544' target='_blank' rel='noopener'>Evamaria Krause</a>. Cette version numrique a t cre par Johanna Summermatter dans le cadre d'un mmoire de Bachelor en informatique de gestion en 2025  la HES-SO Valais-Wallis sur mandat des cratrices du jeu.",EndMsg2:"Merci d'avoir jou !"},t2={title:"URGENT : EMAIL du 23.12  17:45 DU FONDS NATIONAL SUISSE",subtitle:"TEST DES COMPETENCES GDR",description:"Cliquez sur les objets pour tester vos comptences. Si besoin, aidez-vous du <a href='https://hevs.allinone.io/media/document/22/mission-gdr-2024-guide-complementaire.pdf' target='_blank' rel='noopener'>guide complmentaire.</a>",introduction:{message:`Rappel : N'oubliez pas d'envoyer votre dpt de projet prliminaire avant le 1e janvier.

Pour obtenir un dlai supplmentaire, merci de nous transmettre une preuve de vos comptences en gestion des donnes de recherche.`,context:"Vous entendez les cls du garde de scurit tinter dans le couloir. Le btiment ferme  18h00 prcises. Vous devez vraiment partir avant cette heure-l et avec tous les repas de ftes prvus la semaine prochaine il ne vous sera pas possible de dposer votre projet prliminaire dans ce dlai.",urgency:"Heureusement, vous avez maintenant complt votre checklist et reu les conseils de Santiago, Ins et Jack.",security:"Faites le test pour dmontrer vos nouvelles comptences en gestion des donnes et obtenir le dlai supplmentaire.",return:"Ne pas faire le test maintenant (retour page de fin)",handleMyself:"Raliser le test"},timer:{timeRemaining:"Temps Restant"},quizzes:{computer:{title:"Crise de sauvegarde des donnes",question:`Vous avez travaill sur votre analyse de donnes la semaine dernire dans le train. Votre fichier est stock sur votre ordinateur portable personnel. Par scurit, vous avez galement fait une sauvegarde sur votre cl USB. 

Malheureusement, en quittant le train, vous avez oubli votre sac  dos (avec votre ordinateur portable et votre cl USB) dans le train. Aprs une semaine, il n'a toujours pas t retrouv, ce qui signifie que vous devrez recommencer la phase de collecte de donnes de votre projet. 

Selon la rgle 3-2-1-1-0, qu'auriez-vous d faire pour minimiser le risque de perte de vos donnes ?`,options:["Toujours avoir au moins deux cls USB diffrentes","Sauvegarder une copie des donnes sur le serveur rseau de votre institution qui est sauvegard quotidiennement","Toujours avoir au moins 2 copies en ligne","Sauvegarder une copie des donnes sur Dropbox"]},books:{title:"Versions de nettoyage des donnes",question:`Nettoyage des donnes termin, quelle version utiliser ? 

VERSION A : hotel_cleaned_quick.csv
- 347 cellules vides remplies avec "0" 
- 89 doublons supprims 
- Fichier original cras (conomiser l'espace de stockage)
- Prt pour l'analyse

VERSION B : hotel_cleaned_documented.csv
- 347 cellules vides marques comme "NA"
- 89 doublons supprims
- Donnes brutes sauvegardes sparment comme "hotel_raw_backup.csv"
- Toutes les tapes documentes dans "cleaning_protocol.txt"
- Prt pour l'analyse

VERSION C : hotel_cleaned_fast.csv
- Toutes les lignes avec cellules vides compltement supprimes (521 htels perdus !)
- Donnes trs propres
- Traitement rapide possible
- Original supprim`,options:["Version A : hotel_cleaned_quick.csv","Version B : hotel_cleaned_documented.csv","Version C : hotel_cleaned_fast.csv"]},cabinet:{title:"Chaos de nommage des fichiers",question:`Au secours ! 

Le dossier de projet contient ces fichiers mlangs :

- hotel data 2024-03-15 v1.csv
- HOTEL-ANALYSIS_FINAL!!!.xlsx
- hotel_survey_20240315_AG_v01.csv
- Final Results (copy).pdf
- hotel_data_FINAL_FINAL.xlsx

L'quipe est compltement perdue :
- Personne ne sait quel fichier est actuel
- Des espaces et caractres spciaux partout
- Aucun versionnage cohrent
- Date parfois prsente, parfois absente

Quel fichier respecte le mieux les conventions de nommage recommandes ?`,options:["hotel data 2024-03-15 v1.csv","HOTEL-ANALYSIS_FINAL!!!.xlsx","hotel_survey_20240315_AG_v01.csv","Final Results (copy).pdf","hotel_data_FINAL_FINAL.xlsx"]},mouse:{title:"Ordre du cycle de vie RDM",question:`Chaos ! La feuille de route RDM est compltement mlange !

Votre collgue a laiss 6 Post-its, mais le vent les a fait s'envoler de l'cran :

(1) "Traitement et analyse des donnes"
(2) "Conception et planification du projet"
(3) "Collecte/cration des donnes"
(4) "Rutilisation des donnes"
(5) "Prservation et archivage des donnes"
(6) "Partage des donnes"

Selon le cycle de vie RDM : Dans quel ordre ces 6 phases doivent-elles tre excutes ?`,options:[" -  -  -  -  - "," -  -  -  -  - "," -  -  -  -  - "," -  -  -  -  - "],sequenceHint:{title:" SQUENCE DE DVERROUILLAGE RVLE :",subtitle:"Les couleurs des Post-its montrent l'ordre final de dverrouillage :",steps:["1er :  Planification","2e :  Collecte","3e :  Analyse","4e :  Archivage","5e :  Partage","6e :  Rutilisation"]}},server:{title:"Slection d'entrept",question:"Vous cherchez un entrept pour partager vos donnes. Parmi les critres ci-dessous, lequel n'utiliserez-vous PAS pour guider votre choix ?",options:["La possibilit de choisir les conditions d'accs aux donnes","L'attribution d'un identifiant unique (DOI)","La possibilit de choisir une licence de rutilisation","La possibilit d'utiliser plusieurs formats de fichiers ouverts","Une politique claire de prservation  long terme","La beaut de l'interface"]},phone:{title:"Documentation des donnes",question:"Plusieurs fichiers peuvent tre utiliss pour documenter votre projet de recherche. Parmi les options suivantes, laquelle n'est PAS directement lie  la documentation des donnes ?",options:["Fichier README","Plan de gestion des donnes (PGD)","Livre de codes","Protocole de recherche","Diapositives prsentes lors d'un colloque"]}},modal:{completed:" TERMIN - Mode Rvision",correctAnswer:"Rponse Correcte :",close:"Fermer",submit:"Soumettre"},success:{title:"Dlai supplmentaire accord !",message:"Flicitations ! Vous avez dmontr avec succs vos comptences en gestion des donnes et sauv vos vacances. Vous pourrez dposer votre projet le 30 janvier.",continue:"Retour  la page de fin"},errors:{incorrectAnswer:"Rponse incorrecte. Veuillez ressayer."}},n2={startScreen:PL,intro:LL,congrats:OL,tutorial:ML,timer:DL,phone:$L,roadmap:FL,riddle:zL,riddle1:HL,riddle2:qL,riddle3:jL,riddle4:UL,riddle5:BL,riddle6:VL,hints:WL,level1:GL,level2:YL,level3:KL,level4:QL,level5:JL,level6:XL,click:ZL,endScreen:e2,emergencyGame:t2},s2=H0({locale:localStorage.getItem("lang")||"en",fallbackLocale:"en",messages:{en:RL,fr:n2}}),Zo=Ov(zv);Zo.use(Hv());Zo.use(Hi);Zo.use(s2);Zo.mount("#app");
